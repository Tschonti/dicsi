{"version":3,"sources":["actions/types.js","util.js","reducers/playlistReducer.js","reducers/searchListReducer.js","reducers/authReducer.js","reducers/modalReducer.js","reducers/index.js","reducers/songsReducer.js","reducers/alertReducer.js","reducers/playlistListReducer.js","components/MyTooltip.js","components/Page.js","components/MyLoader.js","components/SearchBar.js","components/MyButton.js","api.js","history.js","actions/songActions.js","actions/playlistActions.js","actions/alertActions.js","components/screens/SongList.js","components/MyModal.js","actions/modalActions.js","components/screens/SongForm.js","components/screens/SongCreate.js","components/screens/SongEdit.js","components/screens/SongShow.js","actions/authActions.js","components/screens/Login.js","components/PlaylistItem.js","components/screens/PlaylistList.js","components/Footer.js","components/Header.js","components/PlaylistForm.js","components/Playlist.js","components/App.js","index.js"],"names":["FETCH_SONGS","UPDATE_WITH_WRONG_ID","UPDATE_WITH_ID","UPDATE_WITH_TERM","CANCEL_SEARCH","FETCH_SONG","CREATE_SONG","EDIT_SONG","DELETE_SONG","NEW_ALERT","REMOVE_ALERT","ADD_TO_PLAYLIST","REMOVE_FROM_PLAYLIST","PLAYLIST_NEXT","PLAYLIST_STEP","START_PLAYLIST","STOP_PLAYLIST","CLEAR_PLAYLIST","TOGGLE_VISIBILITY","MOVE_IN_PLAYLIST","SAVE_PLAYLIST","FETCH_PLAYLISTS","LOAD_PLAYLIST","UNLOAD_PLAYLIST","DELETE_PLAYLIST","REPLACE_PLAYLIST","REPLACE_PLAYLIST_IN_LIST","OPEN_MODAL","CLOSE_MODAL","LOGIN","LOGOUT","RECOVER_STATE","handleError","err","dispatch","response","status","type","payload","msg","concat","statusText","console","error","setTimeout","setTimeoutToRemoveAlert","sortSongs","songs","field","sort","fEl","sEl","addToPlaylistReducer","playlist","newSongId","_objectSpread","_toConsumableArray","removeFromPlaylistReducer","idToRemove","remIdx","indexOf","curIdx","currentIndex","length","clonedState","splice","removeFromPlaylistReducerNoIndex","filter","songId","moveInPlaylistReducer","up","index","otherIndex","temp","diff","moveInPlaylistReducerNoIndex","addPlacesToPlaylist","map","song","idx","place","removePlacesFromPlaylist","a","b","BASE_URL","FULL_URL","defaultState","active","visible","loaded","undefined","loadedName","list","validSearch","signedIn","token","open","id","combineReducers","state","arguments","action","_","mapKeys","_defineProperty","omit","searchList","uniq","alert","form","formReducer","name","modifiable","modal","auth","playlistList","listOfIds","pl","MyTooltip","isMobile","_jsx","ReactTooltip","effect","Page","props","useEffect","window","scrollTo","path","children","MyLoader","_jsxs","className","Loader","color","SearchBar","_useState","useState","_useState2","_slicedToArray","value","setValue","_useState3","_useState4","debouncedValue","setDebouncedValue","_useState5","_useState6","lyricsToo","setLyricsToo","timeOut","clearTimeout","isNaN","term","cancel","onChange","e","target","placeholder","tabIndex","checked","htmlFor","MyButton","icons","icon","tip","onClick","stopPropagation","disabled","text","db","axios","create","baseURL","createBrowserHistory","fetchSongs","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_context","prev","next","get","sent","data","t0","stop","_x","apply","fetchSong","_ref2","_callee2","_context2","_x2","patchPlaylist","getState","localResult","playlistId","res","patch","headers","_x3","_x4","addToPlaylist","includes","_x5","_x6","removeFromPlaylist","_ref3","_callee3","playlistToRemoveFrom","_context3","find","_x7","_x8","playlistNext","history","push","stopPlaylist","clearPlaylist","_ref4","_callee4","_context4","delete","_x9","_x10","toggleVisibility","moveInPlaylist","_ref5","_callee5","playlistToMoveIn","_context5","_x11","_x12","loadPlaylist","_ref8","_callee8","_context8","_x16","newAlert","removeAlert","SongList","_React$Component","_inherits","_super","_createSuper","_this","_classCallCheck","_len","args","Array","_key","call","sortById","event","preventDefault","renderSmallButtons","isMobileOnly","renderSong","Link","to","title","_createClass","key","this","isEmpty","setState","_this2","empty","location","pathname","findId","searchSongs","cancelSearch","React","Component","connect","Object","values","inTitle","inLyrics","openModal","closeModal","Alert","onClose","severity","Modal","onOpen","trigger","generateTrigger","Header","header","Content","Description","Actions","Button","closeText","content","approveText","onApprove","negative","primary","renderInput","input","label","meta","wide","touched","autoComplete","renderError","renderTextArea","reduxForm","validate","formValues","errors","lyrics","_Fragment","onSubmit","handleSubmit","Field","component","edit","MyModal","onDeleteClick","initialValues","SongCreate","plVisible","biggestID","SongForm","createSong","Math","max","formData","post","parseInt","split","join","log","SongEdit","match","params","editSong","verses","deleteSong","ownProps","_ref6","_callee6","_context6","_ref7","_callee7","_context7","SMALL_FONT_SIZE","SongShow","fontSize","deleteModalActive","deletePassword","oneVerseModeActive","currentVerse","showButtons","twoColumnMode","handleKeyDown","code","handleVerseChange","onSizeChange","increase","handleModeSwitch","forward","handleFontSizeReset","onPlaylistAdd","renderLine","line","Fragment","renderVerse","verse","lines","style","renderVerses","firstColumn","ceil","secondColumn","renderButtons","editButton","desktopButton","optionalButtons","renderTitle","prevProps","onKeyDown","logout","Cookies","remove","maxAge","username","password","login","set","goBack","playlistStep","upDisabled","downDisabled","unmodifiable","PlaylistList","activePlaylist","fetchPlaylists","navigator","clipboard","writeText","date","Date","parse","toLocaleDateString","Accordion","fluid","styled","Title","handleClick","Icon","generateDateAdded","created_at","copyLink","PlaylistItem","_x15","authLink","rel","href","menuOpen","setMenuOpen","newSong","Playlist","renderSongList","el","extraButtons","PlaylistForm","savePlaylist","unloadPlaylist","startPlaylist","_x13","_x14","App","tokenCookie","loginFromCookie","recoverState","Router","Switch","Route","exact","Login","render","Footer","store","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","applyMiddleware","save","states","debounce","reduxThunk","composeEnhancers","createStore","createStoreWithMiddleware","combinedReducer","load","ReactDOM","Provider","document","getElementById"],"mappings":"kPAAaA,EAAc,cACdC,EAAuB,uBACvBC,EAAiB,iBACjBC,EAAmB,mBACnBC,EAAgB,gBAChBC,EAAa,aACbC,EAAc,cACdC,EAAY,YACZC,EAAc,cAEdC,EAAY,YACZC,EAAe,eAEfC,EAAkB,kBAClBC,EAAuB,uBACvBC,EAAgB,gBAChBC,EAAgB,gBAChBC,EAAiB,iBACjBC,EAAgB,gBAChBC,EAAiB,iBACjBC,EAAoB,oBACpBC,EAAmB,mBACnBC,EAAgB,gBAChBC,EAAkB,kBAClBC,EAAgB,gBAChBC,EAAkB,kBAClBC,EAAkB,kBAClBC,EAAmB,mBACnBC,EAA2B,2BAE3BC,EAAa,aACbC,EAAc,cAEdC,EAAQ,QACRC,EAAS,SAETC,EAAgB,gB,QC7BhBC,EAAc,SAACC,EAAKC,GACxBD,EAAIE,SAG0B,MAAxBF,EAAIE,SAASC,QAA0C,MAAxBH,EAAIE,SAASC,OACnDF,EAAS,CAACG,KAAM5B,EAAW6B,QAAS,CAACC,IAAK,yBAA0BF,KAAM,WAC3C,MAAxBJ,EAAIE,SAASC,OACpBF,EAAS,CAACG,KAAM5B,EAAW6B,QAAS,CAACC,IAAK,kDAAoCF,KAAM,YAEpFH,EAAS,CAACG,KAAM5B,EAAW6B,QAAS,CAACC,IAAI,GAADC,OAAKP,EAAIE,SAASC,OAAM,MAAAI,OAAKP,EAAIE,SAASM,YAAcJ,KAAM,WACtGK,QAAQC,MAAMV,EAAIE,YARlBD,EAAS,CAACG,KAAM5B,EAAW6B,QAAS,CAACC,IAAK,iBAAkBF,KAAM,WAClEK,QAAQC,MAAMV,IAPU,SAACC,GAC7BU,YAAW,kBAAMV,EAAS,CAACG,KAAM3B,MAAgB,KAejDmC,CAAwBX,IAGfY,EAAY,SAACC,EAAOC,GAC7BD,EAAME,MAAK,SAACC,EAAKC,GACb,OAAID,EAAIF,GAASG,EAAIH,IACT,EACDE,EAAIF,GAASG,EAAIH,GACjB,EACF,MAIJI,EAAuB,SAACC,EAAUC,GAC3C,OAAAC,wBAAA,GAAYF,GAAQ,IAAEN,MAAM,GAADP,OAAAgB,YAAOH,EAASN,OAAK,CAAEO,OAGzCG,EAA4B,SAACJ,EAAUK,GAChD,IAAMC,EAASN,EAASN,MAAMa,QAAQF,GACtC,IAAgB,IAAZC,EACA,OAAON,EAEX,IAAIQ,EAASR,EAASS,cACjBH,EAASE,GAAUF,IAAWN,EAASN,MAAMgB,OAAS,IAAMF,EAAS,IACtEA,GAAU,GAEd,IAAMG,EAAWR,YAAOH,EAASN,OAEjC,OADAiB,EAAYC,OAAON,EAAQ,GAC3BJ,wBAAA,GAAYF,GAAQ,IAAEN,MAAOiB,EAAaF,aAAcD,KAG/CK,EAAmC,SAACb,EAAUK,GACvD,OAAAH,wBAAA,GAAYF,GAAQ,IAAEN,MAAOM,EAASN,MAAMoB,QAAO,SAAAC,GAAM,OAAIA,IAAWV,QAG/DW,GAAwB,SAAChB,EAAUiB,EAAIC,GAChD,GAAe,IAAVA,GAAeD,GAAQC,IAAUlB,EAASN,MAAMgB,OAAS,IAAMO,EAChE,OAAOjB,EAEX,IAAMmB,EAAaF,EAAKC,EAAQ,EAAIA,EAAQ,EACtCP,EAAWT,YAAA,GAAOF,GAClBoB,EAAOT,EAAYjB,MAAMyB,GAC/BR,EAAYjB,MAAMyB,GAAcR,EAAYjB,MAAMwB,GAClDP,EAAYjB,MAAMwB,GAASE,EAC3B,IAAIC,EAAO,EAOX,OANIrB,EAASS,eAAiBS,EAC1BG,EAAOJ,GAAM,EAAI,EACVjB,EAASS,eAAiBU,IACjCE,EAAOJ,EAAK,GAAK,GAErBN,EAAYF,cAAgBY,EACrBV,GAGEW,GAA+B,SAACtB,EAAUiB,EAAIC,GACvD,GAAe,IAAVA,GAAeD,GAAQC,IAAUlB,EAASN,MAAMgB,OAAS,IAAMO,EAChE,OAAOjB,EAEX,IAAMmB,EAAaF,EAAKC,EAAQ,EAAIA,EAAQ,EACtCP,EAAWT,YAAA,GAAOF,GAClBoB,EAAOT,EAAYjB,MAAMyB,GAG/B,OAFAR,EAAYjB,MAAMyB,GAAcR,EAAYjB,MAAMwB,GAClDP,EAAYjB,MAAMwB,GAASE,EACpBT,GAGEY,GAAsB,SAACvB,GAChC,OAAOA,EAASwB,KAAI,SAACC,EAAMC,GAAG,MAAM,CAACD,KAAMA,EAAME,MAAOD,OAG/CE,GAA2B,SAAC5B,GACrC,OAAOA,EAASJ,MAAK,SAACiC,EAAGC,GAAC,OAAKD,EAAEF,MAAQG,EAAEH,SAAOH,KAAI,SAAAC,GAAI,OAAIA,EAAKA,SAG1DM,GAAW,GACXC,GAAW,wBCxElBC,GAAe,CACjBvC,MAAO,GACPe,aAAc,EACdyB,QAAQ,EACRC,SAAS,EACTC,YAAQC,EACRC,WAAY,ICxBVL,GAAe,CACjBM,KAAM,GACNC,aAAa,GCJXP,GAAe,CACjBQ,UAAU,EACVC,MAAO,MCFLT,GAAe,CAAEU,MAAM,EAAOC,QAAIP,GCSzBQ,eAAgB,CAC3BnD,MCRW,WAAyB,IAAxBoD,EAAKC,UAAArC,OAAA,QAAA2B,IAAAU,UAAA,GAAAA,UAAA,GAAG,GAAIC,EAAMD,UAAArC,OAAA,EAAAqC,UAAA,QAAAV,EAC9B,OAAQW,EAAOhE,MACX,KAAKrC,EACD,OAAAuD,YAAA,GAAW+C,IAAEC,QAAQF,EAAO/D,QAAS,OACzC,KAAKjC,EAEL,KAAKC,EAEL,KAAKC,EACD,OAAAgD,wBAAA,GAAW4C,GAAK,GAAAK,YAAA,GAAGH,EAAO/D,QAAQ2D,GAAKI,EAAO/D,UAClD,KAAK9B,EACD,OAAO8F,IAAEG,KAAKN,EAAOE,EAAO/D,SAChC,QACI,OAAO6D,IDJfO,WHHW,WAAmC,IAAlCP,EAAKC,UAAArC,OAAA,QAAA2B,IAAAU,UAAA,GAAAA,UAAA,GAAGd,GAAce,EAAMD,UAAArC,OAAA,EAAAqC,UAAA,QAAAV,EACxC,OAAOW,EAAOhE,MACV,KAAKnC,EACD,MAAO,CAAE0F,KAAM,CAACS,EAAO/D,QAAQ2D,IAAKJ,aAAa,GACrD,KAAK5F,EACD,MAAO,CAAE2F,KAAM,GAAIC,aAAa,GACpC,KAAK1F,EACD,MAAO,CAAEyF,KAAMU,IAAEK,KAAKN,EAAO/D,QAAQuC,KAAI,SAAAC,GAAI,OAAIA,EAAKmB,OAAMJ,aAAa,GAC7E,KAAKzF,EACD,OAAOkF,GACX,QACI,OAAOa,IGPfS,MEXW,WAAyB,IAAxBT,EAAKC,UAAArC,OAAA,QAAA2B,IAAAU,UAAA,GAAAA,UAAA,GAAG,GAAIC,EAAMD,UAAArC,OAAA,EAAAqC,UAAA,QAAAV,EAC9B,OAAOW,EAAOhE,MACV,KAAK5B,EACD,OAAO4F,EAAO/D,QAClB,KAAK5B,EACD,MAAO,GACX,QACI,OAAOyF,IFKfU,KAAMC,IACNzD,SJgBW,WAAmC,IAAlC8C,EAAKC,UAAArC,OAAA,QAAA2B,IAAAU,UAAA,GAAAA,UAAA,GAAGd,GAAce,EAAMD,UAAArC,OAAA,EAAAqC,UAAA,QAAAV,EACxC,OAAOW,EAAOhE,MACV,KAAK1B,EACD,OAAOyC,EAAqB+C,EAAOE,EAAO/D,SAC9C,KAAK1B,EACD,OAAO6C,EAA0B0C,EAAOE,EAAO/D,SACnD,KAAKzB,EACD,OAAA0C,wBAAA,GAAY4C,GAAK,IAAErC,aAAcuC,EAAO/D,UAC5C,KAAKvB,EACD,OAAAwC,wBAAA,GAAY4C,GAAK,IAAEZ,QAAQ,IAC/B,KAAKvE,EACD,OAAAuC,wBAAA,GAAY4C,GAAK,IAAEZ,QAAQ,IAC/B,KAAKtE,EACD,OAAAsC,wBAAA,GAAY+B,IAAY,IAAEE,QAASW,EAAMX,UAC7C,KAAKtE,EACD,OAAAqC,wBAAA,GAAY4C,GAAK,IAAEX,SAAUW,EAAMX,UACvC,KAAKrE,EACD,OAAOkD,GAAsB8B,EAAOE,EAAO/D,QAAQgC,GAAI+B,EAAO/D,QAAQiC,OAC1E,KAAKnD,EACD,OAAAmC,wBAAA,GAAW4C,GAAK,IAAEpD,MAAOsD,EAAO/D,QAAQS,MAAO0C,OAAQY,EAAO/D,QAAQ2D,GAAIN,WAAYU,EAAO/D,QAAQyE,OACzG,KAAKzF,EACD,MAAO,CACHyB,MAAOsD,EAAO/D,QAAQsD,KAAK7C,MAC3Be,aAAc,EACdyB,QAAQ,EACRC,SAAS,EACTC,OAAQY,EAAO/D,QAAQ0E,WAAaX,EAAO/D,QAAQsD,KAAKK,QAAKP,EAC7DC,WAAYU,EAAO/D,QAAQ0E,WAAaX,EAAO/D,QAAQsD,KAAKmB,KAAO,IAE3E,KAAKxF,EACD,OAAAgC,wBAAA,GAAY+B,IAAY,IAAEE,SAAS,IACvC,KAAK/D,EACD,OAAO4E,EAAO/D,QAClB,KAAKxB,EACD,OAAAyC,wBAAA,GAAY4C,GAAK,IAAErC,aAAcuC,EAAO/D,UAC5C,KAAKP,EACD,OAAIoE,EAAMP,OAASO,EAAMpD,MACrBQ,wBAAA,GAAW4C,GAAK,IAAEpD,MAAOoD,EAAMP,OAE5BO,EACX,QACI,OAAOA,IIxDfc,MDZW,WAAmC,IAAlCd,EAAKC,UAAArC,OAAA,QAAA2B,IAAAU,UAAA,GAAAA,UAAA,GAAGd,GAAce,EAAMD,UAAArC,OAAA,EAAAqC,UAAA,QAAAV,EACxC,OAAOW,EAAOhE,MACV,KAAKV,EACD,MAAO,CAAEqE,MAAM,EAAMC,GAAII,EAAO/D,SACpC,KAAKV,EACD,OAAO0D,GACX,QACI,OAAOa,ICMfe,KFVW,WAAmC,IAAlCf,EAAKC,UAAArC,OAAA,QAAA2B,IAAAU,UAAA,GAAAA,UAAA,GAAGd,GAAce,EAAMD,UAAArC,OAAA,EAAAqC,UAAA,QAAAV,EACxC,OAAOW,EAAOhE,MACV,KAAKR,EACD,MAAO,CAAEiE,UAAU,EAAMC,MAAOM,EAAO/D,SAC3C,KAAKR,EACD,OAAOwD,GACX,QACI,OAAOa,IEIfgB,aGhBW,WAAiD,IAAhDhB,EAAKC,UAAArC,OAAA,QAAA2B,IAAAU,UAAA,GAAAA,UAAA,GAAG,CAACR,KAAM,GAAIH,QAAQ,GAASY,EAAMD,UAAArC,OAAA,EAAAqC,UAAA,QAAAV,EACtD,OAAOW,EAAOhE,MACV,KAAKhB,EACD,MAAO,CAAEuE,KAAMS,EAAO/D,QAASmD,QAAQ,GAC3C,KAAKhE,EACL,KAAKC,EACD,IAAM0F,EAAYjB,EAAMP,KAAKf,KAAI,SAAAwC,GAAE,OAAIA,EAAGpB,MACpClB,EAAMqC,EAAUxD,QAAQyC,EAAO/D,QAAQmD,QAC7C,IAAa,IAATV,EACA,OAAOoB,EAEX,IAAMnC,EAAWT,YAAA,GAAO4C,GAExB,OADAnC,EAAY4B,KAAKb,GAAKhC,MAAQsD,EAAO/D,QAAQS,MACtCiB,EACX,KAAKxC,EACD,OAAA+B,wBAAA,GAAY4C,GAAK,IAAEP,KAAMO,EAAMP,KAAKzB,QAAO,SAAAkD,GAAE,OAAIA,EAAGpB,KAAOI,EAAO/D,aACtE,KAAK9B,EACD,OAAA+C,wBAAA,GAAY4C,GAAK,IAAEP,KAAMO,EAAMP,KAAKf,KAAI,SAAAwC,GAAE,OAAA9D,wBAAA,GAAS8D,GAAE,IAAEtE,MAAOsE,EAAGtE,MAAMoB,QAAO,SAAAC,GAAM,OAAIA,IAAWiC,EAAO/D,kBAC9G,KAAKlB,EACD,OAAAmC,wBAAA,GAAY4C,GAAK,IAAEP,KAAK,GAADpD,OAAAgB,YAAM2C,EAAMP,MAAI,CAAES,EAAO/D,YACpD,QACI,OAAO6D,M,mGCdJmB,GAPG,WACd,OAAIC,YACO,KAEJC,eAACC,KAAY,CAACC,OAAO,WCEjBC,GAPF,SAAAC,GAIT,OAHAC,qBAAU,WACNC,OAAOC,SAAS,EAAG,KACpB,CAACH,EAAMI,OACHJ,EAAMK,U,qBCYFC,GAbE,WACb,OACIC,gBAAA,OAAKC,UAAU,mBAAkBH,SAAA,CAC7BT,eAACa,KAAM,CACHhG,KAAK,OACLiG,MAAM,UACN9C,SAAO,IAEXgC,eAAA,KAAGY,UAAU,WAAUH,SAAC,0B,SC2CrBM,GAtDG,SAAAX,GACd,IAAAY,EAA0BC,mBAAS,IAAGC,EAAAC,aAAAH,EAAA,GAA/BI,EAAKF,EAAA,GAAEG,EAAQH,EAAA,GACtBI,EAA4CL,mBAAS,IAAGM,EAAAJ,aAAAG,EAAA,GAAjDE,EAAcD,EAAA,GAAEE,EAAiBF,EAAA,GACxCG,EAAkCT,oBAAS,GAAMU,EAAAR,aAAAO,EAAA,GAA1CE,EAASD,EAAA,GAAEE,EAAYF,EAAA,GAiC9B,OA/BAtB,qBAAU,WACN,IAAMyB,EAAU1G,YAAW,WACvBqG,EAAkBL,KACnB,KACH,OAAO,WACHW,aAAaD,MAElB,CAACV,IAEJf,qBAAU,WACFmB,EACIQ,MAAMR,GACNpB,EAAM6B,KAAKT,EAAgBI,GAE3BxB,EAAM3B,GAAG+C,GAGbpB,EAAM8B,WAGX,CAACV,IAEJnB,qBAAU,WACFe,GACIY,MAAMZ,IACNhB,EAAM6B,KAAKb,EAAOQ,KAI3B,CAACA,IAGA5B,eAAA,OAAKY,UAAU,UAASH,SACpBE,gBAAA,OAAKC,UAAU,mCAAkCH,SAAA,CAC7CE,gBAAA,OAAKC,UAAU,sBAAqBH,SAAA,CAChCT,eAAA,SAAAS,SAAO,eACPT,eAAA,SAAOoB,MAAOA,EAAOe,SAAU,SAACC,GAAC,OAAKf,EAASe,EAAEC,OAAOjB,QAAQkB,YAAY,gDAEhFtC,eAAA,OAAKY,UAAU,mBAAkBH,SAC7BE,gBAAA,OAAKC,UAAU,uBAAsBH,SAAA,CACjCT,eAAA,SAAOvB,GAAG,iBAAiB5D,KAAK,WAAW0H,SAAS,IAAIC,QAASZ,EAAWO,SAAU,kBAAMN,GAAcD,MAC1G5B,eAAA,SAAOyC,QAAQ,iBAAgBhC,SAAC,kCCjCzCiC,GAbE,SAAAtC,GAEb,IAKMuC,EAAQvC,EAAMuC,MAAMtF,KAAI,SAACuF,EAAMrF,GAAG,OAAKyC,eAAA,KAAaY,UAAS,QAAA5F,OAAU4H,IAAxBrF,MACrD,OACIoD,gBAAA,UAAQ,WAAUP,EAAMyC,IAAK,aAAYzC,EAAMyC,IAAKjC,UAAS,4BAAA5F,OAA8BoF,EAAMU,OAASgC,QAP1F,SAACV,GACjBA,EAAEW,kBACF3C,EAAM0C,WAK0HE,SAAU5C,EAAM4C,SAASvC,SAAA,CAAGkC,EAAOvC,EAAM6C,S,uCCTpKC,G,QAAKC,EAAMC,OAAO,CAC3BC,QAAS,+B,SCDEC,kBCcFC,GAAa,WAAH,sBAAAC,EAAAC,aAAAC,KAAAC,MAAS,SAAAC,EAAMlJ,GAAQ,IAAAC,EAAA,OAAA+I,KAAAG,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAEfd,GAAGe,IAAI,uBAAsB,OAA9CtJ,EAAQmJ,EAAAI,KACdxJ,EAAS,CAACG,KAAMrC,EAAasC,QAASH,EAASwJ,OAAML,EAAAE,KAAA,gBAAAF,EAAAC,KAAA,EAAAD,EAAAM,GAAAN,EAAA,SAErDtJ,EAAWsJ,EAAAM,GAAM1J,GAAS,yBAAAoJ,EAAAO,UAAAT,EAAA,kBAEjC,gBAAAU,GAAA,OAAAd,EAAAe,MAAA,KAAA3F,YAPsB,IASV4F,GAAY,SAAA/F,GAAE,sBAAAgG,EAAAhB,aAAAC,KAAAC,MAAI,SAAAe,EAAMhK,GAAQ,IAAAC,EAAA,OAAA+I,KAAAG,MAAA,SAAAc,GAAA,cAAAA,EAAAZ,KAAAY,EAAAX,MAAA,cAAAW,EAAAZ,KAAA,EAAAY,EAAAX,KAAA,EAEdd,GAAGe,IAAI,UAADjJ,OAAWyD,EAAE,kBAAgB,OAApD9D,EAAQgK,EAAAT,KACdxJ,EAAS,CAACG,KAAMhC,EAAYiC,QAASH,EAASwJ,OAAMQ,EAAAX,KAAA,gBAAAW,EAAAZ,KAAA,EAAAY,EAAAP,GAAAO,EAAA,SAEpDnK,EAAWmK,EAAAP,GAAM1J,GAAS,yBAAAiK,EAAAN,UAAAK,EAAA,kBAGjC,gBAAAE,GAAA,OAAAH,EAAAF,MAAA,KAAA3F,YAR0B,ICUrBiG,GAAa,eAAArB,EAAAC,aAAAC,KAAAC,MAAG,SAAAC,EAAOlJ,EAAUoK,EAAUC,EAAaC,GAAU,IAAAC,EAAA,OAAAvB,KAAAG,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAE9Cd,GAAGgC,MAAM,cAADlK,OAAegK,EAAU,KAAK,CACpDzJ,MAAO6B,GAAoB2H,EAAYxJ,QACxC,CAAE4J,QAAS,CAAC,cAAgB,SAADnK,OAAW8J,IAAWpF,KAAKnB,UAAW,OAF9D0G,EAAGnB,EAAAI,KAGLY,IAAWjJ,SAASoC,SAAW+G,EAC/BtK,EAAS,CAAEG,KAAMZ,EAAkBa,QAAOiB,wBAAA,GAAOgJ,GAAW,IAAExJ,MAAOkC,GAAyBwH,EAAId,KAAK5I,WAEvGb,EAAS,CAAEG,KAAMX,EAA0BY,QAAS,CAACmD,OAAQ+G,EAAYzJ,MAAOkC,GAAyBwH,EAAId,KAAK5I,UACrHuI,EAAAE,KAAA,gBAAAF,EAAAC,KAAA,EAAAD,EAAAM,GAAAN,EAAA,SAEDtJ,EAAWsJ,EAAAM,GAAM1J,GAAS,yBAAAoJ,EAAAO,UAAAT,EAAA,kBAEjC,gBAbkBU,EAAAM,EAAAQ,EAAAC,GAAA,OAAA7B,EAAAe,MAAA,KAAA3F,YAAA,GAeN0G,GAAgB,SAAA7G,GAAE,sBAAAgG,EAAAhB,aAAAC,KAAAC,MAAI,SAAAe,EAAOhK,EAAUoK,GAAQ,IAAAC,EAAA,OAAArB,KAAAG,MAAA,SAAAc,GAAA,cAAAA,EAAAZ,KAAAY,EAAAX,MAAA,WACpDc,IAAWjJ,SAASN,MAAMgK,SAAS9G,GAAI,CAADkG,EAAAX,KAAA,QACtCtJ,EAAS,CAAEG,KAAM5B,EAAW6B,QAAS,CAACC,IAAK,wDAA6CF,KAAM,WAAU8J,EAAAX,KAAA,mBAEnGc,IAAWjJ,SAASoC,OAAO,CAAD0G,EAAAX,KAAA,QAC3BtJ,EAAS,CAAEG,KAAM1B,EAAiB2B,QAAS2D,IAAKkG,EAAAX,KAAA,gBAEiB,OAA3De,EAAcnJ,EAAqBkJ,IAAWjJ,SAAU4C,GAAGkG,EAAAX,KAAA,GAC3Da,GAAcnK,EAAUoK,EAAUC,EAAaD,IAAWjJ,SAASoC,QAAO,yBAAA0G,EAAAN,UAAAK,OAG3F,gBAAAc,EAAAC,GAAA,OAAAhB,EAAAF,MAAA,KAAA3F,YAX8B,IAalB8G,GAAqB,SAAC9I,EAAQoI,GAAU,sBAAAW,EAAAlC,aAAAC,KAAAC,MAAK,SAAAiC,EAAOlL,EAAUoK,GAAQ,IAAAC,EAAAc,EAAA,OAAAnC,KAAAG,MAAA,SAAAiC,GAAA,cAAAA,EAAA/B,KAAA+B,EAAA9B,MAAA,UAC1Ec,IAAWjJ,SAASoC,QAAW+G,EAAU,CAAAc,EAAA9B,KAAA,QAC1CtJ,EAAS,CAAEG,KAAMzB,EAAsB0B,QAAS8B,IAASkJ,EAAA9B,KAAA,eAQxD,OANGe,EAAc,GACdD,IAAWjJ,SAASoC,SAAW+G,EAC/BD,EAAc9I,EAA0B6I,IAAWjJ,SAAUe,IAEvDiJ,EAAuBf,IAAWnF,aAAavB,KAAK2H,MAAK,SAAAlG,GAAE,OAAIA,EAAGpB,KAAOuG,KAC/ED,EAAcrI,EAAiCmJ,EAAsBjJ,IACxEkJ,EAAA9B,KAAA,EACKa,GAAcnK,EAAUoK,EAAUC,EAAaC,GAAW,wBAAAc,EAAAzB,UAAAuB,OAEvE,gBAAAI,EAAAC,GAAA,OAAAN,EAAApB,MAAA,KAAA3F,YAboD,IAexCsH,GAAe,SAAClC,EAAMrF,GAC/B,GAAKA,EAAMZ,OAGX,OAAIiG,EACIrF,EAAMrC,eAAiBqC,EAAMpD,MAAMgB,OAAS,GAC5C4J,GAAQC,KAAK,GAADpL,OAAI4C,GAAQ,WAAA5C,OAAU2D,EAAMpD,MAAM,KACvC,CAAEV,KAAMxB,EAAeyB,QAAS,KAEvCqL,GAAQC,KAAK,GAADpL,OAAI4C,GAAQ,WAAA5C,OAAU2D,EAAMpD,MAAMoD,EAAMrC,aAAe,KAC5D,CAAEzB,KAAMxB,EAAeyB,QAAS6D,EAAMrC,aAAe,IAG5DqC,EAAMrC,aAAe,GACrB6J,GAAQC,KAAK,GAADpL,OAAI4C,GAAQ,WAAA5C,OAAU2D,EAAMpD,MAAMoD,EAAMpD,MAAMgB,OAAS,KAC5D,CAAE1B,KAAMxB,EAAeyB,QAAS6D,EAAMpD,MAAMgB,OAAS,KAE5D4J,GAAQC,KAAK,GAADpL,OAAI4C,GAAQ,WAAA5C,OAAU2D,EAAMpD,MAAMoD,EAAMrC,aAAe,KAC5D,CAAEzB,KAAMxB,EAAeyB,QAAS6D,EAAMrC,aAAe,KAa3D+J,GAAe,WACxB,MAAO,CAACxL,KAAMrB,IAGL8M,GAAgB,SAAC7H,GAAE,sBAAA8H,EAAA9C,aAAAC,KAAAC,MAAK,SAAA6C,EAAO9L,EAAUoK,GAAQ,OAAApB,KAAAG,MAAA,SAAA4C,GAAA,cAAAA,EAAA1C,KAAA0C,EAAAzC,MAAA,UACrDc,IAAWjJ,SAASoC,QAAWQ,EAAE,CAAAgI,EAAAzC,KAAA,QAClCtJ,EAAS,CAACG,KAAMpB,IAChBiB,EAAS,CAACG,KAAMT,IAAaqM,EAAAzC,KAAA,uBAAAyC,EAAA1C,KAAA,EAAA0C,EAAAzC,KAAA,EAGnBd,GAAGwD,OAAO,cAAD1L,OAAeyD,EAAE,KAC5B,CAAE0G,QAAS,CAAC,cAAgB,SAADnK,OAAW8J,IAAWpF,KAAKnB,UAAW,OACjEE,IAAOqG,IAAWjJ,SAASoC,QAC3BvD,EAAS,CAACG,KAAMpB,IAEpBiB,EAAS,CAACG,KAAMb,EAAiBc,QAAS2D,IAC1C/D,EAAS,CAACG,KAAMT,IAAaqM,EAAAzC,KAAA,iBAAAyC,EAAA1C,KAAA,GAAA0C,EAAArC,GAAAqC,EAAA,SAE7BjM,EAAWiM,EAAArC,GAAM1J,GAAS,yBAAA+L,EAAApC,UAAAmC,EAAA,mBAGrC,gBAAAG,EAAAC,GAAA,OAAAL,EAAAhC,MAAA,KAAA3F,YAjB+B,IAmBnBiI,GAAmB,WAC5B,MAAO,CAAEhM,KAAMnB,IAGNoN,GAAiB,SAAC/J,EAAOD,EAAIkI,GAAU,sBAAA+B,EAAAtD,aAAAC,KAAAC,MAAK,SAAAqD,EAAOtM,EAAUoK,GAAQ,IAAAC,EAAAkC,EAAA,OAAAvD,KAAAG,MAAA,SAAAqD,GAAA,cAAAA,EAAAnD,KAAAmD,EAAAlD,MAAA,UACzEc,IAAWjJ,SAASoC,QAAW+G,EAAU,CAAAkC,EAAAlD,KAAA,QAC1CtJ,EAAS,CAAEG,KAAMlB,EAAkBmB,QAAS,CAACiC,QAAOD,QAAMoK,EAAAlD,KAAA,eAQzD,OANGe,EAAc,GACdD,IAAWjJ,SAASoC,SAAW+G,EAC/BD,EAAclI,GAAsBiI,IAAWjJ,SAAUiB,EAAIC,IAEvDkK,EAAmBnC,IAAWnF,aAAavB,KAAK2H,MAAK,SAAAlG,GAAE,OAAIA,EAAGpB,KAAOuG,KAC3ED,EAAc5H,GAA6B8J,EAAkBnK,EAAIC,IACpEmK,EAAAlD,KAAA,EACKa,GAAcnK,EAAUoK,EAAUC,EAAaC,GAAW,wBAAAkC,EAAA7C,UAAA2C,OAEvE,gBAAAG,EAAAC,GAAA,OAAAL,EAAAxC,MAAA,KAAA3F,YAbmD,IAqCvCyI,GAAe,SAAC5I,EAAIe,GAAU,sBAAA8H,EAAA7D,aAAAC,KAAAC,MAAK,SAAA4D,EAAM7M,GAAQ,IAAAC,EAAA,OAAA+I,KAAAG,MAAA,SAAA2D,GAAA,cAAAA,EAAAzD,KAAAyD,EAAAxD,MAAA,cAAAwD,EAAAzD,KAAA,EAAAyD,EAAAxD,KAAA,EAE/Bd,GAAGe,IAAI,cAADjJ,OAAeyD,EAAE,iBAAe,OAAvD9D,EAAQ6M,EAAAtD,KACdxJ,EAAS,CAACG,KAAMf,EAAegB,QAAS,CAACsD,KAAIrC,wBAAA,GAAMpB,EAASwJ,MAAI,IAAE5I,MAAOkC,GAAyB9C,EAASwJ,KAAK5I,SAASiE,gBAAagI,EAAAxD,KAAA,gBAAAwD,EAAAzD,KAAA,EAAAyD,EAAApD,GAAAoD,EAAA,SAEtIhN,EAAWgN,EAAApD,GAAM1J,GAAS,yBAAA8M,EAAAnD,UAAAkD,EAAA,kBAEjC,gBAAAE,GAAA,OAAAH,EAAA/C,MAAA,KAAA3F,YAP0C,IC3K9B8I,GAAW,SAAC3M,EAAKF,GAC1B,MAAO,CAACA,KAAM5B,EAAW6B,QAAS,CAACC,MAAKF,UAG/B8M,GAAc,WACvB,MAAO,CAAC9M,KAAM3B,ICYZ0O,GAAQ,SAAAC,GAAAC,aAAAF,EAAAC,GAAA,IAAAE,EAAAC,aAAAJ,GAAA,SAAAA,IAAA,IAAAK,EAAAC,aAAA,KAAAN,GAAA,QAAAO,EAAAvJ,UAAArC,OAAA6L,EAAA,IAAAC,MAAAF,GAAAG,EAAA,EAAAA,EAAAH,EAAAG,IAAAF,EAAAE,GAAA1J,UAAA0J,GAwDT,OAxDSL,EAAAF,EAAAQ,KAAAhE,MAAAwD,EAAA,OAAA/M,OAAAoN,KACVzJ,MAAQ,CACJV,QAAQ,EACRuK,UAAU,GACbP,EAaD3C,cAAgB,SAACmD,EAAOhK,GACpBgK,EAAMC,iBACNT,EAAK7H,MAAMkF,cAAc7G,GACzBgK,EAAM1F,mBACTkF,EACDvC,mBAAqB,SAAC+C,EAAOhK,GACzBgK,EAAMC,iBACNT,EAAK7H,MAAMsF,mBAAmBjH,GAC9BgK,EAAM1F,mBACTkF,EAEDU,mBAAqB,SAAArL,GACjB,IAAMkC,GAAcyI,EAAK7H,MAAMvE,SAASoC,QAAUgK,EAAK7H,MAAM9B,SAC7D,IAAK2J,EAAK7H,MAAMvE,SAASmC,SAAW4K,kBAAiBpJ,EACjD,OAAOyI,EAAK7H,MAAMvE,SAASN,MAAMgK,SAASjI,EAAKmB,IAC3CuB,eAAA,KACI,WAAS,yDACTY,UAAU,oCACVkC,QAAS,SAACV,GAAC,OAAK6F,EAAKvC,mBAAmBtD,EAAG9E,EAAKmB,OAGpDuB,eAAA,KACI,WAAS,iDACTY,UAAU,qCACVkC,QAAS,SAACV,GAAC,OAAK6F,EAAK3C,cAAclD,EAAG9E,EAAKmB,QAI1DwJ,EAEDY,WAAa,SAACvL,EAAMC,GAAG,OACnByC,eAAA,OAAKY,UAAS,8CAAA5F,OAAgDuC,EAAM,IAAM,GAAMqL,gBAA+B,GAAhB,eAAqBnI,SAChHT,eAAC8I,KAAI,CAACC,GAAE,GAAA/N,OAAK4C,GAAQ,WAAA5C,OAAUsC,EAAKmB,IAAMmC,UAAU,eAAcH,SAC9DE,gBAAA,OAAKC,UAAU,qBAAoBH,SAAA,CAC/BE,gBAAA,MAAIC,UAAU,wCAAuCH,SAAA,CAAEnD,EAAKmB,GAAG,KAAGnB,EAAK0L,SACtEf,EAAKU,mBAAmBrL,SAJqFA,EAAKmB,KAQlIwJ,EA+CA,OA/CAgB,aAAArB,EAAA,EAAAsB,IAAA,oBAAA9H,MAnDD,WACI+H,KAAK/I,MAAMuH,cACXwB,KAAK/I,MAAMmD,aACX4F,KAAK/I,MAAMiG,iBACd,CAAA6C,IAAA,qBAAA9H,MAED,WACS+H,KAAKxK,MAAMV,QAAWa,IAAEsK,QAAQD,KAAK/I,MAAM7E,QAC5C4N,KAAKE,SAAS,CAAEpL,QAAQ,MAE/B,CAAAiL,IAAA,SAAA9H,MA2CD,WAAU,IAADkI,EAAA,KACL,GAAIxK,IAAEsK,QAAQD,KAAK/I,MAAM7E,SAAW4N,KAAKxK,MAAMV,OAC3C,OACI+B,eAACU,GAAQ,IAIZyI,KAAKxK,MAAM6J,SAGZlN,EAAU6N,KAAK/I,MAAM7E,MAAO,MAF5BD,EAAU6N,KAAK/I,MAAM7E,MAAO,SAKhC,IAAQ2D,EAAeiK,KAAK/I,MAApBlB,WACJ3D,EAAQ,GAONgO,EAAyB,KAL3BhO,EADA2D,EAAWb,YACHa,EAAWd,KAAKf,KAAI,SAACoB,EAAIlB,GAAG,OAAK+L,EAAKT,WAAWS,EAAKlJ,MAAM7E,MAAMwK,MAAK,SAAAzI,GAAI,OAAIA,EAAKmB,KAAOA,KAAKlB,MAEhG4L,KAAK/I,MAAM7E,MAAM8B,KAAI,SAACC,EAAMC,GAAG,OAAK+L,EAAKT,WAAWvL,EAAMC,OAGlDhB,OAAeyD,eAAA,KAAGY,UAAU,yBAAwBH,SAAC,sBAAqB,KAC9F,OACIT,eAACG,GAAI,CAACK,KAAM2I,KAAK/I,MAAMoJ,SAASC,SAAShJ,SACrCE,gBAAA,OAAKC,UAAU,eAAcH,SAAA,CACzBT,eAACF,GAAS,IACVa,gBAAA,OAAKC,UAAS,MAAA5F,OAAQ4N,gBAAe,GAAK,kBAAmBnI,SAAA,CACzDT,eAAA,OAAKY,UAAU,qBAAoBH,SAC/BT,eAACe,GAAS,CAACtC,GAAI0K,KAAK/I,MAAMsJ,OAAQzH,KAAMkH,KAAK/I,MAAMuJ,YAAazH,OAAQiH,KAAK/I,MAAMwJ,iBAEvF5J,eAAA,OAAKY,UAAU,oBAAmBH,SAC9BE,gBAAA,OAAKC,UAAU,qBAAoBH,SAAA,CAC/BT,eAAC0C,GAAQ,CAAC5B,MAAM,OAAOgC,QAAS,kBAAMwG,EAAKD,SAAS,CAAEb,UAAU,KAAQ7F,MAAO,CAAC,qBAAsBE,IAAI,4CAAmCG,SAAUmG,KAAKxK,MAAM6J,UAAYW,KAAK/I,MAAMlB,WAAWb,cACpM2B,eAAC0C,GAAQ,CAAC5B,MAAM,OAAOgC,QAAS,kBAAMwG,EAAKD,SAAS,CAAEb,UAAU,KAAS7F,MAAO,CAAC,sBAAuBE,IAAI,wCAA+BG,UAAWmG,KAAKxK,MAAM6J,UAAYW,KAAK/I,MAAMlB,WAAWb,cACnM2B,eAAC0C,GAAQ,CAAC5B,MAAM,QAAQgC,QAASqG,KAAK/I,MAAMyG,iBAAkBlE,MAAO,CAAC,eAAgBM,KAAK,oCAIvGjD,eAAA,OAAKY,UAAU,iCAAgCH,SAC1ClF,IAEJgO,WAIhB3B,EAvGS,CAASiC,IAAMC,WAoHdC,gBATS,SAAApL,GACpB,MAAO,CACHpD,MAAOyO,OAAOC,OAAOtL,EAAMpD,OAC3B2D,WAAYP,EAAMO,WAClBrD,SAAU8C,EAAM9C,SAChByC,SAAUK,EAAMe,KAAKpB,YAIW,CACpCiF,cACAoE,eACAgC,YHtFuB,SAAC1H,EAAML,GAAS,sBAAA2E,EAAA9C,aAAAC,KAAAC,MAAK,SAAA6C,EAAM9L,GAAQ,IAAAwP,EAAAC,EAAA,OAAAzG,KAAAG,MAAA,SAAA4C,GAAA,cAAAA,EAAA1C,KAAA0C,EAAAzC,MAAA,cAAAyC,EAAA1C,KAAA,EAAA0C,EAAAzC,KAAA,EAEhCd,GAAGe,IAAI,iBAADjJ,OAAkBiH,EAAI,MAAI,OAAzC,GAAPiI,EAAOzD,EAAAvC,MACTtC,EAAU,CAAD6E,EAAAzC,KAAA,gBAAAyC,EAAAzC,KAAA,EACcd,GAAGe,IAAI,kBAADjJ,OAAmBiH,EAAI,MAAI,OAAlDkI,EAAQ1D,EAAAvC,KACdxJ,EAAS,CAACG,KAAMlC,EAAkBmC,QAAQ,GAADE,OAAAgB,YAAMkO,EAAQ/F,MAAInI,YAAKmO,EAAShG,SAAOsC,EAAAzC,KAAA,iBAEhFtJ,EAAS,CAACG,KAAMlC,EAAkBmC,QAASoP,EAAQ/F,OAAM,QAAAsC,EAAAzC,KAAA,iBAAAyC,EAAA1C,KAAA,GAAA0C,EAAArC,GAAAqC,EAAA,SAI7DjM,EAAWiM,EAAArC,GAAM1J,GAAS,yBAAA+L,EAAApC,UAAAmC,EAAA,mBAEjC,gBAAAnB,GAAA,OAAAkB,EAAAhC,MAAA,KAAA3F,YAb0C,IGuFvC8K,OHxGkB,SAACjL,GAAE,sBAAAkH,EAAAlC,aAAAC,KAAAC,MAAK,SAAAiC,EAAMlL,GAAQ,IAAAC,EAAA,OAAA+I,KAAAG,MAAA,SAAAiC,GAAA,cAAAA,EAAA/B,KAAA+B,EAAA9B,MAAA,cAAA8B,EAAA/B,KAAA,EAAA+B,EAAA9B,KAAA,EAEbd,GAAGe,IAAI,UAADjJ,OAAWyD,EAAE,kBAAgB,OAApD9D,EAAQmL,EAAA5B,KACdxJ,EAAS,CAACG,KAAMnC,EAAgBoC,QAASH,EAASwJ,OAAM2B,EAAA9B,KAAA,gBAAA8B,EAAA/B,KAAA,EAAA+B,EAAA1B,GAAA0B,EAAA,SAEpDA,EAAA1B,GAAIzJ,UACwB,MAAxBmL,EAAA1B,GAAIzJ,SAASC,OACbF,EAAS,CAACG,KAAMpC,IAKpB+B,EAAWsL,EAAA1B,GAAM1J,GACpB,yBAAAoL,EAAAzB,UAAAuB,EAAA,kBAER,gBAAAR,GAAA,OAAAO,EAAApB,MAAA,KAAA3F,YAfwB,IGyGrB0G,iBACAI,sBACAQ,gBACAG,gBACAuD,aH7EwB,WACxB,MAAO,CAAE/O,KAAMjC,IG6EfiO,qBAVWkD,CAWZnC,I,kDC5FYmC,gBAPS,SAAApL,GACpB,MAAO,CACHS,MAAOT,EAAMS,MACbK,MAAOd,EAAMc,SAImB,CAACkI,eAAayC,UCpD7B,SAAC3L,GACtB,MAAO,CAAE5D,KAAMV,EAAYW,QAAS2D,IDmDyB4L,WChDvC,WACtB,MAAO,CAAExP,KAAMT,KD+CJ2P,EA7CC,SAAA3J,GACd,IAAMhB,EAAQgB,EAAMhB,MAAMrE,IACxBiF,eAACsK,KAAK,CAACC,QAAS,WAAOnK,EAAMuH,eAAgB6C,SAAUpK,EAAMhB,MAAMvE,KAAK4F,SACnEL,EAAMhB,MAAMrE,MAEf,KAEJ,OACE4F,gBAAC8J,KAAK,CACJF,QAASnK,EAAMiK,WACfK,OAAQ,kBAAMtK,EAAMgK,UAAUhK,EAAM3B,KACpCD,KAAM4B,EAAMX,MAAMjB,MAAQ4B,EAAMX,MAAMhB,KAAO2B,EAAM3B,GACnDkM,QAASvK,EAAMwK,kBAAkBnK,SAAA,CAEjCT,eAACyK,KAAMI,OAAM,CAAApK,SAAEL,EAAM0K,SACrB9K,eAACyK,KAAMM,QAAO,CAAAtK,SACZT,eAACyK,KAAMO,YAAW,CAAAvK,SACbL,EAAMK,aAGbE,gBAAC8J,KAAMQ,QAAO,CAAAxK,SAAA,CACZT,eAAA,OAAKY,UAAU,WAAUH,SACpBrB,IAELY,eAACkL,KAAM,CAACpI,QAAS1C,EAAMiK,WAAW5J,SAC/BL,EAAM+K,YAETnL,eAACkL,KAAM,CACLE,QAAShL,EAAMiL,YACfvI,QAAS,WAAO1C,EAAMkL,aACtBC,SAAUnL,EAAMmL,SAChBC,QAASpL,EAAMoL,mBE/BnBC,GAAc,SAAHjI,GAA2D,IAArDkI,EAAKlI,EAALkI,MAAOC,EAAKnI,EAALmI,MAAOC,EAAIpI,EAAJoI,KAAM/Q,EAAI2I,EAAJ3I,KAAMmI,EAAQQ,EAARR,SAAU6I,EAAIrI,EAAJqI,KAAMhJ,EAAGW,EAAHX,IAC7D,OACIlC,gBAAA,OAAKC,UAAS,GAAA5F,OAAK6Q,EAAI,WAAA7Q,OAAU4Q,EAAKzQ,OAASyQ,EAAKE,QAAU,QAAU,IAAKrL,SAAA,CACzET,eAAA,SAAAS,SAAQkL,IACR3L,eAAA,QAAAjE,wBAAA,GAAW2P,GAAK,IAAE7Q,KAAMA,EAAMkR,aAAa,MAAM/I,SAAUA,EAAU,WAAUH,KAC9EmJ,GAAYJ,OAKnBK,GAAiB,SAAHxH,GAAqC,IAA/BiH,EAAKjH,EAALiH,MAAOC,EAAKlH,EAALkH,MAAOC,EAAInH,EAAJmH,KAAM/I,EAAG4B,EAAH5B,IAC1C,OACIlC,gBAAA,OAAKC,UAAS,SAAA5F,OAAW4Q,EAAKzQ,OAASyQ,EAAKE,QAAU,QAAU,IAAKrL,SAAA,CACjET,eAAA,SAAAS,SAAQkL,IACR3L,eAAA,WAAAjE,wBAAA,GAAc2P,GAAK,IAAEK,aAAa,MAAM,WAAUlJ,KACjDmJ,GAAYJ,OAKnBI,GAAc,SAAHrG,GAA4B,IAAtBxK,EAAKwK,EAALxK,MACnB,GADiCwK,EAAPmG,SACX3Q,EACX,OACI6E,eAAA,OAAKY,UAAU,mBAAkBH,SAC7BT,eAAA,OAAKY,UAAU,SAAQH,SAClBtF,OA2EN+Q,gBAAU,CACrB7M,KAAM,WACN8M,SAhBa,SAAAC,GACb,IAAMC,EAAS,GAUf,OATKD,EAAW3N,KACZ4N,EAAO5N,GAAK,uCAEX2N,EAAWpD,QACZqD,EAAOrD,MAAQ,mCAEdoD,EAAWE,SACZD,EAAOC,OAAS,6BAEbD,IAGIH,EApEE,SAAA9L,GAsCb,OACIO,gBAAA4L,YAAA,CAAA9L,SAAA,CACIE,gBAAA,QAAMC,UAAU,gBAAgB4L,SAAUpM,EAAMqM,cAtCvC,SAAAL,GACbhM,EAAMoM,SAASJ,MAqC4D3L,SAAA,CACnET,eAACF,GAAS,IACVa,gBAAA,OAAKC,UAAU,SAAQH,SAAA,CACnBT,eAAC0M,KAAK,CAACb,KAAK,aAAahJ,IAAI,yEAAqDtD,KAAK,KAAKoN,UAAWlB,GAAaE,MAAM,aAAU9Q,KAAK,SAASuF,MAAO,CAAE4C,SAAU5C,EAAMwM,QAC3K5M,eAAC0M,KAAK,CAACb,KAAK,gBAAgBtM,KAAK,QAAQoN,UAAWlB,GAAaE,MAAM,SAAM9Q,KAAK,YAEtFmF,eAAC0M,KAAK,CAAC7J,IAAI,iFAAkEtD,KAAK,SAASoN,UAAWV,GAAgBN,MAAM,iBAvC/HvL,EAAMwM,KAIPjM,gBAAA,OAAKC,UAAU,aAAYH,SAAA,CACvBE,gBAAA,OAAKC,UAAU,kCAAiCH,SAAA,CAC5CE,gBAAA,OAAKC,UAAU,SAAQH,SAAA,CACnBT,eAAA,UAAQY,UAAS,qBAAA5F,OAAuB4N,gBAAe,mBAAqB,IAAKnI,SAAC,cAClFT,eAAC8I,KAAI,CAACC,GAAE,GAAA/N,OAAK4C,GAAQ,WAAA5C,OAAUoF,EAAM3B,IAAMmC,UAAS,kBAAA5F,OAAoB4N,gBAAe,mBAAqB,IAAKnI,SAAC,gBAEtHT,eAAA,OAAKY,UAAU,gBAAeH,SAC1BT,eAAC6M,GAAO,CACJ/B,OAAO,0CACPF,gBAAiB,kBAAM5K,eAAA,UAAQnF,KAAK,SAAS+F,UAAS,sBAAA5F,OAAwB4N,gBAAe,mBAAqB,IAAKnI,SAAC,2BACxH0K,UAAU,WACVE,YAAY,eACZC,UAAWlL,EAAM0M,cACjBvB,UAAQ,EACR9M,GAAI,EAAEgC,SAAA,8BAAAzF,OAEmBoF,EAAM2M,cAAc/D,MAAK,gEAI9DhJ,eAAA,OAAKY,UAAU,sBAAqBH,SAAC,YAvBlCT,eAAA,UAAQY,UAAU,oBAAmBH,SAAC,iBAyC5CL,EAAMK,eCjFbuM,GAAU,SAAAnF,GAAAC,aAAAkF,EAAAnF,GAAA,IAAAE,EAAAC,aAAAgF,GAAA,SAAAA,IAAA,OAAA9E,aAAA,KAAA8E,GAAAjF,EAAAxD,MAAA,KAAA3F,WAsBX,OAtBWqK,aAAA+D,EAAA,EAAA9D,IAAA,oBAAA9H,MAChB,WACI+H,KAAK/I,MAAMmD,aACX4F,KAAK/I,MAAMiG,eACP8C,KAAK/I,MAAM6M,WACX9D,KAAK/I,MAAMyG,qBAElB,CAAAqC,IAAA,SAAA9H,MAEG,WACI,OAAI+H,KAAK/I,MAAM8M,UAAY,EAEnBvM,gBAAA,OAAKC,UAAU,eAAcH,SAAA,CACzBT,eAAA,MAAIY,UAAU,YAAWH,SAAC,+BAG1BT,eAACmN,GAAQ,CAACX,SAAUrD,KAAK/I,MAAMgN,WAAYL,cAAe,CAAEtO,GAAI0K,KAAK/I,MAAM8M,UAAY,QAIxFlN,eAACU,GAAQ,QAEvBsM,EAtBW,CAASnD,IAAMC,WAgChBC,gBAPS,SAAApL,GACpB,MAAO,CACHsO,UAAWtO,EAAM9C,SAASmC,QAC1BkP,UAAWG,KAAKC,IAAG/I,MAAR8I,KAAIrR,YAAQgO,OAAOC,OAAOtL,EAAMpD,OAAO8B,KAAI,SAAAC,GAAI,OAAIA,EAAKmB,WAInC,CAAE2O,WP8BhB,SAAAG,GAAQ,sBAAAxG,EAAAtD,aAAAC,KAAAC,MAAI,SAAAqD,EAAOtM,EAAUoK,GAAQ,IAAAnK,EAAA,OAAA+I,KAAAG,MAAA,SAAAqD,GAAA,cAAAA,EAAAnD,KAAAmD,EAAAlD,MAAA,cAAAkD,EAAAnD,KAAA,EAAAmD,EAAAlD,KAAA,EAEhCd,GAAGsK,KAAK,UAAW,CACtC/O,GAAIgP,SAASF,EAAS9O,IACtBuK,MAAOuE,EAASvE,MAChBsD,OAAQiB,EAASjB,OAAOoB,MAAM,QAAQC,KAAK,QAC5C,CAAExI,QAAS,CAAC,cAAgB,SAADnK,OAAW8J,IAAWpF,KAAKnB,UAAW,OAJ9D5D,EAAQuM,EAAAhD,KAKdxJ,EAAS,CAACG,KAAM/B,EAAagC,QAASH,EAASwJ,OAC/CgC,GAAQC,KAAK,GAADpL,OAAI4C,GAAQ,WAAA5C,OAAUuS,EAAS9O,KAAKyI,EAAAlD,KAAA,gBAAAkD,EAAAnD,KAAA,EAAAmD,EAAA9C,GAAA8C,EAAA,SAEhDhM,QAAQ0S,IAAI1G,EAAA9C,GAAIzJ,UAChBH,EAAW0M,EAAA9C,GAAM1J,GAAS,yBAAAwM,EAAA7C,UAAA2C,EAAA,kBAGjC,gBAAAxB,EAAAC,GAAA,OAAAsB,EAAAxC,MAAA,KAAA3F,YAdiC,IO9BoByH,gBAAcQ,oBAAkBtD,eAAvEwG,CAAqFiD,IChC9Fa,GAAQ,SAAAhG,GAAAC,aAAA+F,EAAAhG,GAAA,IAAAE,EAAAC,aAAA6F,GAAA,SAAAA,IAAA,OAAA3F,aAAA,KAAA2F,GAAA9F,EAAAxD,MAAA,KAAA3F,WA0BT,OA1BSqK,aAAA4E,EAAA,EAAA3E,IAAA,oBAAA9H,MACV,WACI+H,KAAK/I,MAAMoE,UAAU2E,KAAK/I,MAAM0N,MAAMC,OAAOtP,IAC7C0K,KAAK/I,MAAMiG,eACP8C,KAAK/I,MAAM6M,WACX9D,KAAK/I,MAAMyG,qBAElB,CAAAqC,IAAA,SAAA9H,MAED,WAAU,IAAD6G,EAAA,KACL,IAAKkB,KAAK/I,MAAM9C,KACZ,OAAO0C,eAACU,GAAQ,IAEpB,IAAMpD,EAAO6L,KAAK/I,MAAM9C,KACxB,OACIqD,gBAAA,OAAKC,UAAU,eAAcH,SAAA,CACzBT,eAAA,MAAIY,UAAU,YAAWH,SAAC,4BAG1BT,eAACmN,GAAQ,CACLX,SAAU,SAACJ,GAAU,OAAKnE,EAAK7H,MAAM4N,SAAS/F,EAAK7H,MAAM0N,MAAMC,OAAOtP,GAAI2N,IAC1EW,cAAe,CAACtO,GAAInB,EAAKmB,GAAIuK,MAAO1L,EAAK0L,MAAOsD,OAAQhP,EAAK2Q,OAAON,KAAK,SACzEf,MAAI,EAACnO,GAAInB,EAAKmB,GAAIqO,cAAe,kBAAM7E,EAAK7H,MAAM8N,WAAWT,SAASxF,EAAK7H,MAAM0N,MAAMC,OAAOtP,eAI7GoP,EA1BS,CAAShE,IAAMC,WAoCdC,gBAPS,SAACpL,EAAOwP,GAC5B,MAAO,CACH7Q,KAAMqB,EAAMpD,MAAM4S,EAASL,MAAMC,OAAOtP,IACxCwO,UAAWtO,EAAM9C,SAASmC,WAIM,CAAEgQ,SR0ClB,SAACvP,EAAI8O,GAAQ,sBAAAa,EAAA3K,aAAAC,KAAAC,MAAK,SAAA0K,EAAO3T,EAAUoK,GAAQ,IAAAnK,EAAA,OAAA+I,KAAAG,MAAA,SAAAyK,GAAA,cAAAA,EAAAvK,KAAAuK,EAAAtK,MAAA,cAAAsK,EAAAvK,KAAA,EAAAuK,EAAAtK,KAAA,EAEpCd,GAAGgC,MAAM,UAADlK,OAAWyD,EAAE,KAAK,CAC7CuK,MAAOuE,EAASvE,MAChBsD,OAAQiB,EAASjB,OAAOoB,MAAM,QAAQC,KAAK,QAC5C,CAAExI,QAAS,CAAC,cAAgB,SAADnK,OAAW8J,IAAWpF,KAAKnB,UAAW,OAH9D5D,EAAQ2T,EAAApK,KAIdxJ,EAAS,CAACG,KAAM9B,EAAW+B,QAASH,EAASwJ,OAC7CgC,GAAQC,KAAK,GAADpL,OAAI4C,GAAQ,WAAA5C,OAAUyD,IAAK6P,EAAAtK,KAAA,gBAAAsK,EAAAvK,KAAA,EAAAuK,EAAAlK,GAAAkK,EAAA,SAEvC9T,EAAW8T,EAAAlK,GAAM1J,GAAS,yBAAA4T,EAAAjK,UAAAgK,EAAA,kBAEjC,gBAAArI,EAAAC,GAAA,OAAAmI,EAAA7J,MAAA,KAAA3F,YAXoC,IQ1Ce4F,aAAW6B,gBAAcQ,oBAAkBqH,WRuDrE,SAACzP,GAAE,sBAAA8P,EAAA9K,aAAAC,KAAAC,MAAK,SAAA6K,EAAO9T,EAAUoK,GAAQ,OAAApB,KAAAG,MAAA,SAAA4K,GAAA,cAAAA,EAAA1K,KAAA0K,EAAAzK,MAAA,cAAAyK,EAAA1K,KAAA,EAAA0K,EAAAzK,KAAA,EAE7Cd,GAAGwD,OAAO,UAAD1L,OAAWyD,EAAE,KACxB,CAAE0G,QAAS,CAAC,cAAgB,SAADnK,OAAW8J,IAAWpF,KAAKnB,UAAW,OACjEuG,IAAWjJ,SAASN,MAAMgK,SAAS9G,IACnC/D,EAAS,CAAEG,KAAMzB,EAAsB0B,QAAS2D,IAEpD/D,EAAS,CAACG,KAAM7B,EAAa8B,QAAS2D,IACtC/D,EAAS,CAACG,KAAMT,IAChB+L,GAAQC,KAAKxI,IAAS6Q,EAAAzK,KAAA,gBAAAyK,EAAA1K,KAAA,EAAA0K,EAAArK,GAAAqK,EAAA,SAEtBjU,EAAWiU,EAAArK,GAAM1J,GAAS,yBAAA+T,EAAApK,UAAAmK,EAAA,kBAEjC,gBAAA7H,EAAAC,GAAA,OAAA2H,EAAAhK,MAAA,KAAA3F,YAb4B,KQvDdmL,CAA8F8D,IC5BvGa,GAAkB,GAGlBC,GAAQ,SAAA9G,GAAAC,aAAA6G,EAAA9G,GAAA,IAAAE,EAAAC,aAAA2G,GAAA,SAAAA,IAAA,IAAA1G,EAAAC,aAAA,KAAAyG,GAAA,QAAAxG,EAAAvJ,UAAArC,OAAA6L,EAAA,IAAAC,MAAAF,GAAAG,EAAA,EAAAA,EAAAH,EAAAG,IAAAF,EAAAE,GAAA1J,UAAA0J,GAkMT,OAlMSL,EAAAF,EAAAQ,KAAAhE,MAAAwD,EAAA,OAAA/M,OAAAoN,KACVzJ,MAAQ,CACJiQ,SAAUF,GACVG,mBAAmB,EACnBC,eAAgB,GAChBC,oBAAoB,EACpBC,aAAc,EACdC,aAAcrG,gBACdsG,eAAe,GAClBjH,EAeDkH,cAAgB,SAAC/M,GACb,OAAOA,EAAEgN,MACL,IAAK,aACDnH,EAAKoH,mBAAkB,GACvB,MACJ,IAAK,YACDpH,EAAKoH,mBAAkB,KAIlCpH,EAEDqH,aAAe,SAACC,GACRA,GAAYtH,EAAKtJ,MAAMiQ,SAAW,GAClC3G,EAAKoB,SAAS,CAACuF,SAAU3G,EAAKtJ,MAAMiQ,SAAW,KACvCW,GAAYtH,EAAKtJ,MAAMiQ,SAAW,GAC1C3G,EAAKoB,SAAS,CAACuF,SAAU3G,EAAKtJ,MAAMiQ,SAAW,KAEtD3G,EAEDuH,iBAAmB,WACXvH,EAAKtJ,MAAMoQ,mBACX9G,EAAKoB,SAAS,CAAC0F,oBAAoB,EAAOH,SAAUF,KAEpDzG,EAAKoB,SAAS,CAAC0F,oBAAoB,EAAMH,SAlD/B,MAoDjB3G,EAEDoH,kBAAoB,SAAAI,GACZA,EACAxH,EAAKoB,SAAS,CAAC2F,cAAe/G,EAAKtJ,MAAMqQ,aAAe,GAAK/G,EAAK7H,MAAM9C,KAAK2Q,OAAO1R,SAEpD,IAA5B0L,EAAKtJ,MAAMqQ,aACX/G,EAAKoB,SAAS,CAAC2F,aAAe/G,EAAK7H,MAAM9C,KAAK2Q,OAAO1R,OAAS,IAE9D0L,EAAKoB,SAAS,CAAC2F,cAAe/G,EAAKtJ,MAAMqQ,aAAe,GAAK/G,EAAK7H,MAAM9C,KAAK2Q,OAAO1R,UAG/F0L,EAEDyH,oBAAsB,WACdzH,EAAKtJ,MAAMoQ,mBACX9G,EAAKoB,SAAS,CAAEuF,SApEN,KAsEV3G,EAAKoB,SAAS,CAAEuF,SAAUF,MAEjCzG,EAED0H,cAAgB,WACZ1H,EAAK7H,MAAMkF,cAAcmI,SAASxF,EAAK7H,MAAM0N,MAAMC,OAAOtP,KACrDwJ,EAAK7H,MAAM6M,WACZhF,EAAK7H,MAAMyG,oBAElBoB,EAED2H,WAAa,SAACC,EAAMtS,GAAG,OAAKoD,gBAACkJ,IAAMiG,SAAQ,CAAArP,SAAA,CAAYoP,EAAK7P,eAAA,WAAXzC,IAAiC0K,EAElF8H,YAAc,SAACC,EAAOzS,GAClB,IAAM0S,EAAQD,EAAMtC,MAAM,MAAMrQ,KAAI,SAACwS,EAAMtS,GAAG,OAAK0K,EAAK2H,WAAWC,EAAMtS,MACzE,OACIyC,eAAA,KAAGkQ,MAAO,CAACtB,SAAS,GAAD5T,OAAKiN,EAAKtJ,MAAMiQ,SAAQ,OAAMnO,SAC5CwP,GADkD1S,IAI9D0K,EAEDkI,aAAe,WACX,IAAKlI,EAAKtJ,MAAMoQ,mBAAoB,CAChC,GAAI9G,EAAKtJ,MAAMuQ,cAAe,CAC1B,IAAMkB,EAAcnI,EAAK7H,MAAM9C,KAAK2Q,OAAO5Q,KAAI,SAAC2S,EAAOzS,GACnD,OAAIA,EAAM,GAAK8P,KAAKgD,KAAKpI,EAAK7H,MAAM9C,KAAK2Q,OAAO1R,OAAS,GAC9C0L,EAAK8H,YAAYC,EAAOzS,GAExB,QAGT+S,EAAerI,EAAK7H,MAAM9C,KAAK2Q,OAAO5Q,KAAI,SAAC2S,EAAOzS,GACpD,OAAIA,EAAM,EAAI8P,KAAKgD,KAAKpI,EAAK7H,MAAM9C,KAAK2Q,OAAO1R,OAAS,GAC7C0L,EAAK8H,YAAYC,EAAOzS,GAExB,QAGf,OACIoD,gBAAA,OAAKC,UAAU,oBAAmBH,SAAA,CAC9BT,eAAA,OAAKY,UAAU,oBAAmBH,SAC7B2P,IAELpQ,eAAA,OAAKY,UAAU,oBAAmBH,SAC7B6P,OAKb,OAAO3P,gBAAA,OAAKC,UAAU,eAAcH,SAAA,CAAC,IAAEwH,EAAK7H,MAAM9C,KAAK2Q,OAAO5Q,KAAI,SAAC2S,EAAOzS,GACtE,OAAO0K,EAAK8H,YAAYC,EAAOzS,SAI3C,IAAK0K,EAAK7H,MAAM9C,KAAK2Q,OAAOhG,EAAKtJ,MAAMqQ,cACnC,OAAOhP,eAACU,GAAQ,IAEpB,IAAMuP,EAAQhI,EAAK7H,MAAM9C,KAAK2Q,OAAOhG,EAAKtJ,MAAMqQ,cAActB,MAAM,MAAMrQ,KAAI,SAACwS,EAAMtS,GAAG,OAAK0K,EAAK2H,WAAWC,EAAMtS,MACnH,OACIyC,eAAA,OAAAS,SACIT,eAAA,KAAGkQ,MAAO,CAACtB,SAAS,GAAD5T,OAAKiN,EAAKtJ,MAAMiQ,SAAQ,OAAMnO,SAC5CwP,OAKhBhI,EAEDsI,cAAgB,WACZ,IAAMC,EAAavI,EAAK7H,MAAM9B,SAAW0B,eAAC8I,KAAI,CAAC,WAAS,4CAAgClI,UAAU,kCAAkCmI,GAAE,GAAA/N,OAAK4C,GAAQ,gBAAA5C,OAAeiN,EAAK7H,MAAM0N,MAAMC,OAAOtP,IAAKgC,SAACT,eAAA,KAAGY,UAAU,gBAA0B,KAEjO6P,GAAiB7H,iBAAgBX,EAAKtJ,MAAMsQ,YAC9CtO,gBAAA4L,YAAA,CAAA9L,SAAA,CACIT,eAAC0C,GAAQ,CAACG,IAAI,2BAAiBG,UAAWiF,EAAKtJ,MAAMoQ,mBAAoBjO,MAAM,OAAOgC,QAAS,kBAAMmF,EAAKoH,mBAAkB,IAAQ1M,MAAO,CAAC,yBAC5I3C,eAAC0C,GAAQ,CAACG,IAAI,+CAAsC/B,MAAM,QAAQgC,QAASmF,EAAKuH,iBAAkB7M,MAAO,CAAC,UAC1G3C,eAAC0C,GAAQ,CAACG,IAAI,4BAAoBG,UAAWiF,EAAKtJ,MAAMoQ,mBAAoBjO,MAAM,OAAOgC,QAAS,kBAAMmF,EAAKoH,mBAAkB,IAAO1M,MAAO,CAAC,2BAElJ,KACE+N,EAAkBzI,EAAKtJ,MAAMsQ,YAC/BtO,gBAAA4L,YAAA,CAAA9L,SAAA,CACIT,eAAC8I,KAAI,CAAC,WAAS,yBAAsBlI,UAAU,gCAAgCmI,GAAInL,GAAS6C,SAACT,eAAA,KAAGY,UAAU,kBACzG4P,EACDxQ,eAAC0C,GAAQ,CAACG,IAAG,GAAA7H,OAAKiN,EAAKtJ,MAAMuQ,cAAgB,MAAQ,SAAK,aAAUpO,MAAM,UAAUgC,QAAS,kBAAMmF,EAAKoB,SAAS,CAAC6F,eAAgBjH,EAAKtJ,MAAMuQ,iBAAiBlM,SAAUiF,EAAKtJ,MAAMoQ,mBAAoBpM,MAAO,CAAC,GAAD3H,OAAIiN,EAAKtJ,MAAMuQ,cAAgB,gBAAkB,cAC/PlP,eAAC0C,GAAQ,CAACG,IAAI,sCAAwB/B,MAAM,UAAUgC,QAAS,kBAAMmF,EAAKqH,cAAa,IAAQ3M,MAAO,CAAC,OAAQ,gBAC/G3C,eAAC0C,GAAQ,CAACG,IAAI,mCAAqB/B,MAAM,UAAUgC,QAAS,kBAAMmF,EAAKqH,cAAa,IAAO3M,MAAO,CAAC,OAAQ,eAC3G3C,eAAC0C,GAAQ,CAACG,IAAI,4CAA2B/B,MAAM,UAAUgC,QAASmF,EAAKyH,oBAAqB/M,MAAO,CAAC,OAAQ,UAC5G3C,eAAC0C,GAAQ,CAACG,IAAI,iDAAkC/B,MAAM,QAAQgC,QAASmF,EAAK0H,cAAgBhN,MAAO,CAAC,UACpG3C,eAAC0C,GAAQ,CAAC5B,MAAM,QAAQgC,QAASmF,EAAK7H,MAAMyG,iBAAkBlE,MAAO,CAAC,eAAgBM,KAAK,+BAE/F,KACJ,OACItC,gBAAA4L,YAAA,CAAA9L,SAAA,CACKiQ,EACAD,MAGZxI,EAED0I,YAAc,WACV,OAAI/H,gBAEIjI,gBAAA4L,YAAA,CAAA9L,SAAA,CACKwH,EAAKsI,gBACN5P,gBAAA,OAAKC,UAAU,aAAYH,SAAA,CACvBE,gBAAA,MAAIC,UAAU,gCAA+BH,SAAA,CAAEwH,EAAK7H,MAAM9C,KAAKmB,GAAG,KAAGwJ,EAAK7H,MAAM9C,KAAK0L,MAAM,OAC3FhJ,eAAC0C,GAAQ,CAAC5B,MAAM,OAAOgC,QAAS,kBAAImF,EAAKoB,SAAS,CAAC4F,aAAchH,EAAKtJ,MAAMsQ,eAAetM,MAAO,CAAC,QAASE,IAAI,6CAEpH7C,eAAA,OAAKY,UAAU,kBAKvBD,gBAAA4L,YAAA,CAAA9L,SAAA,CACIE,gBAAA,OAAKC,UAAU,mBAAkBH,SAAA,CAC7BE,gBAAA,MAAIC,UAAU,gCAA+BH,SAAA,CAAEwH,EAAK7H,MAAM9C,KAAKmB,GAAG,KAAGwJ,EAAK7H,MAAM9C,KAAK0L,MAAM,OAC3FhJ,eAAA,MAAIY,UAAU,gCAA+BH,SAAEwH,EAAKtJ,MAAMoQ,mBAAkB,GAAA/T,OAAMiN,EAAKtJ,MAAMqQ,aAAe,EAAC,KAAAhU,OAAIiN,EAAK7H,MAAM9C,KAAK2Q,OAAO1R,QAAW,KACnJoE,gBAAA,OAAAF,SAAA,CACIT,eAAC0C,GAAQ,CAAC5B,MAAM,OAAOgC,QAAS,kBAAImF,EAAKoB,SAAS,CAAC4F,aAAchH,EAAKtJ,MAAMsQ,eAAetM,MAAO,CAAC,QAASE,IAAI,0CAC/GoF,EAAKsI,sBAGdvQ,eAAA,OAAKY,UAAU,mBAI1BqH,EAiBA,OAjBAgB,aAAA0F,EAAA,EAAAzF,IAAA,oBAAA9H,MAvLD,WACI+H,KAAK/I,MAAMuH,cACXwB,KAAK/I,MAAMoE,UAAU2E,KAAK/I,MAAM0N,MAAMC,OAAOtP,MAChD,CAAAyK,IAAA,qBAAA9H,MAED,SAAmBwP,GACXA,EAAUtT,MACNsT,EAAUtT,KAAKmB,KAAO0K,KAAK/I,MAAM9C,KAAKmB,IACtC0K,KAAKE,SAAS,CAAE2F,aAAc,MAGzC,CAAA9F,IAAA,SAAA9H,MA8KD,WACI,OAAI+H,KAAK/I,MAAM9C,KAEPqD,gBAACR,GAAI,CAACK,KAAM2I,KAAK/I,MAAMoJ,SAASC,SAAShJ,SAAA,CACrCT,eAACF,GAAS,IACVE,eAAA,OAAKY,UAAU,eAAeiQ,UAAW1H,KAAKgG,cAAc1O,SACxDE,gBAAA,OAAKC,UAAU,cAAaH,SAAA,CACvB0I,KAAKwH,cACLxH,KAAKgH,uBAMnBnQ,eAACU,GAAQ,QACnBiO,EAnNS,CAAS9E,IAAMC,WA8NdC,gBARS,SAACpL,EAAOwP,GAC5B,MAAO,CACH7Q,KAAMqB,EAAMpD,MAAM4S,EAASL,MAAMC,OAAOtP,IACxCwO,UAAWtO,EAAM9C,SAASmC,QAC1BM,SAAUK,EAAMe,KAAKpB,YAIW,CAAEkG,aAAWmD,eAAarC,iBAAeuB,qBAAlEkD,CAAsF4E,ICzNxFmC,GAAS,WAMlB,OALsB,IAAIC,MACZC,OAAO,QAAS,CAC1BxQ,KAAM5C,GACNqT,OAAQ,WAEL,CAAEpW,KAAMP,ICzBbmR,GAAc,SAAHjI,GAAsC,IAAhCkI,EAAKlI,EAALkI,MAAOC,EAAKnI,EAALmI,MAAOC,EAAIpI,EAAJoI,KAAM/Q,EAAI2I,EAAJ3I,KACvC,OACI8F,gBAAA,OAAKC,UAAS,SAAA5F,OAAW4Q,EAAKzQ,OAASyQ,EAAKE,QAAU,QAAU,IAAKrL,SAAA,CACjET,eAAA,SAAAS,SAAQkL,IACR3L,eAAA,QAAAjE,wBAAA,GAAW2P,GAAK,IAAE7Q,KAAMA,EAAMkR,aAAa,SAC1CC,GAAYJ,OAKnBI,GAAc,SAAHvH,GAA4B,IAAtBtJ,EAAKsJ,EAALtJ,MACnB,GADiCsJ,EAAPqH,SACX3Q,EACX,OACI6E,eAAA,OAAKY,UAAU,mBAAkBH,SAC7BT,eAAA,OAAKY,UAAU,SAAQH,SAClBtF,OAoCN+Q,gBAAU,CACrB7M,KAAM,WACN8M,SAba,SAAAC,GACb,IAAMC,EAAS,GAOf,OANKD,EAAW8E,WACZ7E,EAAO6E,SAAW,qCAEjB9E,EAAW+E,WACZ9E,EAAO8E,SAAW,yBAEf9E,IAGIH,CAGZnC,YAAQ,KAAM,CAAEqH,MDtDE,SAAH5N,GAAA,IAAM0N,EAAQ1N,EAAR0N,SAAUC,EAAQ3N,EAAR2N,SAAQ,sBAAA1M,EAAAhB,aAAAC,KAAAC,MAAO,SAAAC,EAAMlJ,GAAQ,IAAAC,EAAA,OAAA+I,KAAAG,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAEhCd,GAAGsK,KAAK,mBAAoB,CAAE0D,WAAUC,aAAW,OAApExW,EAAQmJ,EAAAI,KACdxJ,EAAS,CAAEG,KAAMR,EAAOS,QAASH,EAASwJ,KAAK5F,SACzB,IAAIwS,MACZM,IAAI,QAAS1W,EAASwJ,KAAK5F,MAAO,CAC5CiC,KAAM5C,GACNqT,OAAQ,WAEZ9K,GAAQmL,SAAQxN,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAAM,GAAAN,EAAA,SAEhBtJ,EAAWsJ,EAAAM,GAAM1J,GAAS,yBAAAoJ,EAAAO,UAAAT,EAAA,mBAEjC,gBAAAU,GAAA,OAAAG,EAAAF,MAAA,KAAA3F,YAbyC,KCsDvCmL,EAhCW,SAAC3J,GAMX,OACIJ,eAAA,OAAKY,UAAU,eAAcH,SACzBE,gBAAA,QAAMC,UAAU,gBAAgB4L,SAAUpM,EAAMqM,cANvC,SAACL,GACdhM,EAAMgR,MAAMhF,MAK+D3L,SAAA,CACnET,eAAC0M,KAAK,CAACnN,KAAK,WAAWoN,UAAWlB,GAAaE,MAAM,0BAAiB9Q,KAAK,SAC3EmF,eAAC0M,KAAK,CAACnN,KAAK,WAAWoN,UAAWlB,GAAaE,MAAM,YAAS9Q,KAAK,aACnEmF,eAAA,UAAQY,UAAU,oBAAmBH,SAAC,8B,mBCDvCsJ,eAAQ,KAAM,CAACjD,kBAAgBpB,sBAAoB6L,aX+DtC,SAAChU,GACzB,MAAO,CAAE1C,KAAMvB,EAAewB,QAASyC,KWhE5BwM,EA/BM,SAAA3J,GACjB,IAAMoR,EAA2B,IAAdpR,EAAM7C,IACnBkU,EAAerR,EAAM7C,MAAQ6C,EAAM7D,OAAS,EAOlD,OACIyD,eAAA,OAAKY,UAAS,gBAAA5F,OAAkBoF,EAAM9D,eAAiB8D,EAAM7C,IAAM,mBAAqB,IAAKkD,SACzFE,gBAAA,MAAIC,UAAU,SAAQH,SAAA,EAChBL,EAAMsR,cACJ/Q,gBAAA4L,YAAA,CAAA9L,SAAA,CACIT,eAAA,KAAGY,UAAS,GAAA5F,OAAKwW,EAAa,OAAS,UAAS,8BAA8B1O,QAAS,kBAAM1C,EAAM0G,eAAe1G,EAAM7C,KAAK,EAAM6C,EAAM4E,eACzIhF,eAAA,KAAGY,UAAS,GAAA5F,OAAKyW,EAAe,OAAS,UAAS,gCAAgC3O,QAAS,kBAAM1C,EAAM0G,eAAe1G,EAAM7C,KAAK,EAAO6C,EAAM4E,kBAGtJrE,gBAACmI,KAAI,CAACC,GAAE,GAAA/N,OAAK4C,GAAQ,WAAA5C,OAAUoF,EAAM9C,KAAKmB,IAAMqE,QAfxC,WACZ1C,EAAMvE,UACNuE,EAAMmR,aAAanR,EAAM7C,MAaiDqD,UAAU,uBAAsBH,SAAA,CAAEL,EAAM9C,KAAKmB,GAAG,KAAG2B,EAAM9C,KAAK0L,UAElI5I,EAAMsR,cACJ1R,eAAA,OAAKY,UAAU,gBAAeH,SAC1BT,eAAA,KAAGY,UAAU,gCAAgCkC,QAAS,kBAAM1C,EAAMsF,mBAAmBtF,EAAM9C,KAAKmB,GAAI2B,EAAM4E,yBCZ5H2M,GAAY,SAAA9J,GAAAC,aAAA6J,EAAA9J,GAAA,IAAAE,EAAAC,aAAA2J,GAAA,SAAAA,IAAA,IAAA1J,EAAAC,aAAA,KAAAyJ,GAAA,QAAAxJ,EAAAvJ,UAAArC,OAAA6L,EAAA,IAAAC,MAAAF,GAAAG,EAAA,EAAAA,EAAAH,EAAAG,IAAAF,EAAAE,GAAA1J,UAAA0J,GAGb,OAHaL,EAAAF,EAAAQ,KAAAhE,MAAAwD,EAAA,OAAA/M,OAAAoN,KACdzJ,MAAQ,CACJiT,gBAAiB,GACpB3J,EAgFA,OAhFAgB,aAAA0I,EAAA,EAAAzI,IAAA,oBAAA9H,MAED,WACI+H,KAAK/I,MAAMmD,aACX4F,KAAK/I,MAAMyR,mBACd,CAAA3I,IAAA,cAAA9H,MAED,SAAY7D,GACR4L,KAAKE,SAAS,CAAEuI,eAAgBzI,KAAKxK,MAAMiT,iBAAmBrU,GAAO,EAAIA,MAC5E,CAAA2L,IAAA,WAAA9H,MAED,SAAS3C,GACLqT,UAAUC,UAAUC,UAAU,GAADhX,OAAI6C,GAAQ,eAAA7C,OAAcyD,IACvD0K,KAAK/I,MAAMsH,SAAS,+DAAiD,aACxE,CAAAwB,IAAA,oBAAA9H,MAED,SAAkB6Q,GACd,OACItR,gBAAA,KAAAF,SAAA,CAAG,kBAAa,IAAIyR,KAAKA,KAAKC,MAAMF,IAAOG,mBAAmB,cAErE,CAAAlJ,IAAA,SAAA9H,MAED,WAAU,IAADkI,EAAA,KACL,OAAIH,KAAK/I,MAAMT,aAAa1B,OAEpB+B,eAACG,GAAI,CAACK,KAAM2I,KAAK/I,MAAMoJ,SAASC,SAAShJ,SACrCE,gBAAA,OAAKC,UAAU,eAAcH,SAAA,CACzBT,eAACF,GAAS,IACVE,eAAA,MAAAS,SAAI,+BACF0I,KAAK/I,MAAMT,aAAavB,MAAQ+K,KAAK/I,MAAMT,aAAavB,KAAK7B,OAAS,IAAMuC,IAAEsK,QAAQD,KAAK/I,MAAM7E,OACnGyE,eAACqS,KAAS,CAACC,OAAK,EAACC,QAAM,EAAA9R,SAClB0I,KAAK/I,MAAMT,aAAavB,KAAKf,KAAI,SAAAxB,GAAQ,OACtC8E,gBAAA,OAAAF,SAAA,CACIT,eAACqS,KAAUG,MAAK,CACZzU,OAAQuL,EAAK3K,MAAMiT,iBAAmB/V,EAAS4C,GAC/CqE,QAAS,kBAAMwG,EAAKmJ,YAAY5W,EAAS4C,KAAIgC,SAE7CE,gBAAA,OAAKC,UAAU,aAAYH,SAAA,CACvBE,gBAAA,MAAAF,SAAA,CACIT,eAAC0S,KAAI,CAACnT,KAAK,aACV1D,EAAS0D,SAEXqJ,iBAAgBU,EAAKqJ,kBAAkB9W,EAAS+W,iBAG3DjS,gBAAC0R,KAAUtH,QAAO,CAAChN,OAAQuL,EAAK3K,MAAMiT,iBAAmB/V,EAAS4C,GAAGgC,SAAA,CAC/DmI,iBAAgBU,EAAKqJ,kBAAkB9W,EAAS+W,YAClD5S,eAAC0C,GAAQ,CAACG,IAAI,iBAAW/B,MAAM,QAAQgC,QAAS,kBAAMwG,EAAKlJ,MAAMiH,aAAaxL,EAAS4C,IAAI,IAAOkE,MAAO,CAAC,iBAC1G3C,eAAC0C,GAAQ,CAACG,IAAI,eAAY/B,MAAM,SAASgC,QAAS,kBAAMwG,EAAKuJ,SAAShX,EAAS4C,KAAKkE,MAAO,CAAC,qBAC5F3C,eAAC0C,GAAQ,CAACG,IAAI,mBAAa/B,MAAM,OAAOgC,QAAS,kBAAMwG,EAAKlJ,MAAMiH,aAAaxL,EAAS4C,IAAI,IAAQkE,MAAO,CAAC,UAC3G2G,EAAKlJ,MAAM9B,UACR0B,eAAC6M,GAAO,CACJ/B,OAAO,sDACPF,gBAAiB,kBAAM5K,eAAC0C,GAAQ,CAACG,IAAI,eAAS/B,MAAM,MAAM6B,MAAO,CAAC,sBAClEwI,UAAU,WACVE,YAAY,eACZC,UAAW,kBAAMhC,EAAKlJ,MAAMkG,cAAczK,EAAS4C,KACnD8M,UAAQ,EACR9M,GAAI5C,EAAS4C,GAAGgC,SACnB,wHAILT,eAAA,OAAKY,UAAU,kCAAiCH,SAC3C5E,EAASN,MAAMgB,OAAS,EAAIV,EAASN,MAAM8B,KAAI,SAACT,EAAQW,GAAG,OACxDyC,eAAC8S,GAAY,CAAWxV,KAAMgM,EAAKlJ,MAAM7E,MAAMqB,GAASW,IAAKA,EAAKhB,OAAQV,EAASN,MAAMgB,OAAQmV,cAAepI,EAAKlJ,MAAM9B,SAAU0G,WAAYnJ,EAAS4C,IAAvIlB,MAClByC,eAAA,KAAGY,UAAU,gBAAeH,SAAC,4CAlCpC5E,EAAS4C,SAyCvBuB,eAAA,KAAGY,UAAU,yBAAwBH,SAAC,2BAMnDT,eAACU,GAAQ,QACnBiR,EAnFa,CAAS9H,IAAMC,WA8FlBC,gBARS,SAACpL,GACrB,MAAO,CACHpD,MAAOoD,EAAMpD,MACboE,aAAchB,EAAMgB,aACpBrB,SAAUK,EAAMe,KAAKpB,YAIW,CAACuT,eZqDX,WAAH,sBAAAtD,EAAA9K,aAAAC,KAAAC,MAAS,SAAA6K,EAAM9T,GAAQ,IAAAC,EAAA,OAAA+I,KAAAG,MAAA,SAAA4K,GAAA,cAAAA,EAAA1K,KAAA0K,EAAAzK,MAAA,cAAAyK,EAAA1K,KAAA,EAAA0K,EAAAzK,KAAA,EAEnBd,GAAGe,IAAI,2BAA0B,OAAlDtJ,EAAQ8T,EAAAvK,KACdxJ,EAAS,CAACG,KAAMhB,EAAiBiB,QAASH,EAASwJ,KAAK9G,KAAI,SAAAwC,GAAE,OAAA9D,wBAAA,GAAS8D,GAAE,IAAEtE,MAAOkC,GAAyBoC,EAAGtE,cAAWkT,EAAAzK,KAAA,gBAAAyK,EAAA1K,KAAA,EAAA0K,EAAArK,GAAAqK,EAAA,SAEzHjU,EAAWiU,EAAArK,GAAM1J,GAAS,yBAAA+T,EAAApK,UAAAmK,EAAA,kBAEjC,gBAAAuE,GAAA,OAAAxE,EAAAhK,MAAA,KAAA3F,YAP0B,IYrD8B2E,cAAY8D,gBAAcK,YAAUpB,kBAA9EyD,CAA8F4H,IClF9F5H,gBAJS,SAAApL,GACpB,MAAO,CAAEL,SAAUK,EAAMe,KAAKpB,YAGM,CAAEwS,WAA3B/G,EArBA,SAAC3J,GAEZ,IAAM4S,EAAW5S,EAAM9B,SAErB0B,eAAA,KAAGY,UAAU,sBAAsBkC,QAAS,kBAAM1C,EAAM0Q,UAASrQ,SAAC,qBAClET,eAAC8I,KAAI,CAACC,GAAE,GAAA/N,OAAK4C,GAAQ,UAAUgD,UAAU,4BAA2BH,SAAC,2BAEvE,OACIE,gBAAA,OAAKC,UAAU,4DAA2DH,SAAA,CACtEE,gBAAA,KAAGC,UAAU,gBAAeH,SAAA,CAAC,yCAC7BT,eAAA,KAAGqC,OAAO,SAAS4Q,IAAI,aAAaC,KAAK,6CAA4CzS,SAACT,eAAA,KAAG,aAAW,8BAAwBY,UAAU,kBAAsBZ,eAAA,SAAK,aACjKA,eAAA,KAAGqC,OAAO,SAAS4Q,IAAI,aAAaC,KAAK,mBAAkBzS,SAAC,iDAAiC,oBAC5FuS,QCsDEjJ,gBAPS,SAAApL,GACpB,MAAO,CACHS,MAAOT,EAAMS,MACbd,SAAUK,EAAMe,KAAKpB,YAIW,CAAEqJ,eAAamJ,WAAxC/G,EA9DA,SAAC3J,GACZ,IAAAY,EAAgCC,oBAAS,GAAMC,EAAAC,aAAAH,EAAA,GAAxCmS,EAAQjS,EAAA,GAAEkS,EAAWlS,EAAA,GAEtB9B,EAAQgB,EAAMhB,MAAMrE,IACtBiF,eAACsK,KAAK,CAACC,QAAS,WAAOnK,EAAMuH,eAAgB6C,SAAUpK,EAAMhB,MAAMvE,KAAK4F,SACnEL,EAAMhB,MAAMrE,MAEf,KAEAiY,EAAW5S,EAAM9B,SACjB0B,eAAA,KAAGY,UAAU,mBAAmBkC,QAAS,WAAO1C,EAAM0Q,SAASsC,GAAaD,IAAW1S,SAAC,qBACxFT,eAAC8I,KAAI,CAACC,GAAE,GAAA/N,OAAK4C,GAAQ,UAAUgD,UAAU,mBAAmBkC,QAAS,kBAAMsQ,GAAaD,IAAU1S,SAAC,2BAEnG4S,EAAUjT,EAAM9B,SAAW0B,eAAC8I,KAAI,CAACC,GAAE,GAAA/N,OAAK4C,GAAQ,cAAcgD,UAAU,mBAAmBkC,QAAS,kBAAMsQ,GAAY,IAAO3S,SAAC,kBAAiB,KAErJ,OAAImI,gBAEIjI,gBAAA,OAAKC,UAAU,8CAA6CH,SAAA,CACxDE,gBAAA,OAAKC,UAAU,aAAYH,SAAA,CACvBT,eAAC8I,KAAI,CAACC,GAAE,GAAA/N,OAAK4C,IAAYgD,UAAU,OAAOkC,QAAS,kBAAMsQ,GAAY,IAAO3S,SACxET,eAAA,MAAIY,UAAU,kBAAiBH,SAAC,gCAEpCT,eAAA,OAAKY,UAAU,gBAAeH,SAC1BT,eAAA,KAAGY,UAAU,YAAYkC,QAAS,kBAAMsQ,GAAaD,WAG5DA,GACGxS,gBAAA,OAAAF,SAAA,CACIT,eAAC8I,KAAI,CAACC,GAAE,GAAA/N,OAAK4C,IAAYgD,UAAU,mBAAmBkC,QAAS,kBAAMsQ,GAAY,IAAO3S,SAAC,yBACxF4S,EACDrT,eAAC8I,KAAI,CAACC,GAAE,GAAA/N,OAAK4C,GAAQ,cAAcgD,UAAU,mBAAmBkC,QAAS,kBAAMsQ,GAAY,IAAO3S,SAAC,+BAClGuS,KAGThT,eAAA,OAAKY,UAAU,WAAUH,SACpBrB,OAMbuB,gBAAA,OAAKC,UAAU,uCAAsCH,SAAA,CACjDT,eAAC8I,KAAI,CAACC,GAAE,GAAA/N,OAAK4C,IAAYgD,UAAU,QAAOH,SACtCT,eAAA,MAAIY,UAAU,kBAAiBH,SAAC,gCAEpCT,eAAC8I,KAAI,CAACC,GAAE,GAAA/N,OAAK4C,IAAYgD,UAAU,mBAAkBH,SAAC,yBACrD4S,EACDrT,eAAC8I,KAAI,CAACC,GAAE,GAAA/N,OAAK4C,GAAQ,cAAcgD,UAAU,mBAAkBH,SAAC,+BAChET,eAAA,OAAKY,UAAU,WAAUH,SACpBrB,UCvDXqM,GAAc,SAAHjI,GAAsC,IAAhCkI,EAAKlI,EAALkI,MAAOC,EAAKnI,EAALmI,MAAOC,EAAIpI,EAAJoI,KAAM/Q,EAAI2I,EAAJ3I,KACvC,OACI8F,gBAAA,OAAKC,UAAS,GAAA5F,OAAK4Q,EAAKzQ,OAASyQ,EAAKE,QAAU,QAAU,IAAKrL,SAAA,CAC3DT,eAAA,SAAAS,SAAQkL,IACR3L,eAAA,QAAAjE,wBAAA,GAAW2P,GAAK,IAAE7Q,KAAMA,EAAMkR,aAAa,SAC1CC,GAAYJ,OAKnBI,GAAc,SAAHvH,GAA4B,IAAtBtJ,EAAKsJ,EAALtJ,MACnB,GADiCsJ,EAAPqH,SACX3Q,EACX,OACI6E,eAAA,OAAKY,UAAU,mBAAkBH,SAC7BT,eAAA,OAAKY,UAAU,SAAQH,SAClBtF,OAsCN+Q,gBAAU,CACrB7M,KAAM,eACN8M,SAVa,SAAAC,GACb,IAAMC,EAAS,GAIf,OAHKD,EAAW7M,OACZ8M,EAAO9M,KAAO,8CAEX8M,IAGIH,EA/BM,SAAA9L,GACjB,IAAMoM,EAAW,SAAAJ,GACbhM,EAAMoM,SAASJ,IAGnB,OACIpM,eAAC6M,GAAO,CACJ/B,OAAO,oCACPF,gBAAiB,kBAAM5K,eAAC0C,GAAQ,CAACM,SAAU5C,EAAM4C,SAAUH,IAAI,oCAA2B/B,MAAM,SAAS6B,MAAO,CAAC,WACjHwI,UAAW,WACXE,YAAa,YACbC,UAAWlL,EAAMqM,aAAaD,GAC9BhB,SAAO,EACP/M,GAAI,EAAEgC,SAENT,eAAA,QAAMY,UAAU,gBAAgB4L,SAAUpM,EAAMqM,aAAaD,GAAU/L,SACnET,eAAC0M,KAAK,CAACf,MAAM,8BAAwBpM,KAAK,OAAO1E,KAAK,OAAO8R,UAAWlB,YCnBlF6H,GAAQ,SAAAzL,GAAAC,aAAAwL,EAAAzL,GAAA,IAAAE,EAAAC,aAAAsL,GAAA,SAAAA,IAAA,IAAArL,EAAAC,aAAA,KAAAoL,GAAA,QAAAnL,EAAAvJ,UAAArC,OAAA6L,EAAA,IAAAC,MAAAF,GAAAG,EAAA,EAAAA,EAAAH,EAAAG,IAAAF,EAAAE,GAAA1J,UAAA0J,GAgCT,OAhCSL,EAAAF,EAAAQ,KAAAhE,MAAAwD,EAAA,OAAA/M,OAAAoN,KACVzJ,MAAQ,CACJH,MAAM,GACTyJ,EAMDsL,eAAiB,SAAC/T,GACd,GAAIV,IAAEsK,QAAQnB,EAAK7H,MAAM7E,SAAW0M,EAAKtJ,MAAMH,OAASyJ,EAAK7H,MAAMvE,SAASN,MACxE,OAAO,KAEX,IAAM6C,EAAO6J,EAAK7H,MAAMvE,SAASN,MAAM8B,KAAI,SAACT,EAAQW,GAChD,IAAMD,EAAO2K,EAAK7H,MAAM7E,MAAMwK,MAAK,SAAAyN,GAAE,OAAIA,EAAG/U,KAAO7B,KACnD,OAAOU,GAAQ0C,eAAC8S,GAAY,CAAWxV,KAAMA,EAAMC,IAAKA,EAAKhB,OAAQ0L,EAAK7H,MAAMvE,SAASN,MAAMgB,OAAQD,aAAc2L,EAAK7H,MAAMvE,SAASS,aAAcoV,cAAelS,EAAY3D,UAAQ,EAACmJ,WAAYiD,EAAK7H,MAAMvE,SAASoC,QAAzLV,MAGhCgM,EAAQnL,EAAK7B,OAAS,EAAI,GAAMyD,eAAA,KAAGY,UAAU,gBAAeH,SAAC,qCACnE,OACIE,gBAAA4L,YAAA,CAAA9L,SAAA,CACIT,eAAA,OAAKY,UAAU,kCAAiCH,SAC3CrC,IAEJmL,MAGZtB,EAEDsC,QAAU,SAACnI,GACP6F,EAAK7H,MAAMyG,mBACXzE,EAAEW,mBACLkF,EA+DA,OA/DAgB,aAAAqK,EAAA,EAAApK,IAAA,oBAAA9H,MA3BD,WACI+H,KAAK/I,MAAMmD,eACd,CAAA2F,IAAA,WAAA9H,MA2BD,SAAS3C,GACLqT,UAAUC,UAAUC,UAAU,GAADhX,OAAI6C,GAAQ,eAAA7C,OAAcyD,IACvD0K,KAAK/I,MAAMsH,SAAS,+DAAiD,aACxE,CAAAwB,IAAA,SAAA9H,MAED,WAAU,IAADkI,EAAA,KAEL,IAAKH,KAAK/I,MAAMvE,SAASmC,UAAYmL,KAAK/I,MAAMvE,SAASN,MACrD,OAAO,KAEX,IAAMe,EAAoD,IAArC6M,KAAK/I,MAAMvE,SAASN,MAAMgB,OAAe,EAAI4M,KAAK/I,MAAMvE,SAASS,aAAe,EAC/FmX,EAAetK,KAAKxK,MAAMH,KAC5BmC,gBAAA,OAAKC,UAAU,qBAAqBkC,QAAS,kBAAMwG,EAAKD,SAAS,CAAC7K,MAAO8K,EAAK3K,MAAMH,QAAOiC,SAAA,CACvFT,eAAA,KAAGY,UAAS,QAAA5F,OAAUmO,KAAKxK,MAAMH,KAAO,QAAU,UAClDwB,eAAA,KAAGY,UAAU,iBAAiBkC,QAASqG,KAAKoB,aAEhD,KACE/K,GAAc2J,KAAK/I,MAAMvE,SAASoC,QAAUkL,KAAK/I,MAAM9B,SAC7D,OACI0B,eAAAuM,YAAA,CAAA9L,SACIE,gBAAA,OAAKC,UAAU,qBAAoBH,SAAA,CAC/BT,eAACF,GAAS,IACVa,gBAAA,OAAKC,UAAU,qBAAqBkC,QAAS,kBAAMwG,EAAKD,SAAS,CAAC7K,MAAO8K,EAAK3K,MAAMH,QAAOiC,SAAA,CACvFE,gBAAA,MAAAF,SAAA,CAAK0I,KAAK/I,MAAMvE,SAASoC,OAASkL,KAAK/I,MAAMvE,SAASsC,WAAa,yBAAmB,IAAC,GAAAnD,OAAIsB,EAAY,KAAAtB,OAAImO,KAAK/I,MAAMvE,SAASN,MAAMgB,WACrIoE,gBAAA,OAAAF,SAAA,CACIT,eAAA,KAAGY,UAAS,QAAA5F,OAAUmO,KAAKxK,MAAMH,KAAO,QAAU,UAAc,WAChEwB,eAAA,KAAGY,UAAU,iBAAiBkC,QAASqG,KAAKoB,gBAGpD5J,gBAAA,OAAKC,UAAU,qBAAoBH,SAAA,CAC9B0I,KAAK/I,MAAM9B,WAAa6K,KAAK/I,MAAMvE,SAASoC,QACzC+B,eAAC0T,GAAY,CAAClH,SAAU,SAACe,GAAQ,OAAKjE,EAAKlJ,MAAMuT,aAAapG,IAAWvK,SAA+C,IAArCmG,KAAK/I,MAAMvE,SAASN,MAAMgB,SAEhH4M,KAAK/I,MAAMvE,SAASoC,OACjB0C,gBAAA4L,YAAA,CAAA9L,SAAA,CACIT,eAAC0C,GAAQ,CAACG,IAAI,kCAAsB/B,MAAM,SAASgC,QAASqG,KAAK/I,MAAMwT,eAAgBjR,MAAO,CAAC,kBAC/F3C,eAAC0C,GAAQ,CAACG,IAAI,eAAY/B,MAAM,SAASgC,QAAS,kBAAMwG,EAAKuJ,SAASvJ,EAAKlJ,MAAMvE,SAASoC,SAAU0E,MAAO,CAAC,wBAIhH3C,eAAC6M,GAAO,CACJ/B,OAAO,sDACPF,gBAAiB,kBAAM5K,eAAC0C,GAAQ,CAACM,SAA+C,IAArCsG,EAAKlJ,MAAMvE,SAASN,MAAMgB,SAAiB+M,EAAKlJ,MAAMvE,SAASoC,OAAQ4E,IAAI,uCAA2B/B,MAAM,WAAW6B,MAAO,CAAC,sBAC1KwI,UAAU,WACVE,YAAY,eACZC,UAAWnC,KAAK/I,MAAMkG,cACtBiF,UAAQ,EACR9M,GAAI,EAAEgC,SACT,kGAILT,eAAC0C,GAAQ,CAACM,UAAWmG,KAAK/I,MAAMvE,SAASkC,OAAQ8E,IAAI,0BAAa/B,MAAM,OAAOgC,QAAS,kBAAMwG,EAAKlJ,MAAM8F,cAAa,EAAOoD,EAAKlJ,MAAMvE,WAAW8G,MAAO,CAAC,cAC3J3C,eAAC0C,GAAQ,CAACM,SAAUmG,KAAK/I,MAAMvE,SAASkC,QAA+C,IAArCoL,KAAK/I,MAAMvE,SAASN,MAAMgB,OAAcsG,IAAI,wCAA4B/B,MAAM,QAAQgC,QAAS,kBAAMwG,EAAKlJ,MAAMyT,cAAcvK,EAAKlJ,MAAMvE,WAAW8G,MAAO,CAAC,UAC9M3C,eAAC0C,GAAQ,CAACM,UAAWmG,KAAK/I,MAAMvE,SAASkC,OAAQ8E,IAAI,4BAAiB/B,MAAM,OAAOgC,QAAS,kBAAMwG,EAAKlJ,MAAM8F,cAAa,EAAMoD,EAAKlJ,MAAMvE,WAAW8G,MAAO,CAAC,gBAEjKwG,KAAKoK,eAAe/T,GACpBiU,WAIhBH,EA/FS,CAASzJ,IAAMC,WA0GdC,gBARS,SAAApL,GACpB,MAAO,CACHpD,MAAOyO,OAAOC,OAAOtL,EAAMpD,OAC3BM,SAAU8C,EAAM9C,SAChByC,SAAUK,EAAMe,KAAKpB,YAIW,CACpCiF,cACA2C,gBACA2N,chB7ByB,SAAClV,GAE1B,OADAwH,GAAQC,KAAK,GAADpL,OAAI4C,GAAQ,WAAA5C,OAAU2D,EAAMpD,MAAMoD,EAAMrC,gBAC7C,CAACzB,KAAMtB,IgB4Bd+M,iBACAZ,sBACAmB,oBACAC,kBACA6M,ahBYwB,SAAApG,GAAQ,sBAAAa,EAAA3K,aAAAC,KAAAC,MAAI,SAAA0K,EAAO3T,EAAUoK,GAAQ,IAAAnK,EAAA,OAAA+I,KAAAG,MAAA,SAAAyK,GAAA,cAAAA,EAAAvK,KAAAuK,EAAAtK,MAAA,cAAAsK,EAAAvK,KAAA,EAAAuK,EAAAtK,KAAA,EAElCd,GAAGsK,KAAK,cAAe,CAC1CjO,KAAMgO,EAAShO,KACfhE,MAAO6B,GAAoB0H,IAAWjJ,SAASN,QAChD,CAAE4J,QAAS,CAAC,cAAgB,SAADnK,OAAW8J,IAAWpF,KAAKnB,UAAW,OAH9D5D,EAAQ2T,EAAApK,KAIVxJ,EAAS,CAACG,KAAMT,IAChBM,EAAS,CAACG,KAAMjB,EAAekB,QAAOiB,wBAAA,GAAMpB,EAASwJ,MAAI,IAAE5I,MAAOkC,GAAyB9C,EAASwJ,KAAK5I,WAAS+S,EAAAtK,KAAA,gBAAAsK,EAAAvK,KAAA,EAAAuK,EAAAlK,GAAAkK,EAAA,SAEtH9T,EAAW8T,EAAAlK,GAAM1J,GAAS,yBAAA4T,EAAAjK,UAAAgK,EAAA,kBAEjC,gBAAAyF,EAAAC,GAAA,OAAA3F,EAAA7J,MAAA,KAAA3F,YAXmC,IgBXhCgV,ehB0C0B,WAC1B,MAAO,CAAC/Y,KAAMd,IgB1Cd2N,aAVWqC,CAWZuJ,ICxHGU,GAAG,SAAAnM,GAAAC,aAAAkM,EAAAnM,GAAA,IAAAE,EAAAC,aAAAgM,GAAA,SAAAA,IAAA,OAAA9L,aAAA,KAAA8L,GAAAjM,EAAAxD,MAAA,KAAA3F,WAgCJ,OAhCIqK,aAAA+K,EAAA,EAAA9K,IAAA,oBAAA9H,MACL,WACI,IACM6S,GADI,IAAIlD,MACQ9M,IAAI,SACtBgQ,GACA9K,KAAK/I,MAAM8T,gBAAgBD,GAE/B9K,KAAK/I,MAAM+T,iBACd,CAAAjL,IAAA,SAAA9H,MAED,WAAU,IAAD6G,EAAA,KACL,OACIjI,eAAA,OAAAS,SACIE,gBAACyT,KAAM,CAACjO,QAASA,GAAQ1F,SAAA,CACrBT,eAAC6K,GAAM,IACPlK,gBAAC0T,KAAM,CAAA5T,SAAA,CACHT,eAACsU,KAAK,CAAC9T,KAAI,GAAAxF,OAAK4C,GAAQ,KAAK2W,OAAK,EAAC5H,UAAW/E,KAC9C5H,eAACsU,KAAK,CAAC9T,KAAI,GAAAxF,OAAK4C,GAAQ,cAAc2W,OAAK,EAAC5H,UAAWK,KACvDhN,eAACsU,KAAK,CAAC9T,KAAI,GAAAxF,OAAK4C,GAAQ,mBAAmB2W,OAAK,EAAC5H,UAAWkB,KAC5D7N,eAACsU,KAAK,CAAC9T,KAAI,GAAAxF,OAAK4C,GAAQ,cAAc2W,OAAK,EAAC5H,UAAWgC,KACvD3O,eAACsU,KAAK,CAAC9T,KAAI,GAAAxF,OAAK4C,GAAQ,UAAU2W,OAAK,EAAC5H,UAAW6H,KACnDxU,eAACsU,KAAK,CAAC9T,KAAI,GAAAxF,OAAK4C,GAAQ,cAAc2W,OAAK,EAAC5H,UAAWgF,KACvD3R,eAACsU,KAAK,CAAC9T,KAAI,GAAAxF,OAAK4C,GAAQ,kBAAkB2W,OAAK,EAACE,OAAQ,SAAAjR,GAAc,IAAZsK,EAAKtK,EAALsK,MACtD7F,EAAK7H,MAAMiH,aAAayG,EAAMC,OAAOtP,IAAI,GACzC0H,GAAQC,KAAKxI,UAGrBoC,eAAC0U,GAAM,IACP1U,eAACsT,GAAQ,aAIxBU,EAhCI,CAASnK,IAAMC,WA2CTC,gBAPS,SAAApL,GACpB,MAAO,CACHL,SAAUK,EAAMe,KAAKpB,YAKW,CAAE+I,gBAAc8M,ajByH5B,WACxB,MAAO,CAAEtZ,KAAMN,IiB1HmD2Z,gBR5CvC,SAAA3V,GAC3B,MAAO,CAAE1D,KAAMR,EAAOS,QAASyD,KQ2CpBwL,CAA0EiK,ICnDnFW,IAHmBrU,OAAOsU,sCAAwCC,KAErBC,YAAgBC,eAAK,CAAEC,OAAQ,CAAC,YAAaC,SAAU,MAAOC,KAA/EC,CAA4FC,IAChHC,CAA0BC,GAAiBC,eAAK,CAAEP,OAAQ,CAAC,eAEzEQ,IAASf,OACLzU,eAACyV,IAAQ,CAACd,MAAOA,GAAMlU,SACnBT,eAACgU,GAAG,MAER0B,SAASC,eAAe,U","file":"static/js/main.537168f4.chunk.js","sourcesContent":["export const FETCH_SONGS = 'FETCH_SONGS'\nexport const UPDATE_WITH_WRONG_ID = 'UPDATE_WITH_WRONG_ID'\nexport const UPDATE_WITH_ID = 'UPDATE_WITH_ID'\nexport const UPDATE_WITH_TERM = 'UPDATE_WITH_TERM'\nexport const CANCEL_SEARCH = 'CANCEL_SEARCH'\nexport const FETCH_SONG = 'FETCH_SONG'\nexport const CREATE_SONG = 'CREATE_SONG'\nexport const EDIT_SONG = 'EDIT_SONG'\nexport const DELETE_SONG = 'DELETE_SONG'\n\nexport const NEW_ALERT = 'NEW_ALERT'\nexport const REMOVE_ALERT = 'REMOVE_ALERT'\n\nexport const ADD_TO_PLAYLIST = 'ADD_TO_PLAYLIST'\nexport const REMOVE_FROM_PLAYLIST = 'REMOVE_FROM_PLAYLIST'\nexport const PLAYLIST_NEXT = 'PLAYLIST_NEXT'\nexport const PLAYLIST_STEP = 'PLAYLIST_STEP'\nexport const START_PLAYLIST = 'START_PLAYLIST'\nexport const STOP_PLAYLIST = 'STOP_PLAYLIST'\nexport const CLEAR_PLAYLIST = 'CLEAR_PLAYLIST'\nexport const TOGGLE_VISIBILITY = 'TOGGLE_VISIBILITY'\nexport const MOVE_IN_PLAYLIST = 'MOVE_IN_PLAYLIST'\nexport const SAVE_PLAYLIST = 'SAVE_PLAYLIST'\nexport const FETCH_PLAYLISTS = 'FETCH_PLAYLISTS'\nexport const LOAD_PLAYLIST = 'LOAD_PLAYLIST'\nexport const UNLOAD_PLAYLIST = 'UNLOAD_PLAYLIST'\nexport const DELETE_PLAYLIST = 'DELETE_PLAYLIST'\nexport const REPLACE_PLAYLIST = 'REPLACE_PLAYLIST'\nexport const REPLACE_PLAYLIST_IN_LIST = 'REPLACE_PLAYLIST_IN_LIST'\n\nexport const OPEN_MODAL = 'OPEN_MODAL'\nexport const CLOSE_MODAL = 'CLOSE_MODAL'\n\nexport const LOGIN = 'LOGIN'\nexport const LOGOUT = 'LOGOUT'\n\nexport const RECOVER_STATE = 'RECOVER_STATE'","import { NEW_ALERT, REMOVE_ALERT } from './actions/types'\n\n\nconst setTimeoutToRemoveAlert = (dispatch) => {\n    setTimeout(() => dispatch({type: REMOVE_ALERT}), 5000)\n}\n\nexport const handleError = (err, dispatch) => {\n    if (!err.response) {\n        dispatch({type: NEW_ALERT, payload: {msg: 'Valami baj van', type: 'error'}})\n        console.error(err)\n    } else if (err.response.status === 401 || err.response.status === 403) {\n        dispatch({type: NEW_ALERT, payload: {msg: 'Nem vagy bejelentkezve', type: 'error'}})\n    } else if (err.response.status === 400) {\n        dispatch({type: NEW_ALERT, payload: {msg: 'Hibás felhasználónév vagy jelszó', type: 'error'}})\n    } else {\n        dispatch({type: NEW_ALERT, payload: {msg: `${err.response.status}: ${err.response.statusText}`, type: 'error'}})\n        console.error(err.response)\n    }\n    setTimeoutToRemoveAlert(dispatch)\n}\n\nexport const sortSongs = (songs, field) => {\n    songs.sort((fEl, sEl) => {\n        if (fEl[field] < sEl[field]) {\n            return -1\n        } else if (fEl[field] > sEl[field]) {\n            return 1\n        } return 0\n    })\n}\n\nexport const addToPlaylistReducer = (playlist, newSongId) => {\n    return { ...playlist, songs: [ ...playlist.songs, newSongId]}\n}\n\nexport const removeFromPlaylistReducer = (playlist, idToRemove) => {\n    const remIdx = playlist.songs.indexOf(idToRemove)\n    if (remIdx === -1) {\n        return playlist\n    }\n    let curIdx = playlist.currentIndex\n    if ((remIdx < curIdx || remIdx === playlist.songs.length - 1) && curIdx > 0) {\n        curIdx -= 1\n    }\n    const clonedState = [...playlist.songs]\n    clonedState.splice(remIdx, 1)\n    return { ...playlist, songs: clonedState, currentIndex: curIdx }\n}\n\nexport const removeFromPlaylistReducerNoIndex = (playlist, idToRemove) => {\n    return { ...playlist, songs: playlist.songs.filter(songId => songId !== idToRemove)}\n}\n\nexport const moveInPlaylistReducer = (playlist, up, index) => {\n    if ((index === 0 && up) || (index === playlist.songs.length - 1 && !up)) {\n        return playlist\n    }\n    const otherIndex = up ? index - 1 : index + 1\n    const clonedState = {...playlist}\n    const temp = clonedState.songs[otherIndex]\n    clonedState.songs[otherIndex] = clonedState.songs[index]\n    clonedState.songs[index] = temp\n    let diff = 0\n    if (playlist.currentIndex === index) {\n        diff = up ? -1 : 1\n    } else if (playlist.currentIndex === otherIndex) {\n        diff = up ? 1 : -1\n    }\n    clonedState.currentIndex += diff\n    return clonedState\n}\n\nexport const moveInPlaylistReducerNoIndex = (playlist, up, index) => {\n    if ((index === 0 && up) || (index === playlist.songs.length - 1 && !up)) {\n        return playlist\n    }\n    const otherIndex = up ? index - 1 : index + 1\n    const clonedState = {...playlist}\n    const temp = clonedState.songs[otherIndex]\n    clonedState.songs[otherIndex] = clonedState.songs[index]\n    clonedState.songs[index] = temp\n    return clonedState\n}\n\nexport const addPlacesToPlaylist = (playlist) => {\n    return playlist.map((song, idx) => ({song: song, place: idx}))\n}\n\nexport const removePlacesFromPlaylist = (playlist) => {\n    return playlist.sort((a, b) => a.place - b.place).map(song => song.song)\n}\n\nexport const BASE_URL = ''\nexport const FULL_URL = 'https://dicsi.okgy.hu'","import { \n    ADD_TO_PLAYLIST,\n    REMOVE_FROM_PLAYLIST,\n    PLAYLIST_NEXT,\n    START_PLAYLIST,\n    STOP_PLAYLIST,\n    CLEAR_PLAYLIST,\n    TOGGLE_VISIBILITY,\n    MOVE_IN_PLAYLIST,\n    SAVE_PLAYLIST,\n    LOAD_PLAYLIST,\n    UNLOAD_PLAYLIST,\n    REPLACE_PLAYLIST,\n    PLAYLIST_STEP,\n    RECOVER_STATE\n} from \"../actions/types\"\nimport {\n    addToPlaylistReducer,\n    removeFromPlaylistReducer,\n    moveInPlaylistReducer\n} from \"../util\"\n\nconst defaultState = {\n    songs: [],\n    currentIndex: 0,\n    active: false,\n    visible: false,\n    loaded: undefined,\n    loadedName: '',\n}\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default (state = defaultState, action) => {\n    switch(action.type) {\n        case ADD_TO_PLAYLIST:\n            return addToPlaylistReducer(state, action.payload)\n        case REMOVE_FROM_PLAYLIST:\n            return removeFromPlaylistReducer(state, action.payload)\n        case PLAYLIST_NEXT:\n            return { ...state, currentIndex: action.payload }\n        case START_PLAYLIST:\n            return { ...state, active: true}\n        case STOP_PLAYLIST:\n            return { ...state, active: false}\n        case CLEAR_PLAYLIST:\n            return { ...defaultState, visible: state.visible }\n        case TOGGLE_VISIBILITY:\n            return { ...state, visible: !state.visible}\n        case MOVE_IN_PLAYLIST:\n            return moveInPlaylistReducer(state, action.payload.up, action.payload.index)\n        case SAVE_PLAYLIST:\n            return {...state, songs: action.payload.songs, loaded: action.payload.id, loadedName: action.payload.name}\n        case LOAD_PLAYLIST:\n            return {\n                songs: action.payload.list.songs,\n                currentIndex: 0,\n                active: false,\n                visible: true,\n                loaded: action.payload.modifiable ? action.payload.list.id : undefined,\n                loadedName: action.payload.modifiable ? action.payload.list.name : '',\n            }\n        case UNLOAD_PLAYLIST:\n            return { ...defaultState, visible: true }\n        case REPLACE_PLAYLIST:\n            return action.payload\n        case PLAYLIST_STEP:\n            return { ...state, currentIndex: action.payload }\n        case RECOVER_STATE:\n            if (state.list && !state.songs) {\n                return {...state, songs: state.list}\n            }\n            return state\n        default:\n            return state\n    }\n}","import _ from 'lodash'\n\nimport { UPDATE_WITH_ID, UPDATE_WITH_WRONG_ID, UPDATE_WITH_TERM, CANCEL_SEARCH } from \"../actions/types\"\n\nconst defaultState = {\n    list: [],\n    validSearch: false\n}\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default (state = defaultState, action) => {\n    switch(action.type) {\n        case UPDATE_WITH_ID:\n            return { list: [action.payload.id], validSearch: true }\n        case UPDATE_WITH_WRONG_ID:\n            return { list: [], validSearch: true }\n        case UPDATE_WITH_TERM:\n            return { list: _.uniq(action.payload.map(song => song.id)), validSearch: true}\n        case CANCEL_SEARCH:\n            return defaultState\n        default:\n            return state\n    }\n}","import { LOGIN, LOGOUT } from \"../actions/types\"\n\nconst defaultState = {\n    signedIn: false,\n    token: null,\n}\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default (state = defaultState, action) => {\n    switch(action.type) {\n        case LOGIN:\n            return { signedIn: true, token: action.payload}\n        case LOGOUT:\n            return defaultState\n        default:\n            return state\n    }\n}","import { CLOSE_MODAL, OPEN_MODAL } from \"../actions/types\";\n\nconst defaultState = { open: false, id: undefined }\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default (state = defaultState, action) => {\n    switch(action.type) {\n        case OPEN_MODAL:\n            return { open: true, id: action.payload }\n        case CLOSE_MODAL:\n            return defaultState\n        default:\n            return state\n    }\n}","import { combineReducers } from 'redux'\nimport { reducer as formReducer } from \"redux-form\"\n\nimport songsReducer from './songsReducer'\nimport alertReducer from './alertReducer'\nimport playlistReducer from './playlistReducer'\nimport playlistListReducer from './playlistListReducer'\nimport searchListReducer from './searchListReducer'\nimport authReducer from './authReducer'\nimport modalReducer from './modalReducer'\n\nexport default combineReducers({\n    songs: songsReducer,\n    searchList: searchListReducer,\n    alert: alertReducer,\n    form: formReducer,\n    playlist: playlistReducer,\n    modal: modalReducer,\n    auth: authReducer,\n    playlistList: playlistListReducer,\n})","import _ from 'lodash'\nimport { FETCH_SONGS, FETCH_SONG, CREATE_SONG, EDIT_SONG, DELETE_SONG } from \"../actions/types\"\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default (state = {}, action) => {\n    switch (action.type) {\n        case FETCH_SONGS:\n            return {..._.mapKeys(action.payload, 'id')}\n        case FETCH_SONG:\n            return {...state, [action.payload.id]: action.payload}\n        case CREATE_SONG:\n            return {...state, [action.payload.id]: action.payload}\n        case EDIT_SONG:\n            return {...state, [action.payload.id]: action.payload}\n        case DELETE_SONG:\n            return _.omit(state, action.payload)\n        default:\n            return state\n    }\n}","import { NEW_ALERT, REMOVE_ALERT } from \"../actions/types\"\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default (state = {}, action) => {\n    switch(action.type) {\n        case NEW_ALERT:\n            return action.payload\n        case REMOVE_ALERT:\n            return {}\n        default:\n            return state\n    }\n}","import { FETCH_PLAYLISTS, REPLACE_PLAYLIST_IN_LIST, DELETE_PLAYLIST, DELETE_SONG, SAVE_PLAYLIST, REPLACE_PLAYLIST } from \"../actions/types\"\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default (state = {list: [], loaded: false }, action) => {\n    switch(action.type) {\n        case FETCH_PLAYLISTS:\n            return { list: action.payload, loaded: true }\n        case REPLACE_PLAYLIST:\n        case REPLACE_PLAYLIST_IN_LIST:\n            const listOfIds = state.list.map(pl => pl.id)\n            const idx = listOfIds.indexOf(action.payload.loaded)\n            if (idx === -1) {\n                return state\n            }\n            const clonedState = {...state}\n            clonedState.list[idx].songs = action.payload.songs\n            return clonedState\n        case DELETE_PLAYLIST:\n            return { ...state, list: state.list.filter(pl => pl.id !== action.payload) }\n        case DELETE_SONG:\n            return { ...state, list: state.list.map(pl => ({...pl, songs: pl.songs.filter(songId => songId !== action.payload)}))}\n        case SAVE_PLAYLIST:\n            return { ...state, list: [...state.list, action.payload]}\n        default:\n            return state\n    }\n}","import ReactTooltip from 'react-tooltip'\nimport { isMobile } from 'react-device-detect'\n\nconst MyTooltip = () => {\n    if (isMobile) {\n        return null\n    }\n    return <ReactTooltip effect=\"solid\" />\n}\n\nexport default MyTooltip\n","import { useEffect } from 'react'\n\nconst Page = props => {\n    useEffect(() => {\n        window.scrollTo(0, 0)\n    }, [props.path])\n    return props.children\n}\n\nexport default Page","import React from 'react'\nimport Loader from \"react-loader-spinner\"\n\nimport '../styles.css'\n\nconst MyLoader = () => {\n    return (\n        <div className=\"loader-container\">\n            <Loader\n                type=\"Oval\"\n                color=\"#999897\"\n                visible\n            />\n            <p className=\"big-text\">Betöltés...</p>\n        </div>\n    )\n}\n\nexport default MyLoader","import React, { useState, useEffect } from 'react'\n\nconst SearchBar = props => {\n    const [value, setValue] = useState('')\n    const [debouncedValue, setDebouncedValue] = useState('')\n    const [lyricsToo, setLyricsToo] = useState(false)\n\n    useEffect(() => {\n        const timeOut = setTimeout(() => {\n            setDebouncedValue(value)\n        }, 350)\n        return () => {\n            clearTimeout(timeOut)\n        }\n    }, [value])\n\n    useEffect(() => {\n        if (debouncedValue) {\n            if (isNaN(debouncedValue)) {\n                props.term(debouncedValue, lyricsToo)\n            } else {\n                props.id(debouncedValue)\n            }\n        } else {\n            props.cancel()\n        }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [debouncedValue])\n\n    useEffect(() => {\n        if (value) {\n            if (isNaN(value)) {\n                props.term(value, lyricsToo)\n            }\n        }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [lyricsToo])\n\n    return (\n        <div className=\"ui form\">\n            <div className=\"inline fields centered-container\">\n                <div className=\"thirteen wide field\">\n                    <label>Keresés</label>\n                    <input value={value} onChange={(e) => setValue(e.target.value)} placeholder=\"Sorszámot vagy teljes szavakat írj\"/>\n                </div>\n                <div className=\"three wide field\">\n                    <div className=\"ui checkbox my-check\">\n                        <input id=\"lyricsCheckbox\" type=\"checkbox\" tabIndex=\"0\" checked={lyricsToo} onChange={() => setLyricsToo(!lyricsToo)} />\n                        <label htmlFor=\"lyricsCheckbox\">dalszövegben is</label>\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default SearchBar","import React from 'react'\n\nconst MyButton = props => {\n\n    const handleClick = (e) => {\n        e.stopPropagation()\n        props.onClick()\n    }\n\n    const icons = props.icons.map((icon, idx) => <i key={idx} className={`icon ${icon}`}></i>)\n    return (\n        <button data-tip={props.tip} aria-label={props.tip} className={`ui button my-button icon ${props.color}`} onClick={handleClick} disabled={props.disabled} >{icons}{props.text}</button>\n    )\n}\n\nexport default MyButton","import axios from 'axios'\n\nexport const db = axios.create({\n    baseURL: 'https://api.dicsi.okgy.hu/'\n})","import { createBrowserHistory } from 'history'\n\nexport default createBrowserHistory()","import {\n    FETCH_SONGS,\n    FETCH_SONG,\n    CREATE_SONG,\n    EDIT_SONG,\n    DELETE_SONG,\n    REMOVE_FROM_PLAYLIST,\n    UPDATE_WITH_ID,\n    UPDATE_WITH_WRONG_ID,\n    UPDATE_WITH_TERM,\n    CANCEL_SEARCH,\n    CLOSE_MODAL} from './types'\nimport { db } from '../api'\nimport history from '../history'\nimport { BASE_URL, handleError } from '../util'\n\nexport const fetchSongs = () => async dispatch => {\n    try {\n        const response = await db.get('/songs/?format=json')\n        dispatch({type: FETCH_SONGS, payload: response.data})\n    } catch (err) {\n        handleError(err, dispatch)\n    }\n}\n\nexport const fetchSong = id => async dispatch => {\n    try {\n        const response = await db.get(`/songs/${id}/?format=json`)\n        dispatch({type: FETCH_SONG, payload: response.data})\n    } catch (err) {\n        handleError(err, dispatch)\n    }\n\n}\n\nexport const findId = (id) => async dispatch => {\n    try {\n        const response = await db.get(`/songs/${id}/?format=json`)\n        dispatch({type: UPDATE_WITH_ID, payload: response.data})\n    } catch (err) {\n        if (err.response) {\n            if (err.response.status === 404) {\n                dispatch({type: UPDATE_WITH_WRONG_ID})\n            } else {\n                handleError(err, dispatch)\n            }\n        } else {\n            handleError(err, dispatch)\n        }\n    }\n}\n\nexport const searchSongs = (term, lyricsToo) => async dispatch => {\n    try {\n        const inTitle = await db.get(`/search-title/${term}/`)\n        if (lyricsToo) {\n            const inLyrics = await db.get(`/search-lyrics/${term}/`)\n            dispatch({type: UPDATE_WITH_TERM, payload: [...inTitle.data, ...inLyrics.data]})\n        } else {\n            dispatch({type: UPDATE_WITH_TERM, payload: inTitle.data})\n        }\n\n    } catch (err) {\n        handleError(err, dispatch)\n    }\n}\n\nexport const cancelSearch = () => {\n    return { type: CANCEL_SEARCH}\n}\n\nexport const createSong = formData => async (dispatch, getState) => {\n    try {\n        const response = await db.post('/songs/', {\n            id: parseInt(formData.id),\n            title: formData.title,\n            lyrics: formData.lyrics.split('\\n\\n').join('###')\n        }, { headers: {'Authorization': `Token ${getState().auth.token}` }})\n        dispatch({type: CREATE_SONG, payload: response.data})\n        history.push(`${BASE_URL}/songs/${formData.id}`)\n    } catch (err) {\n        console.log(err.response)\n        handleError(err, dispatch)\n    }\n\n}\n\nexport const editSong = (id, formData) => async (dispatch, getState) => {\n    try {\n        const response = await db.patch(`/songs/${id}/`, {\n            title: formData.title,\n            lyrics: formData.lyrics.split('\\n\\n').join('###'),\n        }, { headers: {'Authorization': `Token ${getState().auth.token}` }})\n        dispatch({type: EDIT_SONG, payload: response.data})\n        history.push(`${BASE_URL}/songs/${id}`)\n    } catch (err) {\n        handleError(err, dispatch)\n    }\n}\n\nexport const deleteSong = (id) => async (dispatch, getState) => {\n    try {\n        await db.delete(`/songs/${id}/`,\n            { headers: {'Authorization': `Token ${getState().auth.token}` }})\n        if (getState().playlist.songs.includes(id)) {\n            dispatch({ type: REMOVE_FROM_PLAYLIST, payload: id })\n        }\n        dispatch({type: DELETE_SONG, payload: id})\n        dispatch({type: CLOSE_MODAL})\n        history.push(BASE_URL)\n    } catch(err) {\n        handleError(err, dispatch)\n    }\n}","import {\n    ADD_TO_PLAYLIST,\n    REMOVE_FROM_PLAYLIST,\n    PLAYLIST_NEXT,\n    START_PLAYLIST,\n    STOP_PLAYLIST,\n    CLEAR_PLAYLIST,\n    TOGGLE_VISIBILITY,\n    MOVE_IN_PLAYLIST,\n    SAVE_PLAYLIST,\n    FETCH_PLAYLISTS,\n    LOAD_PLAYLIST,\n    UNLOAD_PLAYLIST,\n    REPLACE_PLAYLIST,\n    NEW_ALERT,\n    DELETE_PLAYLIST,\n    CLOSE_MODAL,\n    PLAYLIST_STEP,\n    REPLACE_PLAYLIST_IN_LIST,\n    RECOVER_STATE\n} from './types'\nimport {\n    addToPlaylistReducer,\n    removeFromPlaylistReducer,\n    removeFromPlaylistReducerNoIndex,\n    moveInPlaylistReducer,\n    moveInPlaylistReducerNoIndex,\n    removePlacesFromPlaylist,\n    addPlacesToPlaylist,\n    BASE_URL\n} from \"../util\"\nimport { db } from '../api'\nimport { handleError } from '../util'\nimport history from '../history'\n\nconst patchPlaylist = async (dispatch, getState, localResult, playlistId) => {\n    try {\n        const res = await db.patch(`/playlists/${playlistId}/`, {\n            songs: addPlacesToPlaylist(localResult.songs)\n        }, { headers: {'Authorization': `Token ${getState().auth.token}` }})\n        if (getState().playlist.loaded === playlistId) {\n            dispatch({ type: REPLACE_PLAYLIST, payload: { ...localResult, songs: removePlacesFromPlaylist(res.data.songs) }})\n        } else {\n            dispatch({ type: REPLACE_PLAYLIST_IN_LIST, payload: {loaded: playlistId, songs: removePlacesFromPlaylist(res.data.songs) }})\n        }\n    } catch (err) {\n        handleError(err, dispatch)\n    }\n}\n\nexport const addToPlaylist = id => async (dispatch, getState) => {\n    if (getState().playlist.songs.includes(id)) {\n        dispatch({ type: NEW_ALERT, payload: {msg: 'Ez a dal már fent van a lejátszási listán', type: 'error'}})\n    } else {\n        if (!getState().playlist.loaded) {\n            dispatch({ type: ADD_TO_PLAYLIST, payload: id })\n        } else {\n            const localResult = addToPlaylistReducer(getState().playlist, id)\n            await patchPlaylist(dispatch, getState, localResult, getState().playlist.loaded)\n        }\n    }\n}\n\nexport const removeFromPlaylist = (songId, playlistId) => async (dispatch, getState) => {\n    if (!getState().playlist.loaded && !playlistId) {\n        dispatch({ type: REMOVE_FROM_PLAYLIST, payload: songId })\n    } else {\n        let localResult = ''\n        if (getState().playlist.loaded === playlistId) {\n            localResult = removeFromPlaylistReducer(getState().playlist, songId)\n        } else {\n            const playlistToRemoveFrom = getState().playlistList.list.find(pl => pl.id === playlistId)\n            localResult = removeFromPlaylistReducerNoIndex(playlistToRemoveFrom, songId)\n        }\n        await patchPlaylist(dispatch, getState, localResult, playlistId)\n    }\n}\n\nexport const playlistNext = (next, state) => {\n    if (!state.active) {\n        return\n    }\n    if (next) {\n        if (state.currentIndex === state.songs.length - 1) {\n            history.push(`${BASE_URL}/songs/${state.songs[0]}`)\n            return { type: PLAYLIST_NEXT, payload: 0 }\n        } else {\n            history.push(`${BASE_URL}/songs/${state.songs[state.currentIndex + 1]}`)\n            return { type: PLAYLIST_NEXT, payload: state.currentIndex + 1 }\n        }\n    } else {\n        if (state.currentIndex < 1) {\n            history.push(`${BASE_URL}/songs/${state.songs[state.songs.length - 1]}`)\n            return { type: PLAYLIST_NEXT, payload: state.songs.length - 1 }\n        } else {\n            history.push(`${BASE_URL}/songs/${state.songs[state.currentIndex - 1]}`)\n            return { type: PLAYLIST_NEXT, payload: state.currentIndex - 1 }\n        }\n    }\n}\n\nexport const playlistStep = (idx) => {\n    return { type: PLAYLIST_STEP, payload: idx }\n}\n\nexport const startPlaylist = (state) => {\n    history.push(`${BASE_URL}/songs/${state.songs[state.currentIndex]}`)\n    return {type: START_PLAYLIST}\n}\nexport const stopPlaylist = () => {\n    return {type: STOP_PLAYLIST}\n}\n\nexport const clearPlaylist = (id) => async (dispatch, getState) => {\n    if (!getState().playlist.loaded && !id) {\n        dispatch({type: CLEAR_PLAYLIST})\n        dispatch({type: CLOSE_MODAL})\n    } else {\n        try {\n            await db.delete(`/playlists/${id}/`,\n                { headers: {'Authorization': `Token ${getState().auth.token}` }})\n            if (id === getState().playlist.loaded) {\n                dispatch({type: CLEAR_PLAYLIST})\n            }\n            dispatch({type: DELETE_PLAYLIST, payload: id})\n            dispatch({type: CLOSE_MODAL})\n        } catch(err)  {\n            handleError(err, dispatch)\n        }\n    }\n}\n\nexport const toggleVisibility = () => {\n    return { type: TOGGLE_VISIBILITY }\n}\n\nexport const moveInPlaylist = (index, up, playlistId) => async (dispatch, getState) => {\n    if (!getState().playlist.loaded && !playlistId) {\n        dispatch({ type: MOVE_IN_PLAYLIST, payload: {index, up} })\n    } else {\n        let localResult = ''\n        if (getState().playlist.loaded === playlistId) {\n            localResult = moveInPlaylistReducer(getState().playlist, up, index)\n        } else {\n            const playlistToMoveIn = getState().playlistList.list.find(pl => pl.id === playlistId)\n            localResult = moveInPlaylistReducerNoIndex(playlistToMoveIn, up, index)\n        }\n        await patchPlaylist(dispatch, getState, localResult, playlistId)\n    }\n}\n\nexport const savePlaylist = formData => async (dispatch, getState) => {\n    try {\n        const response = await db.post('/playlists/', {\n            name: formData.name,\n            songs: addPlacesToPlaylist(getState().playlist.songs)\n        }, { headers: {'Authorization': `Token ${getState().auth.token}` }})\n            dispatch({type: CLOSE_MODAL})\n            dispatch({type: SAVE_PLAYLIST, payload: {...response.data, songs: removePlacesFromPlaylist(response.data.songs)}})\n    } catch (err) {\n        handleError(err, dispatch)\n    }\n}\n\nexport const fetchPlaylists = () => async dispatch => {\n    try {\n        const response = await db.get('/playlists/?format=json')\n        dispatch({type: FETCH_PLAYLISTS, payload: response.data.map(pl => ({...pl, songs: removePlacesFromPlaylist(pl.songs)}))})\n    } catch (err) {\n        handleError(err, dispatch)\n    }\n}\n\nexport const loadPlaylist = (id, modifiable) => async dispatch => {\n    try {\n        const response = await db.get(`/playlists/${id}?format=json`)\n        dispatch({type: LOAD_PLAYLIST, payload: {list: {...response.data, songs: removePlacesFromPlaylist(response.data.songs)}, modifiable}})\n    } catch (err) {\n        handleError(err, dispatch)\n    }\n}\n\nexport const unloadPlaylist = () => {\n    return {type: UNLOAD_PLAYLIST}\n}\n\nexport const recoverState = () => {\n    return { type: RECOVER_STATE }\n}","import { NEW_ALERT, REMOVE_ALERT } from './types'\n\nexport const newAlert = (msg, type) => {\n    return {type: NEW_ALERT, payload: {msg, type}}\n}\n\nexport const removeAlert = () => {\n    return {type: REMOVE_ALERT}\n}\n","import React from 'react'\nimport { connect }  from 'react-redux'\nimport _ from 'lodash'\nimport { isMobileOnly } from 'react-device-detect'\nimport { Link } from 'react-router-dom'\n\nimport '../../styles.css'\nimport { BASE_URL, sortSongs } from '../../util'\n\nimport MyTooltip from '../MyTooltip'\nimport Page from '../Page'\nimport MyLoader from '../MyLoader'\nimport SearchBar from '../SearchBar'\nimport MyButton from '../MyButton'\n\nimport { fetchSongs,  searchSongs, findId, cancelSearch } from '../../actions/songActions'\nimport { addToPlaylist, removeFromPlaylist, playlistNext, stopPlaylist, toggleVisibility } from '../../actions/playlistActions'\nimport { removeAlert } from '../../actions/alertActions'\n\nclass SongList extends React.Component {\n    state = {\n        loaded: false,\n        sortById: true,\n    }\n    componentDidMount() {\n        this.props.removeAlert()\n        this.props.fetchSongs()\n        this.props.stopPlaylist()\n    }\n\n    componentDidUpdate() {\n        if (!this.state.loaded && !_.isEmpty(this.props.songs)) {\n            this.setState({ loaded: true})\n        }\n    }\n\n    addToPlaylist = (event, id) => {\n        event.preventDefault()\n        this.props.addToPlaylist(id)\n        event.stopPropagation()\n    }\n    removeFromPlaylist = (event, id) => {\n        event.preventDefault()\n        this.props.removeFromPlaylist(id)\n        event.stopPropagation()\n    }\n\n    renderSmallButtons = song => {\n        const modifiable = !this.props.playlist.loaded || this.props.signedIn\n        if ((this.props.playlist.visible || isMobileOnly) && modifiable) {\n            return this.props.playlist.songs.includes(song.id) ? (\n                <i\n                    data-tip=\"Eltávolítás a lejátszási listáról\"\n                    className=\"icon bigger-icon minus circle red\"\n                    onClick={(e) => this.removeFromPlaylist(e, song.id)}>\n                </i>\n            ) : (\n                <i\n                    data-tip=\"Hozzáadás a lejátszási listához\"\n                    className=\"icon bigger-icon plus circle green\"\n                    onClick={(e) => this.addToPlaylist(e, song.id)}>\n                </i>\n            )\n        }\n    }\n\n    renderSong = (song, idx) => (\n        <div className={`column pointer hover-grey my-bottom-border ${idx % 3 !== 0 && !isMobileOnly ? 'left-border' : ''}`} key={song.id} >\n            <Link to={`${BASE_URL}/songs/${song.id}`} className=\"notLinkStyle\">\n                <div className=\"content right-left\">\n                    <h3 className=\"force-open-sans header my-header-text\">{song.id}. {song.title}</h3>\n                    {this.renderSmallButtons(song)}\n                </div>\n            </Link>\n        </div>\n    )\n\n    render() {\n        if (_.isEmpty(this.props.songs) && !this.state.loaded) {\n            return (\n                <MyLoader />\n            )\n        }\n\n        if (!this.state.sortById) {\n            sortSongs(this.props.songs, 'title')\n        } else {\n            sortSongs(this.props.songs, 'id')\n        }\n\n        const { searchList } = this.props\n        let songs = []\n        if (searchList.validSearch) {\n            songs = searchList.list.map((id, idx) => this.renderSong(this.props.songs.find(song => song.id === id), idx))\n        } else {\n            songs = this.props.songs.map((song, idx) => this.renderSong(song, idx))\n        }\n\n        const empty = songs.length === 0 ? <p className=\"big-text centered-text\">Nincs találat!</p> : null\n        return (\n            <Page path={this.props.location.pathname}>\n                <div className=\"ui container\">\n                    <MyTooltip />\n                    <div className={`ui ${isMobileOnly ? '' : 'stackable grid'}`}>\n                        <div className=\"twelve wide column\">\n                            <SearchBar id={this.props.findId} term={this.props.searchSongs} cancel={this.props.cancelSearch}/>\n                        </div>\n                        <div className=\"four wide column \">\n                            <div className=\"centered-container\">\n                                <MyButton color=\"blue\" onClick={() => this.setState({ sortById: true})} icons={[\"sort numeric down\"]} tip=\"Énekek rendezése sorszám szerint\" disabled={this.state.sortById || this.props.searchList.validSearch}/>\n                                <MyButton color=\"blue\" onClick={() => this.setState({ sortById: false})} icons={[\"sort alphabet down\"]} tip=\"Énekek rendezése cím szerint\" disabled={!this.state.sortById || this.props.searchList.validSearch}/>\n                                <MyButton color=\"green\" onClick={this.props.toggleVisibility} icons={[\"play circle\"]} text=\" Lejátszási lista\"/>\n                            </div>\n                        </div>\n                    </div>\n                    <div className=\"ui stackable three column grid\">\n                        {songs}\n                    </div>\n                    {empty}\n                </div>\n            </Page>\n        )\n    }\n\n}\n\nconst mapStateToProps = state => {\n    return {\n        songs: Object.values(state.songs),\n        searchList: state.searchList,\n        playlist: state.playlist,\n        signedIn: state.auth.signedIn\n    }\n}\n\nexport default connect(mapStateToProps, {\n    fetchSongs,\n    removeAlert,\n    searchSongs,\n    findId,\n    addToPlaylist,\n    removeFromPlaylist,\n    playlistNext,\n    stopPlaylist,\n    cancelSearch,\n    toggleVisibility\n})(SongList)","import React from 'react'\nimport Alert from '@material-ui/lab/Alert'\nimport { connect } from 'react-redux'\nimport { Button, Modal } from 'semantic-ui-react'\n\nimport '../styles.css'\nimport { removeAlert } from '../actions/alertActions'\nimport { openModal, closeModal } from '../actions/modalActions'\n\nconst MyModal = props => {\n  const alert = props.alert.msg ?\n    <Alert onClose={() => {props.removeAlert()}} severity={props.alert.type} >\n        {props.alert.msg}\n    </Alert>\n    : null\n\n  return (\n    <Modal\n      onClose={props.closeModal}\n      onOpen={() => props.openModal(props.id)}\n      open={props.modal.open && props.modal.id === props.id}\n      trigger={props.generateTrigger()}\n    >\n      <Modal.Header>{props.header}</Modal.Header>\n      <Modal.Content>\n        <Modal.Description>\n            {props.children}\n        </Modal.Description>\n      </Modal.Content>\n      <Modal.Actions>\n        <div className=\"centered\">\n            {alert}\n        </div>\n        <Button onClick={props.closeModal}>\n          {props.closeText}\n        </Button>\n        <Button\n          content={props.approveText}\n          onClick={() => {props.onApprove()}}\n          negative={props.negative}\n          primary={props.primary}\n        />\n      </Modal.Actions>\n    </Modal>\n  )\n}\n\nconst mapStateToProps = state => {\n    return {\n        alert: state.alert,\n        modal: state.modal\n    }\n}\n\nexport default connect(mapStateToProps, {removeAlert, openModal, closeModal})(MyModal)","import { CLOSE_MODAL, OPEN_MODAL } from \"./types\"\n\nexport const openModal = (id) => {\n    return { type: OPEN_MODAL, payload: id }\n}\n\nexport const closeModal = () => {\n    return { type: CLOSE_MODAL }\n}","import React from 'react'\nimport { Field, reduxForm } from 'redux-form'\nimport { Link } from 'react-router-dom'\nimport { isMobileOnly } from 'react-device-detect'\n\nimport MyModal from './../MyModal'\nimport MyTooltip from '../MyTooltip'\nimport { BASE_URL } from '../../util'\n\nconst renderInput = ({ input, label, meta, type, disabled, wide, tip }) => {\n    return (\n        <div className={`${wide} field ${meta.error && meta.touched ? 'error' : ''}`}>\n            <label>{label}</label>\n            <input {...input} type={type} autoComplete=\"off\" disabled={disabled} data-tip={tip} />\n            {renderError(meta)}\n        </div>\n    )\n}\n\nconst renderTextArea = ({ input, label, meta, tip }) => {\n    return (\n        <div className={`field ${meta.error && meta.touched ? 'error' : ''}`}>\n            <label>{label}</label>\n            <textarea {...input} autoComplete=\"off\" data-tip={tip}/>\n            {renderError(meta)}\n        </div>\n    )\n}\n\nconst renderError = ({ error, touched }) => {\n    if (touched && error) {\n        return (\n            <div className=\"ui error message\">\n                <div className=\"header\">\n                    {error}\n                </div>\n            </div>\n        )\n    }\n}\n\nconst SongForm = props => {\n\n    const onSubmit = formValues => {\n        props.onSubmit(formValues)\n    }\n\n    const buttons = () => {\n        if (!props.edit) {\n            return <button className=\"ui button primary\">Mentés</button>\n        }\n        return (\n            <div className=\"ui segment\">\n                <div className=\"ui two column very relaxed grid\">\n                    <div className=\"column\">\n                        <button className={`ui button primary ${isMobileOnly ? 'my-bigger-button' : ''}`}>Mentés</button>\n                        <Link to={`${BASE_URL}/songs/${props.id}`} className={`ui button grey ${isMobileOnly ? 'my-bigger-button' : ''}`}>Mégse</Link>\n                    </div>\n                    <div className=\"column jobbra\">\n                        <MyModal\n                            header=\"Biztosan törlöd ezt az éneket?\"\n                            generateTrigger={() => <button type=\"button\" className={`ui button negative ${isMobileOnly ? 'my-bigger-button' : ''}`}>Ének törlése</button>}\n                            closeText=\"Mégse\"\n                            approveText=\"Törlés\"\n                            onApprove={props.onDeleteClick}\n                            negative\n                            id={3}\n                        >\n                            {`Biztosan törlöd a(z) ${props.initialValues.title} éneket? Ezt később nem tudod visszavonni!`}\n                        </MyModal>\n                    </div>\n                </div>\n                <div className=\"ui vertical divider\">\n                    vagy\n                </div>\n            </div>\n        )\n    }\n\n    return (\n        <>\n            <form className=\"ui form error\" onSubmit={props.handleSubmit(onSubmit)}>\n                <MyTooltip />\n                <div className=\"fields\">\n                    <Field wide=\"three wide\" tip=\"Az ének sorszáma. Egyedi, később nem változtatható\" name=\"id\" component={renderInput} label=\"Sorszám\" type=\"number\" props={{ disabled: props.edit}}/>\n                    <Field wide=\"thirteen wide\" name=\"title\" component={renderInput} label=\"Cím\" type=\"text\"/>\n                </div>\n                <Field tip=\"Az alkalmazás dupla sorközöknél bontja versszakokra a szöveget.\" name=\"lyrics\" component={renderTextArea} label=\"Dalszöveg\"/>\n                {buttons()}\n            </form>\n            {props.children}\n        </>\n    )\n}\n\nconst validate = formValues => {\n    const errors = {}\n    if (!formValues.id) {\n        errors.id = 'Add meg az ének sorszámát!'\n    }\n    if (!formValues.title) {\n        errors.title = 'Add meg az ének címét!'\n    }\n    if (!formValues.lyrics) {\n        errors.lyrics = 'Add meg a dalszöveget!'\n    }\n    return errors\n}\n\nexport default reduxForm({\n    form: 'songForm',\n    validate\n})(SongForm)","import React from 'react'\nimport { connect } from 'react-redux'\n\nimport SongForm from './SongForm'\nimport MyLoader from '../MyLoader'\n\nimport { createSong, fetchSongs } from '../../actions/songActions'\nimport { stopPlaylist, toggleVisibility,  } from '../../actions/playlistActions'\n\nclass SongCreate extends React.Component {\ncomponentDidMount() {\n    this.props.fetchSongs()\n    this.props.stopPlaylist()\n    if (this.props.plVisible) {\n        this.props.toggleVisibility()\n    }\n}\n\n    render() {\n        if (this.props.biggestID > 0) {\n            return (\n                <div className=\"ui container\">\n                    <h2 className=\"ui header\">\n                        Új ének felvétele\n                    </h2>\n                    <SongForm onSubmit={this.props.createSong} initialValues={{ id: this.props.biggestID + 1}}/>\n                </div>\n            )\n        } else {\n            return <MyLoader />\n        }\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        plVisible: state.playlist.visible,\n        biggestID: Math.max(...Object.values(state.songs).map(song => song.id))\n    }\n}\n\nexport default connect(mapStateToProps, { createSong, stopPlaylist, toggleVisibility, fetchSongs })(SongCreate)","import React from 'react'\nimport { connect } from 'react-redux'\n\nimport SongForm from './SongForm'\n\nimport { editSong, fetchSong, deleteSong } from '../../actions/songActions'\nimport { stopPlaylist, toggleVisibility } from '../../actions/playlistActions'\nimport MyLoader from '../MyLoader'\n\nclass SongEdit extends React.Component {\n    componentDidMount() {\n        this.props.fetchSong(this.props.match.params.id)\n        this.props.stopPlaylist()\n        if (this.props.plVisible) {\n            this.props.toggleVisibility()\n        }\n    }\n\n    render() {\n        if (!this.props.song) {\n            return <MyLoader />\n        }\n        const song = this.props.song\n        return (\n            <div className=\"ui container\">\n                <h2 className=\"ui header\">\n                    Ének szerkesztése\n                </h2>\n                <SongForm\n                    onSubmit={(formValues) => this.props.editSong(this.props.match.params.id, formValues)}\n                    initialValues={{id: song.id, title: song.title, lyrics: song.verses.join('\\n\\n')}}\n                    edit id={song.id} onDeleteClick={() => this.props.deleteSong(parseInt(this.props.match.params.id))}\n                />\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = (state, ownProps) => {\n    return {\n        song: state.songs[ownProps.match.params.id],\n        plVisible: state.playlist.visible\n    }\n}\n\nexport default connect(mapStateToProps, { editSong, fetchSong, stopPlaylist, toggleVisibility, deleteSong })(SongEdit)","import React from 'react'\nimport { connect } from 'react-redux'\nimport { Link } from 'react-router-dom'\nimport { isMobileOnly } from 'react-device-detect'\n\nimport '../../styles.css'\n\nimport { fetchSong } from '../../actions/songActions'\nimport { addToPlaylist, toggleVisibility } from '../../actions/playlistActions'\nimport { removeAlert } from '../../actions/alertActions'\n\nimport MyLoader from '../MyLoader'\nimport Page from '../Page'\nimport MyButton from '../MyButton'\nimport MyTooltip from '../MyTooltip'\nimport { BASE_URL } from '../../util'\n\nconst SMALL_FONT_SIZE = 18\nconst BIG_FONT_SIZE = 60\n\nclass SongShow extends React.Component {\n    state = {\n        fontSize: SMALL_FONT_SIZE,\n        deleteModalActive: false,\n        deletePassword: '',\n        oneVerseModeActive: false,\n        currentVerse: 0,\n        showButtons: !isMobileOnly,\n        twoColumnMode: false\n    }\n\n    componentDidMount() {\n        this.props.removeAlert()\n        this.props.fetchSong(this.props.match.params.id)\n    }\n\n    componentDidUpdate(prevProps) {\n        if (prevProps.song) {\n            if (prevProps.song.id !== this.props.song.id) {\n                this.setState({ currentVerse: 0})\n            }\n        }\n    }\n\n    handleKeyDown = (e) => {\n        switch(e.code) {\n            case 'ArrowRight':\n                this.handleVerseChange(true)\n                break\n            case 'ArrowLeft':\n                this.handleVerseChange(false)\n                break\n            default:\n        }\n    }\n\n    onSizeChange = (increase) => {\n        if (increase && this.state.fontSize < 70) {\n            this.setState({fontSize: this.state.fontSize + 3})\n        } else if (!increase && this.state.fontSize > 8) {\n            this.setState({fontSize: this.state.fontSize - 3})\n        }\n    }\n\n    handleModeSwitch = () => {\n        if (this.state.oneVerseModeActive) {\n            this.setState({oneVerseModeActive: false, fontSize: SMALL_FONT_SIZE})\n        } else {\n            this.setState({oneVerseModeActive: true, fontSize: BIG_FONT_SIZE})\n        }\n    }\n\n    handleVerseChange = forward => {\n        if (forward) {\n            this.setState({currentVerse: (this.state.currentVerse + 1) % this.props.song.verses.length})\n        } else {\n            if (this.state.currentVerse === 0) {\n                this.setState({currentVerse: (this.props.song.verses.length - 1)})\n            } else {\n                this.setState({currentVerse: (this.state.currentVerse - 1) % this.props.song.verses.length})\n            }\n        }\n    }\n\n    handleFontSizeReset = () => {\n        if (this.state.oneVerseModeActive) {\n            this.setState({ fontSize: BIG_FONT_SIZE })\n        } else {\n            this.setState({ fontSize: SMALL_FONT_SIZE })\n        }\n    }\n\n    onPlaylistAdd = () => {\n        this.props.addToPlaylist(parseInt(this.props.match.params.id))\n        if (!this.props.plVisible) {\n            this.props.toggleVisibility()\n        }\n    }\n\n    renderLine = (line, idx) => <React.Fragment key={idx}>{line}<br/></React.Fragment>\n\n    renderVerse = (verse, idx) => {\n        const lines = verse.split('\\n').map((line, idx) => this.renderLine(line, idx))\n        return (\n            <p style={{fontSize: `${this.state.fontSize}px`}} key={idx}>\n                {lines}\n            </p>\n        )\n    }\n\n    renderVerses = () => {\n        if (!this.state.oneVerseModeActive) {\n            if (this.state.twoColumnMode) {\n                const firstColumn = this.props.song.verses.map((verse, idx) => {\n                    if (idx + 1 <= Math.ceil(this.props.song.verses.length / 2)) {\n                        return this.renderVerse(verse, idx)\n                    } else {\n                        return null\n                    }\n                })\n                const secondColumn = this.props.song.verses.map((verse, idx) => {\n                    if (idx + 1 > Math.ceil(this.props.song.verses.length / 2)) {\n                        return this.renderVerse(verse, idx)\n                    } else {\n                        return null\n                    }\n                })\n                return (\n                    <div className=\"ui container grid\">\n                        <div className=\"eight wide column\">\n                            {firstColumn}\n                        </div>\n                        <div className=\"eight wide column\">\n                            {secondColumn}\n                        </div>\n                    </div>\n                )\n            } else {\n                return <div className=\"ui container\"> {this.props.song.verses.map((verse, idx) => {\n                    return this.renderVerse(verse, idx)\n                })}</div>\n            }\n        }\n        if (!this.props.song.verses[this.state.currentVerse]) {\n            return <MyLoader />\n        }\n        const lines = this.props.song.verses[this.state.currentVerse].split('\\n').map((line, idx) => this.renderLine(line, idx))\n        return (\n            <div>\n                <p style={{fontSize: `${this.state.fontSize}px`}}>\n                    {lines}\n                </p>\n            </div>\n        )\n\n    }\n\n    renderButtons = () => {\n        const editButton = this.props.signedIn ? <Link data-tip=\"Ének szerkeztése vagy törlése\" className=\"ui button my-button icon yellow\" to={`${BASE_URL}/songs/edit/${this.props.match.params.id}`}><i className=\"icon edit\"></i></Link> : null\n\n        const desktopButton = !isMobileOnly && this.state.showButtons ? (\n            <>\n                <MyButton tip=\"Előző versszak\" disabled={!this.state.oneVerseModeActive} color=\"teal\" onClick={() => this.handleVerseChange(false)} icons={[\" step backward icon\" ]} />\n                <MyButton tip=\"Egyversszak mód be- és kikapcsolása\" color=\"green\" onClick={this.handleModeSwitch} icons={[\"play\" ]} />\n                <MyButton tip=\"Következő vesszak\" disabled={!this.state.oneVerseModeActive} color=\"teal\" onClick={() => this.handleVerseChange(true)} icons={[\" step forward icon\" ]} />\n            </>\n        ) : null\n        const optionalButtons = this.state.showButtons ? (\n            <>\n                <Link data-tip=\"Vissza a kereséshez\" className=\"ui button my-button icon grey\" to={BASE_URL}><i className=\"icon search\"></i></Link>\n                {editButton}\n                <MyButton tip={`${this.state.twoColumnMode ? \"Egy\" : \"Két\"} hasáb`} color=\"primary\" onClick={() => this.setState({twoColumnMode: !this.state.twoColumnMode})} disabled={this.state.oneVerseModeActive} icons={[`${this.state.twoColumnMode ? 'align justify' : 'columns'}`]} />\n                <MyButton tip=\"Betűméret csökkentése\" color=\"primary\" onClick={() => this.onSizeChange(false)} icons={[\"font\", \"arrow down\" ]} />\n                <MyButton tip=\"Betűméret növelése\" color=\"primary\" onClick={() => this.onSizeChange(true)} icons={[\"font\", \"arrow up \" ]} />\n                <MyButton tip=\"Betűméret visszaállítása\" color=\"primary\" onClick={this.handleFontSizeReset} icons={[\"font\", \"undo\" ]} />\n                <MyButton tip=\"Hozzáadás a lejátszási listához\" color=\"green\" onClick={this.onPlaylistAdd } icons={[\"plus\" ]} />\n                <MyButton color=\"green\" onClick={this.props.toggleVisibility} icons={[\"play circle\"]} text=\" Lejátszási lista\"/>\n            </>\n        ) : null\n        return (\n            <>\n                {optionalButtons}\n                {desktopButton}\n            </>\n        )\n    }\n\n    renderTitle = () => {\n        if (isMobileOnly) {\n            return (\n                <>\n                    {this.renderButtons()}\n                    <div className=\"right-left\">\n                        <h2 className=\"force-open-sans vert-centered\">{this.props.song.id}. {this.props.song.title} </h2>\n                        <MyButton color=\"gray\" onClick={()=>this.setState({showButtons: !this.state.showButtons})} icons={[\"bars\"]} tip=\"Gombok elrejtése/előhozása\"/>\n                    </div>\n                    <div className=\"ui divider\"></div>\n                </>\n            )\n        }\n        return (\n            <>\n                <div className=\"right-left m-top\">\n                    <h2 className=\"force-open-sans vert-centered\">{this.props.song.id}. {this.props.song.title} </h2>\n                    <h2 className=\"force-open-sans vert-centered\">{this.state.oneVerseModeActive ? `${this.state.currentVerse + 1}/${this.props.song.verses.length}` : ''}</h2>\n                    <div>\n                        <MyButton color=\"gray\" onClick={()=>this.setState({showButtons: !this.state.showButtons})} icons={[\"bars\"]} tip=\"Gombok elrejtése/előhozása\"/>\n                        {this.renderButtons()}\n                    </div>\n                </div>\n                <div className=\"ui divider\"></div>\n            </>\n\n        )\n    }\n\n    render() {\n        if (this.props.song) {\n            return (\n                <Page path={this.props.location.pathname}>\n                    <MyTooltip />\n                    <div className=\"ui container\" onKeyDown={this.handleKeyDown}>\n                        <div className=\"full-screen\">\n                            {this.renderTitle()}\n                            {this.renderVerses()}\n                        </div>\n                    </div>\n                </Page>\n            )\n        }\n        return <MyLoader />\n    }\n}\n\nconst mapStateToProps = (state, ownProps) => {\n    return {\n        song: state.songs[ownProps.match.params.id],\n        plVisible: state.playlist.visible,\n        signedIn: state.auth.signedIn\n    }\n}\n\nexport default connect(mapStateToProps, { fetchSong, removeAlert, addToPlaylist, toggleVisibility })(SongShow)","import { db } from '../api'\nimport history from '../history'\nimport { BASE_URL, handleError } from '../util'\nimport { LOGIN, LOGOUT } from './types'\nimport { Cookies } from 'react-cookie'\n\nexport const login = ({ username, password }) => async dispatch => {\n    try {\n        const response = await db.post('/api-token-auth/', { username, password })\n        dispatch({ type: LOGIN, payload: response.data.token })\n        const cookieManager = new Cookies()\n        cookieManager.set('token', response.data.token, {\n            path: BASE_URL,\n            maxAge: 12*31*24*60*60\n        })\n        history.goBack()\n    } catch (err) {\n        handleError(err, dispatch)\n    }\n}\n\nexport const loginFromCookie = token => {\n    return { type: LOGIN, payload: token }\n}\n\nexport const logout = () => {\n    const cookieManager = new Cookies()\n    cookieManager.remove('token', {\n        path: BASE_URL,\n        maxAge: 12*31*24*60*60\n    })\n    return { type: LOGOUT }\n}","import React from 'react'\nimport { connect } from 'react-redux'\nimport { Field, reduxForm } from 'redux-form'\n\nimport { login } from '../../actions/authActions'\n\nconst renderInput = ({ input, label, meta, type }) => {\n    return (\n        <div className={`field ${meta.error && meta.touched ? 'error' : ''}`}>\n            <label>{label}</label>\n            <input {...input} type={type} autoComplete=\"off\" />\n            {renderError(meta)}\n        </div>\n    )\n}\n\nconst renderError = ({ error, touched }) => {\n    if (touched && error) {\n        return (\n            <div className=\"ui error message\">\n                <div className=\"header\">\n                    {error}\n                </div>\n            </div>\n        )\n    }\n}\n\nconst Login = (props) => {\n\n    const onSubmit = (formValues) => {\n        props.login(formValues)\n    }\n\n    return (\n        <div className=\"ui container\">\n            <form className=\"ui form error\" onSubmit={props.handleSubmit(onSubmit)}>\n                <Field name=\"username\" component={renderInput} label=\"Felhasználónév\" type=\"text\" />\n                <Field name=\"password\" component={renderInput} label=\"Jelszó\" type=\"password\"/>\n                <button className=\"ui button primary\">Bejelentkezés</button>\n            </form>\n        </div>\n\n    )\n}\n\nconst validate = formValues => {\n    const errors = {}\n    if (!formValues.username) {\n        errors.username = 'Add meg a felhasználónevet!'\n    }\n    if (!formValues.password) {\n        errors.password = 'Add meg a jelszót!'\n    }\n    return errors\n}\n\nexport default reduxForm({\n    form: 'authForm',\n    validate\n})(connect(null, { login })(Login))","import React from 'react'\nimport { connect } from 'react-redux'\nimport { Link } from 'react-router-dom'\n\nimport { moveInPlaylist, removeFromPlaylist, playlistStep } from '../actions/playlistActions'\nimport { BASE_URL } from '../util'\n\nconst PlaylistItem = props => {\n    const upDisabled = props.idx === 0\n    const downDisabled = props.idx === props.length - 1\n    const handleClick = () => {\n        if (props.playlist) {\n            props.playlistStep(props.idx)\n        }\n    }\n\n    return (\n        <div className={`item my-item ${props.currentIndex === props.idx ? 'activeInPlaylist' : ''}`}>\n            <h5 className=\"header\">\n                {!props.unmodifiable && (\n                    <>\n                        <i className={`${upDisabled ? 'grey' : 'pointer'} icon caret up bigger-icon`} onClick={() => props.moveInPlaylist(props.idx, true, props.playlistId)}></i>\n                        <i className={`${downDisabled ? 'grey' : 'pointer'} icon caret down bigger-icon`} onClick={() => props.moveInPlaylist(props.idx, false, props.playlistId)}></i>\n                    </>\n                )}\n                <Link to={`${BASE_URL}/songs/${props.song.id}`} onClick={handleClick} className=\"notLinkStyle pointer\">{props.song.id}. {props.song.title}</Link>\n\n                {!props.unmodifiable && (\n                    <div className=\"right floated\">\n                        <i className=\"icon minus circle red pointer\" onClick={() => props.removeFromPlaylist(props.song.id, props.playlistId)}></i>\n                    </div>\n                )}\n            </h5>\n        </div>\n    )\n\n}\n\nexport default connect(null, {moveInPlaylist, removeFromPlaylist, playlistStep})(PlaylistItem)","import React from 'react'\nimport { connect } from 'react-redux'\nimport { Accordion, Icon } from 'semantic-ui-react'\nimport { isMobileOnly } from 'react-device-detect'\nimport _ from 'lodash'\n\nimport { fetchSongs } from '../../actions/songActions'\nimport { fetchPlaylists, loadPlaylist, clearPlaylist } from '../../actions/playlistActions'\nimport MyLoader from '../MyLoader'\nimport Page from '../Page'\nimport MyTooltip from '../MyTooltip'\nimport MyModal from '../MyModal'\nimport PlaylistItem from '../PlaylistItem'\nimport MyButton from '../MyButton'\nimport { newAlert } from '../../actions/alertActions'\nimport { FULL_URL } from '../../util'\n\nclass PlaylistList extends React.Component {\n    state = {\n        activePlaylist: -1,\n    }\n\n    componentDidMount() {\n        this.props.fetchSongs()\n        this.props.fetchPlaylists()\n    }\n\n    handleClick(idx) {\n        this.setState({ activePlaylist: this.state.activePlaylist === idx ? -1 : idx })\n    }\n\n    copyLink(id) {\n        navigator.clipboard.writeText(`${FULL_URL}/playlists/${id}`)\n        this.props.newAlert('A lejátszási lista linkje a vágólapra másolva', 'success')\n    }\n\n    generateDateAdded(date) {\n        return (\n            <p>Létrehozva: {new Date(Date.parse(date)).toLocaleDateString('hu-HU')}</p>\n        )\n    }\n\n    render() {\n        if (this.props.playlistList.loaded) {\n            return (\n                <Page path={this.props.location.pathname}>\n                    <div className=\"ui container\">\n                        <MyTooltip />\n                        <h2>Lejátszási listák</h2>\n                        {(this.props.playlistList.list && this.props.playlistList.list.length > 0 && !_.isEmpty(this.props.songs)) ? (\n                        <Accordion fluid styled>\n                            {this.props.playlistList.list.map(playlist => (\n                                <div key={playlist.id}>\n                                    <Accordion.Title\n                                        active={this.state.activePlaylist === playlist.id}\n                                        onClick={() => this.handleClick(playlist.id)}\n                                    >\n                                        <div className='right-left'>\n                                            <h3>\n                                                <Icon name='dropdown' />\n                                                {playlist.name}\n                                            </h3>\n                                            { !isMobileOnly && this.generateDateAdded(playlist.created_at) }\n                                        </div>\n                                    </Accordion.Title>\n                                    <Accordion.Content active={this.state.activePlaylist === playlist.id}>\n                                        { isMobileOnly && this.generateDateAdded(playlist.created_at) }\n                                        <MyButton tip=\"Betöltés\" color=\"green\" onClick={() => this.props.loadPlaylist(playlist.id, true)} icons={[\"play circle\"]} />\n                                        <MyButton tip=\"Megosztás\" color=\"purple\" onClick={() => this.copyLink(playlist.id)} icons={[\"share alternate\"]} />\n                                        <MyButton tip=\"Duplikálás\" color=\"blue\" onClick={() => this.props.loadPlaylist(playlist.id, false)} icons={[\"copy\"]} />\n                                        {this.props.signedIn && (\n                                            <MyModal\n                                                header=\"Biztosan törlöd a lejátszási listát?\"\n                                                generateTrigger={() => <MyButton tip=\"Törlés\" color=\"red\" icons={[\"trash alternate\"]} />}\n                                                closeText=\"Mégse\"\n                                                approveText=\"Törlés\"\n                                                onApprove={() => this.props.clearPlaylist(playlist.id)}\n                                                negative\n                                                id={playlist.id}\n                                            >\n                                                Biztosan törlöd a lejátszási listát az adatbázisból? Ezt később nem tudod visszavonni!\n                                            </MyModal>\n                                        )}\n                                        <div className=\"ui relaxed divided ordered list\">\n                                            {playlist.songs.length > 0 ? playlist.songs.map((songId, idx) => (\n                                                <PlaylistItem key={idx} song={this.props.songs[songId]} idx={idx} length={playlist.songs.length} unmodifiable={!this.props.signedIn} playlistId={playlist.id} />\n                                            )) : <p className=\"centered-text\">A lejátszási lista üres</p>}\n                                        </div>\n                                    </Accordion.Content>\n                                </div>\n                            ))}\n                        </Accordion>\n                        ) : (\n                            <p className=\"big-text centered-text\">Nincs találat!</p>\n                        )}\n                    </div>\n                </Page>\n            )\n        }\n        return <MyLoader />\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        songs: state.songs,\n        playlistList: state.playlistList,\n        signedIn: state.auth.signedIn,\n    }\n}\n\nexport default connect(mapStateToProps, {fetchPlaylists, fetchSongs, loadPlaylist, newAlert, clearPlaylist})(PlaylistList)\n","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport { connect } from 'react-redux'\n\nimport '../styles.css'\nimport { logout } from '../actions/authActions'\nimport { BASE_URL } from '../util'\n\nconst Footer = (props) => {\n\n    const authLink = props.signedIn\n    // eslint-disable-next-line\n    ? <a className=\"header-link pointer\" onClick={() => props.logout()}>Kijelentkezés</a>\n    : <Link to={`${BASE_URL}/login`} className=\"header-link centered-text\">Admin bejelentkezés</Link>\n\n    return (\n        <div className=\"footer-container centered-container two-column small-text\">\n            <p className=\"centered-text\">Készítette: Fekete Sámuel&nbsp;\n            <a target=\"_blank\" rel=\"noreferrer\" href=\"https://github.com/Tschonti/dicsi-frontend\"><i aria-label=\"Forráskód a Github-on\" className=\"icon github\"></i></a><br/>&nbsp;az&nbsp;\n            <a target=\"_blank\" rel=\"noreferrer\" href=\"https://okgy.hu/\">Örömhír Keresztény Gyülekezet</a> számára</p>\n            {authLink}\n        </div>\n    )\n}\n\nconst mapStateToProps = state => {\n    return { signedIn: state.auth.signedIn }\n}\n\nexport default connect(mapStateToProps, { logout })(Footer)","import React, { useState } from 'react'\nimport { Link } from 'react-router-dom'\nimport Alert from '@material-ui/lab/Alert'\nimport { connect } from 'react-redux'\nimport { isMobileOnly } from 'react-device-detect'\n\nimport '../styles.css'\nimport { removeAlert } from '../actions/alertActions'\nimport { logout } from '../actions/authActions'\nimport { BASE_URL } from '../util'\n\n\nconst Header = (props) => {\n    const [menuOpen, setMenuOpen] = useState(false)\n\n    const alert = props.alert.msg ?\n        <Alert onClose={() => {props.removeAlert()}} severity={props.alert.type} >\n            {props.alert.msg}\n        </Alert>\n        : null\n\n    const authLink = props.signedIn\n        ? <p className=\"item header-link\" onClick={() => {props.logout();setMenuOpen(!menuOpen)}}>Kijelentkezés</p>\n        : <Link to={`${BASE_URL}/login`} className=\"item header-link\" onClick={() => setMenuOpen(!menuOpen)}>Admin bejelentkezés</Link>\n\n    const newSong = props.signedIn ? <Link to={`${BASE_URL}/songs/new`} className=\"item header-link\" onClick={() => setMenuOpen(false)}>Új ének</Link> : null\n\n    if (isMobileOnly) {\n        return (\n            <div className=\"ui secondary vertical menu my-mobile-header\">\n                <div className=\"right-left\">\n                    <Link to={`${BASE_URL}`} className=\"item\" onClick={() => setMenuOpen(false)}>\n                        <h2 className=\"force-open-sans\">ÖKGY Énekeskönyv</h2>\n                    </Link>\n                    <div className='vert-centered'>\n                        <i className=\"icon bars\" onClick={() => setMenuOpen(!menuOpen)}></i>\n                    </div>\n                </div>\n                {menuOpen && (\n                    <div >\n                        <Link to={`${BASE_URL}`} className=\"item header-link\" onClick={() => setMenuOpen(false)}>Énekek listája</Link>\n                        {newSong}\n                        <Link to={`${BASE_URL}/playlists`} className=\"item header-link\" onClick={() => setMenuOpen(false)}>Lejátszási listák</Link>\n                        {authLink}\n                    </div>\n                )}\n                <div className=\"centered\">\n                    {alert}\n                </div>\n            </div>\n        )\n    }\n    return (\n        <div className=\"ui secondary pointing menu my-header\">\n            <Link to={`${BASE_URL}`} className=\"item \">\n                <h2 className=\"force-open-sans\">ÖKGY Énekeskönyv</h2>\n            </Link>\n            <Link to={`${BASE_URL}`} className=\"item header-link\">Énekek listája</Link>\n            {newSong}\n            <Link to={`${BASE_URL}/playlists`} className=\"item header-link\">Lejátszási listák</Link>\n            <div className=\"centered\">\n                {alert}\n            </div>\n        </div>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        alert: state.alert,\n        signedIn: state.auth.signedIn\n    }\n}\n\nexport default connect(mapStateToProps, { removeAlert, logout })(Header)","import React from 'react'\nimport { Field, reduxForm } from 'redux-form'\n\nimport MyButton from './MyButton'\nimport MyModal from './MyModal'\n\nconst renderInput = ({ input, label, meta, type }) => {\n    return (\n        <div className={`${meta.error && meta.touched ? 'error' : ''}`}>\n            <label>{label}</label>\n            <input {...input} type={type} autoComplete=\"off\" />\n            {renderError(meta)}\n        </div>\n    )\n}\n\nconst renderError = ({ error, touched }) => {\n    if (touched && error) {\n        return (\n            <div className=\"ui error message\">\n                <div className=\"header\">\n                    {error}\n                </div>\n            </div>\n        )\n    }\n}\n\nconst PlaylistForm = props => {\n    const onSubmit = formValues => {\n        props.onSubmit(formValues)\n    }\n\n    return (\n        <MyModal\n            header=\"Lejátszási lista mentése\"\n            generateTrigger={() => <MyButton disabled={props.disabled} tip=\"Lejátszási lista mentése\" color=\"purple\" icons={[\"save\"]} />}\n            closeText={'Mégse'}\n            approveText={'Mentés'}\n            onApprove={props.handleSubmit(onSubmit)}\n            primary\n            id={2}\n        >\n            <form className=\"ui form error\" onSubmit={props.handleSubmit(onSubmit)}>\n                <Field label=\"Lejátszási lista neve\" name=\"name\" type=\"text\" component={renderInput} />\n            </form>\n        </MyModal>\n    )\n\n}\n\nconst validate = formValues => {\n    const errors = {}\n    if (!formValues.name) {\n        errors.name = 'Add meg a lejátszási lista nevét!'\n    }\n    return errors\n}\n\nexport default reduxForm({\n    form: 'playlistForm',\n    validate\n})(PlaylistForm)","import React from 'react'\nimport { connect }  from 'react-redux'\nimport _ from 'lodash'\n\nimport { fetchSongs } from '../actions/songActions'\nimport {\n    playlistNext,\n    startPlaylist,\n    clearPlaylist,\n    removeFromPlaylist,\n    toggleVisibility,\n    moveInPlaylist,\n    savePlaylist,\n    unloadPlaylist,\n} from '../actions/playlistActions'\nimport { newAlert } from '../actions/alertActions'\n\nimport MyButton from './MyButton'\nimport MyTooltip from './MyTooltip'\nimport MyModal from './MyModal'\nimport PlaylistItem from './PlaylistItem'\nimport PlaylistForm from './PlaylistForm'\nimport { FULL_URL } from '../util'\n\n\nclass Playlist extends React.Component {\n    state = {\n        open: true,\n    }\n\n    componentDidMount() {\n        this.props.fetchSongs()\n    }\n\n    renderSongList = (modifiable) => {\n        if (_.isEmpty(this.props.songs) || !this.state.open || !this.props.playlist.songs) {\n            return null\n        }\n        const list = this.props.playlist.songs.map((songId, idx) => {\n            const song = this.props.songs.find(el => el.id === songId)\n            return song && <PlaylistItem key={idx} song={song} idx={idx} length={this.props.playlist.songs.length} currentIndex={this.props.playlist.currentIndex} unmodifiable={!modifiable} playlist playlistId={this.props.playlist.loaded} />\n        })\n\n        const empty = list.length > 0 ? '' : (<p className=\"centered-text\">A lejátszási lista üres</p>)\n        return (\n            <>\n                <div className=\"ui relaxed divided ordered list\">\n                    {list}\n                </div>\n                {empty}\n            </>\n        )\n    }\n\n    onClose = (e) => {\n        this.props.toggleVisibility()\n        e.stopPropagation()\n    }\n\n    copyLink(id) {\n        navigator.clipboard.writeText(`${FULL_URL}/playlists/${id}`)\n        this.props.newAlert('A lejátszási lista linkje a vágólapra másolva', 'success')\n    }\n\n    render() {\n        //TODO dupla tool-tip\n        if (!this.props.playlist.visible || !this.props.playlist.songs) {\n            return null\n        }\n        const currentIndex = this.props.playlist.songs.length === 0 ? 0 : this.props.playlist.currentIndex + 1\n        const extraButtons = this.state.open ? (\n            <div className=\"right-left pointer\" onClick={() => this.setState({open: !this.state.open})}>\n                <i className={`icon ${this.state.open ? 'minus' : 'plus'}`}></i>\n                <i className=\"red icon close\" onClick={this.onClose}></i>\n            </div>\n        ) : null\n        const modifiable = !this.props.playlist.loaded || this.props.signedIn\n        return (\n            <>\n                <div className=\"playlist-container\">\n                    <MyTooltip />\n                    <div className=\"right-left pointer\" onClick={() => this.setState({open: !this.state.open})}>\n                        <h3>{this.props.playlist.loaded ? this.props.playlist.loadedName : 'Lejátszási lista'} {`${currentIndex}/${this.props.playlist.songs.length}`}</h3>\n                        <div>\n                            <i className={`icon ${this.state.open ? 'minus' : 'plus'}`}></i>&nbsp;&nbsp;\n                            <i className=\"red icon close\" onClick={this.onClose}></i>\n                        </div>\n                    </div>\n                    <div className=\"centered-container\">\n                        {this.props.signedIn && !this.props.playlist.loaded && (\n                            <PlaylistForm onSubmit={(formData) => this.props.savePlaylist(formData)} disabled={this.props.playlist.songs.length === 0} />\n                        )}\n                        {this.props.playlist.loaded ? (\n                            <>\n                                <MyButton tip=\"Üres listára váltás\" color=\"orange\" onClick={this.props.unloadPlaylist} icons={[\"file outline\"]} />\n                                <MyButton tip=\"Megosztás\" color=\"purple\" onClick={() => this.copyLink(this.props.playlist.loaded )} icons={[\"share alternate\"]} />\n                            </>\n\n                        ) : (\n                            <MyModal\n                                header=\"Biztosan törlöd a lejátszási listát?\"\n                                generateTrigger={() => <MyButton disabled={this.props.playlist.songs.length === 0 && !this.props.playlist.loaded} tip=\"Lejátszási lista törlése\" color=\"negative\" icons={[\"trash alternate\"]} />}\n                                closeText=\"Mégse\"\n                                approveText=\"Törlés\"\n                                onApprove={this.props.clearPlaylist}\n                                negative\n                                id={1}\n                            >\n                                Biztosan üríted a lejátszási listát? Ezt később nem tudod visszavonni!\n                            </MyModal>\n                        )}\n                        <MyButton disabled={!this.props.playlist.active} tip=\"Előző ének\" color=\"blue\" onClick={() => this.props.playlistNext(false, this.props.playlist)} icons={[\"backward\"]} />\n                        <MyButton disabled={this.props.playlist.active || this.props.playlist.songs.length === 0} tip=\"Lejátszási lista indítása\" color=\"green\" onClick={() => this.props.startPlaylist(this.props.playlist)} icons={[\"play\"]} />\n                        <MyButton disabled={!this.props.playlist.active} tip=\"Következő ének\" color=\"blue\" onClick={() => this.props.playlistNext(true, this.props.playlist)} icons={[\"forward\"]} />\n                    </div>\n                    {this.renderSongList(modifiable)}\n                    {extraButtons}\n                </div>\n            </>\n        )\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        songs: Object.values(state.songs),\n        playlist: state.playlist,\n        signedIn: state.auth.signedIn\n    }\n}\n\nexport default connect(mapStateToProps, {\n    fetchSongs,\n    playlistNext,\n    startPlaylist,\n    clearPlaylist,\n    removeFromPlaylist,\n    toggleVisibility,\n    moveInPlaylist,\n    savePlaylist,\n    unloadPlaylist,\n    newAlert,\n})(Playlist)","import React from 'react'\nimport { connect }  from 'react-redux'\nimport { Router, Route, Switch } from 'react-router-dom'\nimport { Cookies } from 'react-cookie'\n\nimport SongList from './screens/SongList'\nimport SongCreate from './screens/SongCreate'\nimport SongEdit from './screens/SongEdit'\nimport SongShow from './screens/SongShow'\nimport Login from './screens/Login'\nimport PlaylistList from './screens/PlaylistList'\n\nimport Footer from './Footer'\nimport Header from './Header'\nimport Playlist from './Playlist'\n\nimport history from '../history'\nimport { loadPlaylist, recoverState } from '../actions/playlistActions'\nimport { loginFromCookie } from '../actions/authActions'\nimport { BASE_URL } from '../util'\n\n\nclass App extends React.Component {\n    componentDidMount() {\n        const c = new Cookies()\n        const tokenCookie = c.get('token')\n        if (tokenCookie) {\n            this.props.loginFromCookie(tokenCookie)\n        }\n        this.props.recoverState()\n    }\n\n    render() {\n        return (\n            <div>\n                <Router history={history}>\n                    <Header />\n                    <Switch>\n                        <Route path={`${BASE_URL}/`} exact component={SongList} />\n                        <Route path={`${BASE_URL}/songs/new`} exact component={SongCreate} />\n                        <Route path={`${BASE_URL}/songs/edit/:id`} exact component={SongEdit} />\n                        <Route path={`${BASE_URL}/songs/:id`} exact component={SongShow} />\n                        <Route path={`${BASE_URL}/login`} exact component={Login} />\n                        <Route path={`${BASE_URL}/playlists`} exact component={PlaylistList} />\n                        <Route path={`${BASE_URL}/playlists/:id`} exact render={({match}) => {\n                            this.props.loadPlaylist(match.params.id, true)\n                            history.push(BASE_URL)\n                        }} />\n                    </Switch>\n                    <Footer />\n                    <Playlist />\n                </Router>\n            </div>\n        )\n    }\n\n}\n\nconst mapStateToProps = state => {\n    return {\n        signedIn: state.auth.signedIn\n    }\n}\n\n\nexport default connect(mapStateToProps, { loadPlaylist, recoverState, loginFromCookie })(App)","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { Provider } from 'react-redux'\nimport { createStore, applyMiddleware, compose } from 'redux'\nimport reduxThunk from 'redux-thunk'\nimport { save, load } from \"redux-localstorage-simple\"\nimport 'semantic-ui-css/semantic.min.css'\n\nimport combinedReducer from './reducers'\nimport App from './components/App'\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nconst createStoreWithMiddleware = composeEnhancers(applyMiddleware(save({ states: [\"playlist\"], debounce: 500}), reduxThunk))(createStore)\nconst store = createStoreWithMiddleware(combinedReducer, load({ states: [\"playlist\"]}))\n\nReactDOM.render(\n    <Provider store={store}>\n        <App />\n    </Provider>,\n    document.getElementById('root'))"],"sourceRoot":""}