{"version":3,"sources":["actions/types.js","util.js","reducers/playlistReducer.js","reducers/searchListReducer.js","reducers/authReducer.js","reducers/modalReducer.js","reducers/index.js","reducers/songsReducer.js","reducers/alertReducer.js","reducers/playlistListReducer.js","components/MyTooltip.js","components/Page.js","components/MyLoader.js","components/SearchBar.js","components/MyButton.js","api.js","history.js","actions/songActions.js","actions/playlistActions.js","actions/alertActions.js","components/screens/SongList.js","components/MyModal.js","actions/modalActions.js","components/screens/SongForm.js","components/screens/SongCreate.js","components/screens/SongEdit.js","components/screens/SongShow.js","actions/authActions.js","components/screens/Login.js","components/PlaylistItem.js","components/screens/PlaylistList.js","components/Footer.js","components/Header.js","components/PlaylistForm.js","components/Playlist.js","components/App.js","index.js"],"names":["FETCH_SONGS","UPDATE_WITH_WRONG_ID","UPDATE_WITH_ID","UPDATE_WITH_TERM","CANCEL_SEARCH","FETCH_SONG","CREATE_SONG","EDIT_SONG","DELETE_SONG","NEW_ALERT","REMOVE_ALERT","ADD_TO_PLAYLIST","REMOVE_FROM_PLAYLIST","PLAYLIST_NEXT","PLAYLIST_STEP","START_PLAYLIST","STOP_PLAYLIST","CLEAR_PLAYLIST","TOGGLE_VISIBILITY","MOVE_IN_PLAYLIST","SAVE_PLAYLIST","FETCH_PLAYLISTS","LOAD_PLAYLIST","UNLOAD_PLAYLIST","DELETE_PLAYLIST","REPLACE_PLAYLIST","REPLACE_PLAYLIST_IN_LIST","OPEN_MODAL","CLOSE_MODAL","LOGIN","LOGOUT","RECOVER_STATE","handleError","err","dispatch","response","status","type","payload","msg","statusText","console","error","setTimeout","setTimeoutToRemoveAlert","sortSongs","songs","field","sort","fEl","sEl","addToPlaylistReducer","playlist","newSongId","removeFromPlaylistReducer","idToRemove","remIdx","indexOf","curIdx","currentIndex","length","clonedState","splice","removeFromPlaylistReducerNoIndex","filter","songId","moveInPlaylistReducer","up","index","otherIndex","temp","diff","moveInPlaylistReducerNoIndex","addPlacesToPlaylist","map","song","idx","place","removePlacesFromPlaylist","a","b","defaultState","active","visible","loaded","undefined","loadedName","list","validSearch","signedIn","token","open","id","combineReducers","state","action","_","mapKeys","omit","searchList","uniq","alert","form","formReducer","name","modifiable","modal","auth","playlistList","listOfIds","pl","MyTooltip","isMobile","effect","Page","props","useEffect","window","scrollTo","path","children","MyLoader","className","color","SearchBar","useState","value","setValue","debouncedValue","setDebouncedValue","lyricsToo","setLyricsToo","timeOut","clearTimeout","isNaN","term","cancel","onChange","e","target","placeholder","tabIndex","checked","htmlFor","MyButton","icons","icon","tip","onClick","stopPropagation","disabled","text","db","axios","create","baseURL","createBrowserHistory","fetchSongs","get","data","fetchSong","patchPlaylist","getState","localResult","playlistId","patch","headers","res","addToPlaylist","includes","removeFromPlaylist","playlistToRemoveFrom","find","playlistNext","next","history","push","stopPlaylist","clearPlaylist","delete","toggleVisibility","moveInPlaylist","playlistToMoveIn","loadPlaylist","newAlert","removeAlert","SongList","sortById","event","preventDefault","renderSmallButtons","isMobileOnly","renderSong","to","title","this","isEmpty","setState","empty","location","pathname","findId","searchSongs","cancelSearch","React","Component","connect","Object","values","inTitle","inLyrics","openModal","closeModal","Alert","onClose","severity","Modal","onOpen","trigger","generateTrigger","Header","header","Content","Description","Actions","Button","closeText","content","approveText","onApprove","negative","primary","renderInput","input","label","meta","wide","touched","autoComplete","renderError","renderTextArea","reduxForm","validate","formValues","errors","lyrics","onSubmit","handleSubmit","Field","component","edit","onDeleteClick","initialValues","SongCreate","plVisible","biggestID","createSong","Math","max","formData","post","parseInt","split","join","log","SongEdit","match","params","editSong","verses","deleteSong","ownProps","SMALL_FONT_SIZE","SongShow","fontSize","deleteModalActive","deletePassword","oneVerseModeActive","currentVerse","showButtons","twoColumnMode","handleKeyDown","code","handleVerseChange","onSizeChange","increase","handleModeSwitch","forward","handleFontSizeReset","onPlaylistAdd","renderLine","line","Fragment","renderVerse","verse","lines","style","renderVerses","firstColumn","ceil","secondColumn","renderButtons","editButton","desktopButton","optionalButtons","renderTitle","prevProps","onKeyDown","logout","Cookies","remove","maxAge","username","password","login","set","goBack","playlistStep","upDisabled","downDisabled","unmodifiable","PlaylistList","activePlaylist","fetchPlaylists","navigator","clipboard","writeText","date","Date","parse","toLocaleDateString","Accordion","fluid","styled","Title","handleClick","Icon","generateDateAdded","created_at","copyLink","authLink","rel","href","menuOpen","setMenuOpen","newSong","Playlist","renderSongList","el","extraButtons","savePlaylist","unloadPlaylist","startPlaylist","App","tokenCookie","loginFromCookie","recoverState","exact","Login","render","store","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","applyMiddleware","save","states","debounce","reduxThunk","composeEnhancers","createStore","createStoreWithMiddleware","combinedReducer","load","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.403429ae.chunk.js","sourcesContent":["export const FETCH_SONGS = 'FETCH_SONGS'\nexport const UPDATE_WITH_WRONG_ID = 'UPDATE_WITH_WRONG_ID'\nexport const UPDATE_WITH_ID = 'UPDATE_WITH_ID'\nexport const UPDATE_WITH_TERM = 'UPDATE_WITH_TERM'\nexport const CANCEL_SEARCH = 'CANCEL_SEARCH'\nexport const FETCH_SONG = 'FETCH_SONG'\nexport const CREATE_SONG = 'CREATE_SONG'\nexport const EDIT_SONG = 'EDIT_SONG'\nexport const DELETE_SONG = 'DELETE_SONG'\n\nexport const NEW_ALERT = 'NEW_ALERT'\nexport const REMOVE_ALERT = 'REMOVE_ALERT'\n\nexport const ADD_TO_PLAYLIST = 'ADD_TO_PLAYLIST'\nexport const REMOVE_FROM_PLAYLIST = 'REMOVE_FROM_PLAYLIST'\nexport const PLAYLIST_NEXT = 'PLAYLIST_NEXT'\nexport const PLAYLIST_STEP = 'PLAYLIST_STEP'\nexport const START_PLAYLIST = 'START_PLAYLIST'\nexport const STOP_PLAYLIST = 'STOP_PLAYLIST'\nexport const CLEAR_PLAYLIST = 'CLEAR_PLAYLIST'\nexport const TOGGLE_VISIBILITY = 'TOGGLE_VISIBILITY'\nexport const MOVE_IN_PLAYLIST = 'MOVE_IN_PLAYLIST'\nexport const SAVE_PLAYLIST = 'SAVE_PLAYLIST'\nexport const FETCH_PLAYLISTS = 'FETCH_PLAYLISTS'\nexport const LOAD_PLAYLIST = 'LOAD_PLAYLIST'\nexport const UNLOAD_PLAYLIST = 'UNLOAD_PLAYLIST'\nexport const DELETE_PLAYLIST = 'DELETE_PLAYLIST'\nexport const REPLACE_PLAYLIST = 'REPLACE_PLAYLIST'\nexport const REPLACE_PLAYLIST_IN_LIST = 'REPLACE_PLAYLIST_IN_LIST'\n\nexport const OPEN_MODAL = 'OPEN_MODAL'\nexport const CLOSE_MODAL = 'CLOSE_MODAL'\n\nexport const LOGIN = 'LOGIN'\nexport const LOGOUT = 'LOGOUT'\n\nexport const RECOVER_STATE = 'RECOVER_STATE'","import { NEW_ALERT, REMOVE_ALERT } from './actions/types'\n\n\nconst setTimeoutToRemoveAlert = (dispatch) => {\n    setTimeout(() => dispatch({type: REMOVE_ALERT}), 5000)\n}\n\nexport const handleError = (err, dispatch) => {\n    if (!err.response) {\n        dispatch({type: NEW_ALERT, payload: {msg: 'Valami baj van', type: 'error'}})\n        console.error(err)\n    } else if (err.response.status === 401 || err.response.status === 403) {\n        dispatch({type: NEW_ALERT, payload: {msg: 'Nem vagy bejelentkezve', type: 'error'}})\n    } else if (err.response.status === 400) {\n        dispatch({type: NEW_ALERT, payload: {msg: 'Hibás felhasználónév vagy jelszó', type: 'error'}})\n    } else {\n        dispatch({type: NEW_ALERT, payload: {msg: `${err.response.status}: ${err.response.statusText}`, type: 'error'}})\n        console.error(err.response)\n    }\n    setTimeoutToRemoveAlert(dispatch)\n}\n\nexport const sortSongs = (songs, field) => {\n    songs.sort((fEl, sEl) => {\n        if (fEl[field] < sEl[field]) {\n            return -1\n        } else if (fEl[field] > sEl[field]) {\n            return 1\n        } return 0\n    })\n}\n\nexport const addToPlaylistReducer = (playlist, newSongId) => {\n    return { ...playlist, songs: [ ...playlist.songs, newSongId]}\n}\n\nexport const removeFromPlaylistReducer = (playlist, idToRemove) => {\n    const remIdx = playlist.songs.indexOf(idToRemove)\n    if (remIdx === -1) {\n        return playlist\n    }\n    let curIdx = playlist.currentIndex\n    if ((remIdx < curIdx || remIdx === playlist.songs.length - 1) && curIdx > 0) {\n        curIdx -= 1\n    }\n    const clonedState = [...playlist.songs]\n    clonedState.splice(remIdx, 1)\n    return { ...playlist, songs: clonedState, currentIndex: curIdx }\n}\n\nexport const removeFromPlaylistReducerNoIndex = (playlist, idToRemove) => {\n    return { ...playlist, songs: playlist.songs.filter(songId => songId !== idToRemove)}\n}\n\nexport const moveInPlaylistReducer = (playlist, up, index) => {\n    if ((index === 0 && up) || (index === playlist.songs.length - 1 && !up)) {\n        return playlist\n    }\n    const otherIndex = up ? index - 1 : index + 1\n    const clonedState = {...playlist}\n    const temp = clonedState.songs[otherIndex]\n    clonedState.songs[otherIndex] = clonedState.songs[index]\n    clonedState.songs[index] = temp\n    let diff = 0\n    if (playlist.currentIndex === index) {\n        diff = up ? -1 : 1\n    } else if (playlist.currentIndex === otherIndex) {\n        diff = up ? 1 : -1\n    }\n    clonedState.currentIndex += diff\n    return clonedState\n}\n\nexport const moveInPlaylistReducerNoIndex = (playlist, up, index) => {\n    if ((index === 0 && up) || (index === playlist.songs.length - 1 && !up)) {\n        return playlist\n    }\n    const otherIndex = up ? index - 1 : index + 1\n    const clonedState = {...playlist}\n    const temp = clonedState.songs[otherIndex]\n    clonedState.songs[otherIndex] = clonedState.songs[index]\n    clonedState.songs[index] = temp\n    return clonedState\n}\n\nexport const addPlacesToPlaylist = (playlist) => {\n    return playlist.map((song, idx) => ({song: song, place: idx}))\n}\n\nexport const removePlacesFromPlaylist = (playlist) => {\n    return playlist.sort((a, b) => a.place - b.place).map(song => song.song)\n}","import { \n    ADD_TO_PLAYLIST,\n    REMOVE_FROM_PLAYLIST,\n    PLAYLIST_NEXT,\n    START_PLAYLIST,\n    STOP_PLAYLIST,\n    CLEAR_PLAYLIST,\n    TOGGLE_VISIBILITY,\n    MOVE_IN_PLAYLIST,\n    SAVE_PLAYLIST,\n    LOAD_PLAYLIST,\n    UNLOAD_PLAYLIST,\n    REPLACE_PLAYLIST,\n    PLAYLIST_STEP,\n    RECOVER_STATE\n} from \"../actions/types\"\nimport {\n    addToPlaylistReducer,\n    removeFromPlaylistReducer,\n    moveInPlaylistReducer\n} from \"../util\"\n\nconst defaultState = {\n    songs: [],\n    currentIndex: 0,\n    active: false,\n    visible: false,\n    loaded: undefined,\n    loadedName: '',\n}\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default (state = defaultState, action) => {\n    switch(action.type) {\n        case ADD_TO_PLAYLIST:\n            return addToPlaylistReducer(state, action.payload)\n        case REMOVE_FROM_PLAYLIST:\n            return removeFromPlaylistReducer(state, action.payload)\n        case PLAYLIST_NEXT:\n            return { ...state, currentIndex: action.payload }\n        case START_PLAYLIST:\n            return { ...state, active: true}\n        case STOP_PLAYLIST:\n            return { ...state, active: false}\n        case CLEAR_PLAYLIST:\n            return { ...defaultState, visible: state.visible }\n        case TOGGLE_VISIBILITY:\n            return { ...state, visible: !state.visible}\n        case MOVE_IN_PLAYLIST:\n            return moveInPlaylistReducer(state, action.payload.up, action.payload.index)\n        case SAVE_PLAYLIST:\n            return {...state, songs: action.payload.songs, loaded: action.payload.id, loadedName: action.payload.name}\n        case LOAD_PLAYLIST:\n            return {\n                songs: action.payload.list.songs,\n                currentIndex: 0,\n                active: false,\n                visible: true,\n                loaded: action.payload.modifiable ? action.payload.list.id : undefined,\n                loadedName: action.payload.modifiable ? action.payload.list.name : '',\n            }\n        case UNLOAD_PLAYLIST:\n            return { ...defaultState, visible: true }\n        case REPLACE_PLAYLIST:\n            return action.payload\n        case PLAYLIST_STEP:\n            return { ...state, currentIndex: action.payload }\n        case RECOVER_STATE:\n            if (state.list && !state.songs) {\n                return {...state, songs: state.list}\n            }\n            return state\n        default:\n            return state\n    }\n}","import _ from 'lodash'\r\n\r\nimport { UPDATE_WITH_ID, UPDATE_WITH_WRONG_ID, UPDATE_WITH_TERM, CANCEL_SEARCH } from \"../actions/types\"\r\n\r\nconst defaultState = {\r\n    list: [],\r\n    validSearch: false\r\n}\r\n\r\n// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default (state = defaultState, action) => {\r\n    switch(action.type) {\r\n        case UPDATE_WITH_ID:\r\n            return { list: [action.payload.id], validSearch: true }\r\n        case UPDATE_WITH_WRONG_ID:\r\n            return { list: [], validSearch: true }\r\n        case UPDATE_WITH_TERM:\r\n            return { list: _.uniq(action.payload.map(song => song.id)), validSearch: true}\r\n        case CANCEL_SEARCH:\r\n            return defaultState\r\n        default:\r\n            return state\r\n    }\r\n}","import { LOGIN, LOGOUT } from \"../actions/types\"\r\n\r\nconst defaultState = {\r\n    signedIn: false,\r\n    token: null,\r\n}\r\n\r\n// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default (state = defaultState, action) => {\r\n    switch(action.type) {\r\n        case LOGIN:\r\n            return { signedIn: true, token: action.payload}\r\n        case LOGOUT:\r\n            return defaultState\r\n        default:\r\n            return state\r\n    }\r\n}","import { CLOSE_MODAL, OPEN_MODAL } from \"../actions/types\";\n\nconst defaultState = { open: false, id: undefined }\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default (state = defaultState, action) => {\n    switch(action.type) {\n        case OPEN_MODAL:\n            return { open: true, id: action.payload }\n        case CLOSE_MODAL:\n            return defaultState\n        default:\n            return state\n    }\n}","import { combineReducers } from 'redux'\nimport { reducer as formReducer } from \"redux-form\"\n\nimport songsReducer from './songsReducer'\nimport alertReducer from './alertReducer'\nimport playlistReducer from './playlistReducer'\nimport playlistListReducer from './playlistListReducer'\nimport searchListReducer from './searchListReducer'\nimport authReducer from './authReducer'\nimport modalReducer from './modalReducer'\n\nexport default combineReducers({\n    songs: songsReducer,\n    searchList: searchListReducer,\n    alert: alertReducer,\n    form: formReducer,\n    playlist: playlistReducer,\n    modal: modalReducer,\n    auth: authReducer,\n    playlistList: playlistListReducer,\n})","import _ from 'lodash'\r\nimport { FETCH_SONGS, FETCH_SONG, CREATE_SONG, EDIT_SONG, DELETE_SONG } from \"../actions/types\"\r\n\r\n// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default (state = {}, action) => {\r\n    switch (action.type) {\r\n        case FETCH_SONGS:\r\n            return {..._.mapKeys(action.payload, 'id')}\r\n        case FETCH_SONG:\r\n            return {...state, [action.payload.id]: action.payload}\r\n        case CREATE_SONG:\r\n            return {...state, [action.payload.id]: action.payload}\r\n        case EDIT_SONG:\r\n            return {...state, [action.payload.id]: action.payload}\r\n        case DELETE_SONG:\r\n            return _.omit(state, action.payload)\r\n        default:\r\n            return state\r\n    }\r\n}","import { NEW_ALERT, REMOVE_ALERT } from \"../actions/types\"\r\n\r\n// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default (state = {}, action) => {\r\n    switch(action.type) {\r\n        case NEW_ALERT:\r\n            return action.payload\r\n        case REMOVE_ALERT:\r\n            return {}\r\n        default:\r\n            return state\r\n    }\r\n}","import { FETCH_PLAYLISTS, REPLACE_PLAYLIST_IN_LIST, DELETE_PLAYLIST, DELETE_SONG, SAVE_PLAYLIST, REPLACE_PLAYLIST } from \"../actions/types\"\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default (state = {list: [], loaded: false }, action) => {\n    switch(action.type) {\n        case FETCH_PLAYLISTS:\n            return { list: action.payload, loaded: true }\n        case REPLACE_PLAYLIST:\n        case REPLACE_PLAYLIST_IN_LIST:\n            const listOfIds = state.list.map(pl => pl.id)\n            const idx = listOfIds.indexOf(action.payload.loaded)\n            if (idx === -1) {\n                return state\n            }\n            const clonedState = {...state}\n            clonedState.list[idx].songs = action.payload.songs\n            return clonedState\n        case DELETE_PLAYLIST:\n            return { ...state, list: state.list.filter(pl => pl.id !== action.payload) }\n        case DELETE_SONG:\n            return { ...state, list: state.list.map(pl => ({...pl, songs: pl.songs.filter(songId => songId !== action.payload)}))}\n        case SAVE_PLAYLIST:\n            return { ...state, list: [...state.list, action.payload]}\n        default:\n            return state\n    }\n}","import ReactTooltip from 'react-tooltip'\r\nimport { isMobile } from 'react-device-detect'\r\n\r\nconst MyTooltip = () => {\r\n    if (isMobile) {\r\n        return null\r\n    }\r\n    return <ReactTooltip effect=\"solid\" />\r\n}\r\n\r\nexport default MyTooltip\r\n","import { useEffect } from 'react'\n\nconst Page = props => {\n    useEffect(() => {\n        window.scrollTo(0, 0)\n    }, [props.path])\n    return props.children\n}\n\nexport default Page","import React from 'react'\r\nimport Loader from \"react-loader-spinner\"\r\n\r\nimport '../styles.css'\r\n\r\nconst MyLoader = () => {\r\n    return (\r\n        <div className=\"loader-container\">\r\n            <Loader\r\n                type=\"Oval\"\r\n                color=\"#999897\"\r\n                visible\r\n            />\r\n            <p className=\"big-text\">Betöltés...</p>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default MyLoader","import React, { useState, useEffect } from 'react'\r\n\r\nconst SearchBar = props => {\r\n    const [value, setValue] = useState('')\r\n    const [debouncedValue, setDebouncedValue] = useState('')\r\n    const [lyricsToo, setLyricsToo] = useState(false)\r\n\r\n    useEffect(() => {\r\n        const timeOut = setTimeout(() => {\r\n            setDebouncedValue(value)\r\n        }, 350)\r\n        return () => {\r\n            clearTimeout(timeOut)\r\n        }\r\n    }, [value])\r\n\r\n    useEffect(() => {\r\n        if (debouncedValue) {\r\n            if (isNaN(debouncedValue)) {\r\n                props.term(debouncedValue, lyricsToo)\r\n            } else {\r\n                props.id(debouncedValue)\r\n            }\r\n        } else {\r\n            props.cancel()\r\n        }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [debouncedValue])\r\n\r\n    useEffect(() => {\r\n        if (value) {\r\n            if (isNaN(value)) {\r\n                props.term(value, lyricsToo)\r\n            }\r\n        }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [lyricsToo])\r\n\r\n    return (\r\n        <div className=\"ui form\">\r\n            <div className=\"inline fields centered-container\">\r\n                <div className=\"thirteen wide field\">\r\n                    <label>Keresés</label>\r\n                    <input value={value} onChange={(e) => setValue(e.target.value)} placeholder=\"Írd be egy ének sorszámát vagy címének, szövegének egy részletét!\"/>\r\n                </div>\r\n                <div className=\"three wide field\">\r\n                    <div className=\"ui checkbox my-check\">\r\n                        <input id=\"lyricsCheckbox\" type=\"checkbox\" tabIndex=\"0\" checked={lyricsToo} onChange={() => setLyricsToo(!lyricsToo)} />\r\n                        <label htmlFor=\"lyricsCheckbox\">dalszövegben is</label>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SearchBar","import React from 'react'\n\nconst MyButton = props => {\n\n    const handleClick = (e) => {\n        e.stopPropagation()\n        props.onClick()\n    }\n\n    const icons = props.icons.map((icon, idx) => <i key={idx} className={`icon ${icon}`}></i>)\n    return (\n        <button data-tip={props.tip} aria-label={props.tip} className={`ui button my-button icon ${props.color}`} onClick={handleClick} disabled={props.disabled} >{icons}{props.text}</button>\n    )\n}\n\nexport default MyButton","import axios from 'axios'\r\n\r\nexport const db = axios.create({\r\n    baseURL: 'https://dicsi-api.herokuapp.com/'\r\n})","import { createBrowserHistory } from 'history'\r\n\r\nexport default createBrowserHistory()","import {\n    FETCH_SONGS,\n    FETCH_SONG,\n    CREATE_SONG,\n    EDIT_SONG,\n    DELETE_SONG,\n    REMOVE_FROM_PLAYLIST,\n    UPDATE_WITH_ID,\n    UPDATE_WITH_WRONG_ID,\n    UPDATE_WITH_TERM,\n    CANCEL_SEARCH, \n    CLOSE_MODAL} from './types'\nimport { db } from '../api'\nimport history from '../history'\nimport { handleError } from '../util'\n\nexport const fetchSongs = () => async dispatch => {\n    try {\n        const response = await db.get('/songs/?format=json')\n        dispatch({type: FETCH_SONGS, payload: response.data})\n    } catch (err) {\n        handleError(err, dispatch)\n    }\n}\n\nexport const fetchSong = id => async dispatch => {\n    try {\n        const response = await db.get(`/songs/${id}/?format=json`)\n        dispatch({type: FETCH_SONG, payload: response.data})\n    } catch (err) {\n        handleError(err, dispatch)\n    }\n\n}\n\nexport const findId = (id) => async dispatch => {\n    try {\n        const response = await db.get(`/songs/${id}/?format=json`)\n        dispatch({type: UPDATE_WITH_ID, payload: response.data})\n    } catch (err) {\n        if (err.response) {\n            if (err.response.status === 404) {\n                dispatch({type: UPDATE_WITH_WRONG_ID})\n            } else {\n                handleError(err, dispatch)\n            }\n        } else {\n            handleError(err, dispatch)\n        }\n    }\n}\n\nexport const searchSongs = (term, lyricsToo) => async dispatch => {\n    try {\n        const inTitle = await db.get(`/search-title/${term}/`)\n        if (lyricsToo) {\n            const inLyrics = await db.get(`/search-lyrics/${term}/`)\n            dispatch({type: UPDATE_WITH_TERM, payload: [...inTitle.data, ...inLyrics.data]})\n        } else {\n            dispatch({type: UPDATE_WITH_TERM, payload: inTitle.data})\n        }\n\n    } catch (err) {\n        handleError(err, dispatch)\n    }\n}\n\nexport const cancelSearch = () => {\n    return { type: CANCEL_SEARCH}\n}\n\nexport const createSong = formData => async (dispatch, getState) => {\n    try {\n        const response = await db.post('/songs/', {\n            id: parseInt(formData.id),\n            title: formData.title,\n            lyrics: formData.lyrics.split('\\n\\n').join('###')\n        }, { headers: {'Authorization': `Token ${getState().auth.token}` }})\n        dispatch({type: CREATE_SONG, payload: response.data})\n        history.push(`/dicsi/songs/${formData.id}`)\n    } catch (err) {\n        console.log(err.response)\n        handleError(err, dispatch)\n    }\n\n}\n\nexport const editSong = (id, formData) => async (dispatch, getState) => {\n    try {\n        const response = await db.patch(`/songs/${id}/`, {\n            title: formData.title,\n            lyrics: formData.lyrics.split('\\n\\n').join('###'),\n        }, { headers: {'Authorization': `Token ${getState().auth.token}` }})\n        dispatch({type: EDIT_SONG, payload: response.data})\n        history.push(`/dicsi/songs/${id}`)\n    } catch (err) {\n        handleError(err, dispatch)\n    }\n}\n\nexport const deleteSong = (id) => async (dispatch, getState) => {\n    try {\n        await db.delete(`/songs/${id}/`,\n            { headers: {'Authorization': `Token ${getState().auth.token}` }})\n        if (getState().playlist.songs.includes(id)) {\n            dispatch({ type: REMOVE_FROM_PLAYLIST, payload: id })\n        }\n        dispatch({type: DELETE_SONG, payload: id})\n        dispatch({type: CLOSE_MODAL})\n        history.push('/dicsi/')\n    } catch(err) {\n        handleError(err, dispatch)\n    }\n}","import {\n    ADD_TO_PLAYLIST,\n    REMOVE_FROM_PLAYLIST,\n    PLAYLIST_NEXT,\n    START_PLAYLIST,\n    STOP_PLAYLIST,\n    CLEAR_PLAYLIST,\n    TOGGLE_VISIBILITY,\n    MOVE_IN_PLAYLIST,\n    SAVE_PLAYLIST,\n    FETCH_PLAYLISTS,\n    LOAD_PLAYLIST,\n    UNLOAD_PLAYLIST,\n    REPLACE_PLAYLIST,\n    NEW_ALERT,\n    DELETE_PLAYLIST,\n    CLOSE_MODAL,\n    PLAYLIST_STEP,\n    REPLACE_PLAYLIST_IN_LIST,\n    RECOVER_STATE\n} from './types'\nimport {\n    addToPlaylistReducer,\n    removeFromPlaylistReducer,\n    removeFromPlaylistReducerNoIndex,\n    moveInPlaylistReducer,\n    moveInPlaylistReducerNoIndex,\n    removePlacesFromPlaylist,\n    addPlacesToPlaylist\n} from \"../util\"\nimport { db } from '../api'\nimport { handleError } from '../util'\nimport history from '../history'\n\nconst patchPlaylist = async (dispatch, getState, localResult, playlistId) => {\n    try {\n        const res = await db.patch(`/playlists/${playlistId}/`, {\n            songs: addPlacesToPlaylist(localResult.songs)\n        }, { headers: {'Authorization': `Token ${getState().auth.token}` }})\n        if (getState().playlist.loaded === playlistId) {\n            dispatch({ type: REPLACE_PLAYLIST, payload: { ...localResult, songs: removePlacesFromPlaylist(res.data.songs) }})\n        } else {\n            dispatch({ type: REPLACE_PLAYLIST_IN_LIST, payload: {loaded: playlistId, songs: removePlacesFromPlaylist(res.data.songs) }})\n        }\n    } catch (err) {\n        handleError(err, dispatch)\n    }\n}\n\nexport const addToPlaylist = id => async (dispatch, getState) => {\n    if (getState().playlist.songs.includes(id)) {\n        dispatch({ type: NEW_ALERT, payload: {msg: 'Ez a dal már fent van a lejátszási listán', type: 'error'}})\n    } else {\n        if (!getState().playlist.loaded) {\n            dispatch({ type: ADD_TO_PLAYLIST, payload: id })\n        } else {\n            const localResult = addToPlaylistReducer(getState().playlist, id)\n            await patchPlaylist(dispatch, getState, localResult, getState().playlist.loaded)\n        }\n    }\n}\n\nexport const removeFromPlaylist = (songId, playlistId) => async (dispatch, getState) => {\n    if (!getState().playlist.loaded && !playlistId) {\n        dispatch({ type: REMOVE_FROM_PLAYLIST, payload: songId })\n    } else {\n        let localResult = ''\n        if (getState().playlist.loaded === playlistId) {\n            localResult = removeFromPlaylistReducer(getState().playlist, songId)\n        } else {\n            const playlistToRemoveFrom = getState().playlistList.list.find(pl => pl.id === playlistId)\n            localResult = removeFromPlaylistReducerNoIndex(playlistToRemoveFrom, songId)\n        }\n        await patchPlaylist(dispatch, getState, localResult, playlistId)\n    }\n}\n\nexport const playlistNext = (next, state) => {\n    if (!state.active) {\n        return\n    }\n    if (next) {\n        if (state.currentIndex === state.songs.length - 1) {\n            history.push(`/dicsi/songs/${state.songs[0]}`)\n            return { type: PLAYLIST_NEXT, payload: 0 }\n        } else {\n            history.push(`/dicsi/songs/${state.songs[state.currentIndex + 1]}`)\n            return { type: PLAYLIST_NEXT, payload: state.currentIndex + 1 }\n        }\n    } else {\n        if (state.currentIndex < 1) {\n            history.push(`/dicsi/songs/${state.songs[state.songs.length - 1]}`)\n            return { type: PLAYLIST_NEXT, payload: state.songs.length - 1 }\n        } else {\n            history.push(`/dicsi/songs/${state.songs[state.currentIndex - 1]}`)\n            return { type: PLAYLIST_NEXT, payload: state.currentIndex - 1 }\n        }\n    }\n}\n\nexport const playlistStep = (idx) => {\n    return { type: PLAYLIST_STEP, payload: idx }\n}\n\nexport const startPlaylist = (state) => {\n    history.push(`/dicsi/songs/${state.songs[state.currentIndex]}`)\n    return {type: START_PLAYLIST}\n}\nexport const stopPlaylist = () => {\n    return {type: STOP_PLAYLIST}\n}\n\nexport const clearPlaylist = (id) => async (dispatch, getState) => {\n    if (!getState().playlist.loaded && !id) {\n        dispatch({type: CLEAR_PLAYLIST})\n        dispatch({type: CLOSE_MODAL})\n    } else {\n        try {\n            await db.delete(`/playlists/${id}/`,\n                { headers: {'Authorization': `Token ${getState().auth.token}` }})\n            if (id === getState().playlist.loaded) {\n                dispatch({type: CLEAR_PLAYLIST})\n            }\n            dispatch({type: DELETE_PLAYLIST, payload: id})\n            dispatch({type: CLOSE_MODAL})\n        } catch(err)  {\n            handleError(err, dispatch)\n        }\n    } \n}\n\nexport const toggleVisibility = () => {\n    return { type: TOGGLE_VISIBILITY }\n}\n\nexport const moveInPlaylist = (index, up, playlistId) => async (dispatch, getState) => {\n    if (!getState().playlist.loaded && !playlistId) {\n        dispatch({ type: MOVE_IN_PLAYLIST, payload: {index, up} })\n    } else {\n        let localResult = ''\n        if (getState().playlist.loaded === playlistId) {\n            localResult = moveInPlaylistReducer(getState().playlist, up, index)\n        } else {\n            const playlistToMoveIn = getState().playlistList.list.find(pl => pl.id === playlistId)\n            localResult = moveInPlaylistReducerNoIndex(playlistToMoveIn, up, index)\n        }\n        await patchPlaylist(dispatch, getState, localResult, playlistId)\n    }\n}\n\nexport const savePlaylist = formData => async (dispatch, getState) => {\n    try {\n        const response = await db.post('/playlists/', {\n            name: formData.name,\n            songs: addPlacesToPlaylist(getState().playlist.songs)\n        }, { headers: {'Authorization': `Token ${getState().auth.token}` }})\n            dispatch({type: CLOSE_MODAL})\n            dispatch({type: SAVE_PLAYLIST, payload: {...response.data, songs: removePlacesFromPlaylist(response.data.songs)}})\n    } catch (err) {\n        handleError(err, dispatch)\n    }\n}\n\nexport const fetchPlaylists = () => async dispatch => {\n    try {\n        const response = await db.get('/playlists/?format=json')\n        dispatch({type: FETCH_PLAYLISTS, payload: response.data.map(pl => ({...pl, songs: removePlacesFromPlaylist(pl.songs)}))})\n    } catch (err) {\n        handleError(err, dispatch)\n    }\n}\n\nexport const loadPlaylist = (id, modifiable) => async dispatch => {\n    try {\n        const response = await db.get(`/playlists/${id}?format=json`)\n        dispatch({type: LOAD_PLAYLIST, payload: {list: {...response.data, songs: removePlacesFromPlaylist(response.data.songs)}, modifiable}})\n    } catch (err) {\n        handleError(err, dispatch)\n    }\n}\n\nexport const unloadPlaylist = () => {\n    return {type: UNLOAD_PLAYLIST}\n}\n\nexport const recoverState = () => {\n    return { type: RECOVER_STATE }\n}","import { NEW_ALERT, REMOVE_ALERT } from './types'\r\n\r\nexport const newAlert = (msg, type) => {\r\n    return {type: NEW_ALERT, payload: {msg, type}}\r\n}\r\n\r\nexport const removeAlert = () => {\r\n    return {type: REMOVE_ALERT}\r\n}\r\n","import React from 'react'\nimport { connect }  from 'react-redux'\nimport _ from 'lodash'\nimport { isMobileOnly } from 'react-device-detect'\nimport { Link } from 'react-router-dom'\n\nimport '../../styles.css'\nimport { sortSongs } from '../../util'\n\nimport MyTooltip from '../MyTooltip'\nimport Page from '../Page'\nimport MyLoader from '../MyLoader'\nimport SearchBar from '../SearchBar'\nimport MyButton from '../MyButton'\n\nimport { fetchSongs,  searchSongs, findId, cancelSearch } from '../../actions/songActions'\nimport { addToPlaylist, removeFromPlaylist, playlistNext, stopPlaylist, toggleVisibility } from '../../actions/playlistActions'\nimport { removeAlert } from '../../actions/alertActions'\n\nclass SongList extends React.Component {\n    state = {\n        loaded: false,\n        sortById: true,\n    }\n    componentDidMount() {\n        this.props.removeAlert()\n        this.props.fetchSongs()\n        this.props.stopPlaylist()\n    }\n\n    componentDidUpdate() {\n        if (!this.state.loaded && !_.isEmpty(this.props.songs)) {\n            this.setState({ loaded: true})\n        }\n    }\n\n    addToPlaylist = (event, id) => {\n        event.preventDefault()\n        this.props.addToPlaylist(id)\n        event.stopPropagation()\n    }\n    removeFromPlaylist = (event, id) => {\n        event.preventDefault()\n        this.props.removeFromPlaylist(id)\n        event.stopPropagation()\n    }\n\n    renderSmallButtons = song => {\n        const modifiable = !this.props.playlist.loaded || this.props.signedIn\n        if ((this.props.playlist.visible || isMobileOnly) && modifiable) {\n            return this.props.playlist.songs.includes(song.id) ? (\n                <i \n                    data-tip=\"Eltávolítás a lejátszási listáról\" \n                    className=\"icon bigger-icon minus circle red\" \n                    onClick={(e) => this.removeFromPlaylist(e, song.id)}>\n                </i>\n            ) : (\n                <i \n                    data-tip=\"Hozzáadás a lejátszási listához\" \n                    className=\"icon bigger-icon plus circle green\" \n                    onClick={(e) => this.addToPlaylist(e, song.id)}>\n                </i>\n            )\n        }\n    }\n\n    renderSong = (song, idx) => (\n        <div className={`column pointer hover-grey my-bottom-border ${idx % 3 !== 0 && !isMobileOnly ? 'left-border' : ''}`} key={song.id} >\n            <Link to={`/dicsi/songs/${song.id}`} className=\"notLinkStyle\">\n                <div className=\"content right-left\">\n                    <h3 className=\"header my-header-text\">{song.id}. {song.title}</h3>\n                    {this.renderSmallButtons(song)}\n                </div>\n            </Link>\n        </div>\n    )\n\n    render() {\n        if (_.isEmpty(this.props.songs) && !this.state.loaded) {\n            return (\n                <MyLoader />\n            )\n        }\n\n        if (!this.state.sortById) {\n            sortSongs(this.props.songs, 'title')\n        } else {\n            sortSongs(this.props.songs, 'id')\n        }\n\n        const { searchList } = this.props\n        let songs = []\n        if (searchList.validSearch) {\n            songs = searchList.list.map((id, idx) => this.renderSong(this.props.songs.find(song => song.id === id), idx))\n        } else {\n            songs = this.props.songs.map((song, idx) => this.renderSong(song, idx))\n        }\n\n        const empty = songs.length === 0 ? <p className=\"big-text centered-text\">Nincs találat!</p> : null\n        return (\n            <Page path={this.props.location.pathname}>\n                <div className=\"ui container\">\n                    <MyTooltip />\n                    <div className={`ui ${isMobileOnly ? '' : 'stackable grid'}`}>\n                        <div className=\"twelve wide column\">\n                            <SearchBar id={this.props.findId} term={this.props.searchSongs} cancel={this.props.cancelSearch}/>\n                        </div>\n                        <div className=\"four wide column \">\n                            <div className=\"centered-container\">\n                                <MyButton color=\"blue\" onClick={() => this.setState({ sortById: true})} icons={[\"sort numeric down\"]} tip=\"Énekek rendezése sorszám szerint\" disabled={this.state.sortById || this.props.searchList.validSearch}/>\n                                <MyButton color=\"blue\" onClick={() => this.setState({ sortById: false})} icons={[\"sort alphabet down\"]} tip=\"Énekek rendezése cím szerint\" disabled={!this.state.sortById || this.props.searchList.validSearch}/>\n                                <MyButton color=\"green\" onClick={this.props.toggleVisibility} icons={[\"play circle\"]} text=\" Lejátszási lista\"/>\n                            </div>\n                        </div>\n                    </div>\n                    <div className=\"ui stackable three column grid\">\n                        {songs}\n                    </div>\n                    {empty}\n                </div>\n            </Page>\n        )\n    }\n\n}\n\nconst mapStateToProps = state => {\n    return {\n        songs: Object.values(state.songs),\n        searchList: state.searchList,\n        playlist: state.playlist,\n        signedIn: state.auth.signedIn\n    }\n}\n\nexport default connect(mapStateToProps, {\n    fetchSongs,\n    removeAlert,\n    searchSongs,\n    findId,\n    addToPlaylist,\n    removeFromPlaylist,\n    playlistNext,\n    stopPlaylist,\n    cancelSearch,\n    toggleVisibility\n})(SongList)","import React from 'react'\nimport Alert from '@material-ui/lab/Alert'\nimport { connect } from 'react-redux'\nimport { Button, Modal } from 'semantic-ui-react'\n\nimport '../styles.css'\nimport { removeAlert } from '../actions/alertActions'\nimport { openModal, closeModal } from '../actions/modalActions'\n\nconst MyModal = props => {\n  const alert = props.alert.msg ?\n    <Alert onClose={() => {props.removeAlert()}} severity={props.alert.type} >\n        {props.alert.msg}\n    </Alert>\n    : null\n\n  return (\n    <Modal\n      onClose={props.closeModal}\n      onOpen={() => props.openModal(props.id)}\n      open={props.modal.open && props.modal.id === props.id}\n      trigger={props.generateTrigger()}\n    >\n      <Modal.Header>{props.header}</Modal.Header>\n      <Modal.Content>\n        <Modal.Description>\n            {props.children}\n        </Modal.Description>\n      </Modal.Content>\n      <Modal.Actions>\n        <div className=\"centered\">\n            {alert}\n        </div>\n        <Button onClick={props.closeModal}>\n          {props.closeText}\n        </Button>\n        <Button\n          content={props.approveText}\n          onClick={() => {props.onApprove()}}\n          negative={props.negative}\n          primary={props.primary}\n        />\n      </Modal.Actions>\n    </Modal>\n  )\n}\n\nconst mapStateToProps = state => {\n    return {\n        alert: state.alert,\n        modal: state.modal\n    }\n}\n\nexport default connect(mapStateToProps, {removeAlert, openModal, closeModal})(MyModal)","import { CLOSE_MODAL, OPEN_MODAL } from \"./types\"\n\nexport const openModal = (id) => {\n    return { type: OPEN_MODAL, payload: id }\n}\n\nexport const closeModal = () => {\n    return { type: CLOSE_MODAL }\n}","import React from 'react'\nimport { Field, reduxForm } from 'redux-form'\nimport { Link } from 'react-router-dom'\nimport { isMobileOnly } from 'react-device-detect'\n\nimport MyModal from './../MyModal'\nimport MyTooltip from '../MyTooltip'\n\nconst renderInput = ({ input, label, meta, type, disabled, wide, tip }) => {\n    return (\n        <div className={`${wide} field ${meta.error && meta.touched ? 'error' : ''}`}>\n            <label>{label}</label>\n            <input {...input} type={type} autoComplete=\"off\" disabled={disabled} data-tip={tip} />\n            {renderError(meta)}\n        </div>\n    )\n}\n\nconst renderTextArea = ({ input, label, meta, tip }) => {\n    return (\n        <div className={`field ${meta.error && meta.touched ? 'error' : ''}`}>\n            <label>{label}</label>\n            <textarea {...input} autoComplete=\"off\" data-tip={tip}/>\n            {renderError(meta)}\n        </div>\n    )\n}\n\nconst renderError = ({ error, touched }) => {\n    if (touched && error) {\n        return (\n            <div className=\"ui error message\">\n                <div className=\"header\">\n                    {error}\n                </div>\n            </div>\n        )\n    }\n}\n\nconst SongForm = props => {\n\n    const onSubmit = formValues => {\n        props.onSubmit(formValues)\n    }\n\n    const buttons = () => {\n        if (!props.edit) {\n            return <button className=\"ui button primary\">Mentés</button>\n        }\n        return (\n            <div className=\"ui segment\">\n                <div className=\"ui two column very relaxed grid\">\n                    <div className=\"column\">\n                        <button className={`ui button primary ${isMobileOnly ? 'my-bigger-button' : ''}`}>Mentés</button>\n                        <Link to={`/dicsi/songs/${props.id}`} className={`ui button grey ${isMobileOnly ? 'my-bigger-button' : ''}`}>Mégse</Link>\n                    </div>\n                    <div className=\"column jobbra\">\n                        <MyModal\n                            header=\"Biztosan törlöd ezt az éneket?\"\n                            generateTrigger={() => <button type=\"button\" className={`ui button negative ${isMobileOnly ? 'my-bigger-button' : ''}`}>Ének törlése</button>}\n                            closeText=\"Mégse\"\n                            approveText=\"Törlés\"\n                            onApprove={props.onDeleteClick}\n                            negative\n                            id={3}\n                        >\n                            {`Biztosan törlöd a(z) ${props.initialValues.title} éneket? Ezt később nem tudod visszavonni!`}\n                        </MyModal>\n                    </div>\n                </div>\n                <div className=\"ui vertical divider\">\n                    vagy\n                </div>\n            </div>\n        )\n    }\n\n    return (\n        <>\n            <form className=\"ui form error\" onSubmit={props.handleSubmit(onSubmit)}>\n                <MyTooltip />\n                <div className=\"fields\">\n                    <Field wide=\"three wide\" tip=\"Az ének sorszáma. Egyedi, később nem változtatható\" name=\"id\" component={renderInput} label=\"Sorszám\" type=\"number\" props={{ disabled: props.edit}}/>\n                    <Field wide=\"thirteen wide\" name=\"title\" component={renderInput} label=\"Cím\" type=\"text\"/>\n                </div>\n                <Field tip=\"Az alkalmazás dupla sorközöknél bontja versszakokra a szöveget.\" name=\"lyrics\" component={renderTextArea} label=\"Dalszöveg\"/>\n                {buttons()}\n            </form>\n            {props.children}\n        </>\n    )\n}\n\nconst validate = formValues => {\n    const errors = {}\n    if (!formValues.id) {\n        errors.id = 'Add meg az ének sorszámát!'\n    }\n    if (!formValues.title) {\n        errors.title = 'Add meg az ének címét!'\n    }\n    if (!formValues.lyrics) {\n        errors.lyrics = 'Add meg a dalszöveget!'\n    }\n    return errors\n}\n\nexport default reduxForm({\n    form: 'songForm',\n    validate\n})(SongForm)","import React from 'react'\r\nimport { connect } from 'react-redux'\r\n\r\nimport SongForm from './SongForm'\r\nimport MyLoader from '../MyLoader'\r\n\r\nimport { createSong, fetchSongs } from '../../actions/songActions'\r\nimport { stopPlaylist, toggleVisibility,  } from '../../actions/playlistActions'\r\n\r\nclass SongCreate extends React.Component {\r\ncomponentDidMount() {\r\n    this.props.fetchSongs()\r\n    this.props.stopPlaylist()\r\n    if (this.props.plVisible) {\r\n        this.props.toggleVisibility()\r\n    }\r\n}\r\n\r\n    render() {\r\n        if (this.props.biggestID > 0) {\r\n            return (\r\n                <div className=\"ui container\">\r\n                    <h2 className=\"ui header\">\r\n                        Új ének felvétele\r\n                    </h2>\r\n                    <SongForm onSubmit={this.props.createSong} initialValues={{ id: this.props.biggestID + 1}}/>\r\n                </div>\r\n            )\r\n        } else {\r\n            return <MyLoader />\r\n        }\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        plVisible: state.playlist.visible,\r\n        biggestID: Math.max(...Object.values(state.songs).map(song => song.id))\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, { createSong, stopPlaylist, toggleVisibility, fetchSongs })(SongCreate)","import React from 'react'\nimport { connect } from 'react-redux'\n\nimport SongForm from './SongForm'\n\nimport { editSong, fetchSong, deleteSong } from '../../actions/songActions'\nimport { stopPlaylist, toggleVisibility } from '../../actions/playlistActions'\nimport MyLoader from '../MyLoader'\n\nclass SongEdit extends React.Component {\n    componentDidMount() {\n        this.props.fetchSong(this.props.match.params.id)\n        this.props.stopPlaylist()\n        if (this.props.plVisible) {\n            this.props.toggleVisibility()\n        }\n    }\n\n    render() {\n        if (!this.props.song) {\n            return <MyLoader />\n        }\n        const song = this.props.song\n        return (\n            <div className=\"ui container\">\n                <h2 className=\"ui header\">\n                    Ének szerkesztése\n                </h2>\n                <SongForm\n                    onSubmit={(formValues) => this.props.editSong(this.props.match.params.id, formValues)}\n                    initialValues={{id: song.id, title: song.title, lyrics: song.verses.join('\\n\\n')}}\n                    edit id={song.id} onDeleteClick={() => this.props.deleteSong(parseInt(this.props.match.params.id))}\n                />\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = (state, ownProps) => {\n    return {\n        song: state.songs[ownProps.match.params.id],\n        plVisible: state.playlist.visible\n    }\n}\n\nexport default connect(mapStateToProps, { editSong, fetchSong, stopPlaylist, toggleVisibility, deleteSong })(SongEdit)","import React from 'react'\nimport { connect } from 'react-redux'\nimport { Link } from 'react-router-dom'\nimport { isMobileOnly } from 'react-device-detect'\n\nimport '../../styles.css'\n\nimport { fetchSong } from '../../actions/songActions'\nimport { addToPlaylist, toggleVisibility } from '../../actions/playlistActions'\nimport { removeAlert } from '../../actions/alertActions'\n\nimport MyLoader from '../MyLoader'\nimport Page from '../Page'\nimport MyButton from '../MyButton'\nimport MyTooltip from '../MyTooltip'\n\nconst SMALL_FONT_SIZE = 18\nconst BIG_FONT_SIZE = 60\n\nclass SongShow extends React.Component {\n    state = {\n        fontSize: SMALL_FONT_SIZE,\n        deleteModalActive: false,\n        deletePassword: '',\n        oneVerseModeActive: false,\n        currentVerse: 0,\n        showButtons: !isMobileOnly,\n        twoColumnMode: false\n    }\n\n    componentDidMount() {\n        this.props.removeAlert()\n        this.props.fetchSong(this.props.match.params.id)\n    }\n\n    componentDidUpdate(prevProps) {\n        if (prevProps.song) {\n            if (prevProps.song.id !== this.props.song.id) {\n                this.setState({ currentVerse: 0})\n            }\n        }\n    }\n\n    handleKeyDown = (e) => {\n        switch(e.code) {\n            case 'ArrowRight':\n                this.handleVerseChange(true)\n                break\n            case 'ArrowLeft':\n                this.handleVerseChange(false)\n                break\n            default:\n        }\n    }\n\n    onSizeChange = (increase) => {\n        if (increase && this.state.fontSize < 70) {\n            this.setState({fontSize: this.state.fontSize + 3})\n        } else if (!increase && this.state.fontSize > 8) {\n            this.setState({fontSize: this.state.fontSize - 3})\n        }\n    }\n\n    handleModeSwitch = () => {\n        if (this.state.oneVerseModeActive) {\n            this.setState({oneVerseModeActive: false, fontSize: SMALL_FONT_SIZE})\n        } else {\n            this.setState({oneVerseModeActive: true, fontSize: BIG_FONT_SIZE})\n        }\n    }\n\n    handleVerseChange = forward => {\n        if (forward) {\n            this.setState({currentVerse: (this.state.currentVerse + 1) % this.props.song.verses.length})\n        } else {\n            if (this.state.currentVerse === 0) {\n                this.setState({currentVerse: (this.props.song.verses.length - 1)})\n            } else {\n                this.setState({currentVerse: (this.state.currentVerse - 1) % this.props.song.verses.length})\n            }\n        }\n    }\n\n    handleFontSizeReset = () => {\n        if (this.state.oneVerseModeActive) {\n            this.setState({ fontSize: BIG_FONT_SIZE })\n        } else {\n            this.setState({ fontSize: SMALL_FONT_SIZE })\n        }\n    }\n\n    onPlaylistAdd = () => {\n        this.props.addToPlaylist(parseInt(this.props.match.params.id))\n        if (!this.props.plVisible) {\n            this.props.toggleVisibility()\n        }\n    }\n\n    renderLine = (line, idx) => <React.Fragment key={idx}>{line}<br/></React.Fragment>\n\n    renderVerse = (verse, idx) => {\n        const lines = verse.split('\\n').map((line, idx) => this.renderLine(line, idx))\n        return (\n            <p style={{fontSize: `${this.state.fontSize}px`}} key={idx}>\n                {lines}\n            </p>\n        )\n    }\n\n    renderVerses = () => {\n        if (!this.state.oneVerseModeActive) {\n            if (this.state.twoColumnMode) {\n                const firstColumn = this.props.song.verses.map((verse, idx) => {\n                    if (idx + 1 <= Math.ceil(this.props.song.verses.length / 2)) {\n                        return this.renderVerse(verse, idx)\n                    } else {\n                        return null\n                    }\n                })\n                const secondColumn = this.props.song.verses.map((verse, idx) => {\n                    if (idx + 1 > Math.ceil(this.props.song.verses.length / 2)) {\n                        return this.renderVerse(verse, idx)\n                    } else {\n                        return null\n                    }\n                })\n                return (\n                    <div className=\"ui container grid\">\n                        <div className=\"eight wide column\">\n                            {firstColumn}\n                        </div>\n                        <div className=\"eight wide column\">\n                            {secondColumn}\n                        </div>\n                    </div>\n                )\n            } else {\n                return <div className=\"ui container\"> {this.props.song.verses.map((verse, idx) => {\n                    return this.renderVerse(verse, idx)\n                })}</div>\n            }\n        }\n        if (!this.props.song.verses[this.state.currentVerse]) {\n            return <MyLoader />\n        }\n        const lines = this.props.song.verses[this.state.currentVerse].split('\\n').map((line, idx) => this.renderLine(line, idx))\n        return (\n            <div>\n                <p style={{fontSize: `${this.state.fontSize}px`}}>\n                    {lines}\n                </p>\n            </div>\n        )\n\n    }\n\n    renderButtons = () => {\n        const editButton = this.props.signedIn ? <Link data-tip=\"Ének szerkeztése vagy törlése\" className=\"ui button my-button icon yellow\" to={`/dicsi/songs/edit/${this.props.match.params.id}`}><i className=\"icon edit\"></i></Link> : null\n\n        const desktopButton = !isMobileOnly && this.state.showButtons ? (\n            <>\n                <MyButton tip=\"Előző versszak\" disabled={!this.state.oneVerseModeActive} color=\"teal\" onClick={() => this.handleVerseChange(false)} icons={[\" step backward icon\" ]} />\n                <MyButton tip=\"Egyversszak mód be- és kikapcsolása\" color=\"green\" onClick={this.handleModeSwitch} icons={[\"play\" ]} />\n                <MyButton tip=\"Következő vesszak\" disabled={!this.state.oneVerseModeActive} color=\"teal\" onClick={() => this.handleVerseChange(true)} icons={[\" step forward icon\" ]} />\n            </>\n        ) : null\n        const optionalButtons = this.state.showButtons ? (\n            <>\n                <Link data-tip=\"Vissza a kereséshez\" className=\"ui button my-button icon grey\" to=\"/dicsi/\"><i className=\"icon search\"></i></Link>\n                {editButton}\n                <MyButton tip={`${this.state.twoColumnMode ? \"Egy\" : \"Két\"} hasáb`} color=\"primary\" onClick={() => this.setState({twoColumnMode: !this.state.twoColumnMode})} disabled={this.state.oneVerseModeActive} icons={[`${this.state.twoColumnMode ? 'align justify' : 'columns'}`]} />\n                <MyButton tip=\"Betűméret csökkentése\" color=\"primary\" onClick={() => this.onSizeChange(false)} icons={[\"font\", \"arrow down\" ]} />\n                <MyButton tip=\"Betűméret növelése\" color=\"primary\" onClick={() => this.onSizeChange(true)} icons={[\"font\", \"arrow up \" ]} />\n                <MyButton tip=\"Betűméret visszaállítása\" color=\"primary\" onClick={this.handleFontSizeReset} icons={[\"font\", \"undo\" ]} />\n                <MyButton tip=\"Hozzáadás a lejátszási listához\" color=\"green\" onClick={this.onPlaylistAdd } icons={[\"plus\" ]} />\n                <MyButton color=\"green\" onClick={this.props.toggleVisibility} icons={[\"play circle\"]} text=\" Lejátszási lista\"/>\n            </>\n        ) : null\n        return (\n            <>\n                {optionalButtons}\n                {desktopButton}\n            </>\n        )\n    }\n\n    renderTitle = () => {\n        if (isMobileOnly) {\n            return (\n                <>\n                    {this.renderButtons()}\n                    <div className=\"right-left\">\n                        <h2 className=\"vert-centered\">{this.props.song.id}. {this.props.song.title} </h2>\n                        <MyButton color=\"gray\" onClick={()=>this.setState({showButtons: !this.state.showButtons})} icons={[\"bars\"]} tip=\"Gombok elrejtése/előhozása\"/>\n                    </div>\n                    <div className=\"ui divider\"></div>\n                </>\n            )\n        }\n        return (\n            <>\n                <div className=\"right-left m-top\">\n                    <h2 className=\"vert-centered\">{this.props.song.id}. {this.props.song.title} </h2>\n                    <h2 className=\"vert-centered\">{this.state.oneVerseModeActive ? `${this.state.currentVerse + 1}/${this.props.song.verses.length}` : ''}</h2>\n                    <div>\n                        <MyButton color=\"gray\" onClick={()=>this.setState({showButtons: !this.state.showButtons})} icons={[\"bars\"]} tip=\"Gombok elrejtése/előhozása\"/>\n                        {this.renderButtons()}\n                    </div>\n                </div>\n                <div className=\"ui divider\"></div>\n            </>\n\n        )\n    }\n\n    render() {\n        if (this.props.song) {\n            return (\n                <Page path={this.props.location.pathname}>\n                    <MyTooltip />\n                    <div className=\"ui container\" onKeyDown={this.handleKeyDown}>\n                        <div className=\"full-screen\">\n                            {this.renderTitle()}\n                            {this.renderVerses()}\n                        </div>\n                    </div>\n                </Page>\n            )\n        }\n        return <MyLoader />\n    }\n}\n\nconst mapStateToProps = (state, ownProps) => {\n    return {\n        song: state.songs[ownProps.match.params.id],\n        plVisible: state.playlist.visible,\n        signedIn: state.auth.signedIn\n    }\n}\n\nexport default connect(mapStateToProps, { fetchSong, removeAlert, addToPlaylist, toggleVisibility })(SongShow)","import { db } from '../api'\r\nimport history from '../history'\r\nimport { handleError } from '../util'\r\nimport { LOGIN, LOGOUT } from './types'\r\nimport { Cookies } from 'react-cookie'\r\n\r\nexport const login = ({ username, password }) => async dispatch => {\r\n    try {\r\n        const response = await db.post('/api-token-auth/', { username, password })\r\n        dispatch({ type: LOGIN, payload: response.data.token })\r\n        const cookieManager = new Cookies()\r\n        cookieManager.set('token', response.data.token, {\r\n            path: '/dicsi',\r\n            maxAge: 12*31*24*60*60\r\n        })\r\n        history.goBack()\r\n    } catch (err) {\r\n        handleError(err, dispatch)\r\n    }\r\n}\r\n\r\nexport const loginFromCookie = token => {\r\n    return { type: LOGIN, payload: token }\r\n}\r\n\r\nexport const logout = () => {\r\n    const cookieManager = new Cookies()\r\n    cookieManager.remove('token', {\r\n        path: '/dicsi',\r\n        maxAge: 12*31*24*60*60\r\n    })\r\n    return { type: LOGOUT }\r\n}","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Field, reduxForm } from 'redux-form'\r\n\r\nimport { login } from '../../actions/authActions'\r\n\r\nconst renderInput = ({ input, label, meta, type }) => {\r\n    return (\r\n        <div className={`field ${meta.error && meta.touched ? 'error' : ''}`}>\r\n            <label>{label}</label>\r\n            <input {...input} type={type} autoComplete=\"off\" />\r\n            {renderError(meta)}\r\n        </div>\r\n    )\r\n}\r\n\r\nconst renderError = ({ error, touched }) => {\r\n    if (touched && error) {\r\n        return (\r\n            <div className=\"ui error message\">\r\n                <div className=\"header\">\r\n                    {error}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst Login = (props) => {\r\n\r\n    const onSubmit = (formValues) => {\r\n        props.login(formValues)\r\n    }\r\n\r\n    return (\r\n        <div className=\"ui container\">\r\n            <form className=\"ui form error\" onSubmit={props.handleSubmit(onSubmit)}>\r\n                <Field name=\"username\" component={renderInput} label=\"Felhasználónév\" type=\"text\" />\r\n                <Field name=\"password\" component={renderInput} label=\"Jelszó\" type=\"password\"/>\r\n                <button className=\"ui button primary\">Bejelentkezés</button>\r\n            </form>\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nconst validate = formValues => {\r\n    const errors = {}\r\n    if (!formValues.username) {\r\n        errors.username = 'Add meg a felhasználónevet!'\r\n    }\r\n    if (!formValues.password) {\r\n        errors.password = 'Add meg a jelszót!'\r\n    }\r\n    return errors\r\n}\r\n\r\nexport default reduxForm({\r\n    form: 'authForm',\r\n    validate\r\n})(connect(null, { login })(Login))","import React from 'react'\nimport { connect } from 'react-redux'\nimport { Link } from 'react-router-dom'\n\nimport { moveInPlaylist, removeFromPlaylist, playlistStep } from '../actions/playlistActions'\n\nconst PlaylistItem = props => {\n    const upDisabled = props.idx === 0\n    const downDisabled = props.idx === props.length - 1\n    const handleClick = () => {\n        if (props.playlist) {\n            props.playlistStep(props.idx)\n        }\n    }\n\n    return (\n        <div className={`item my-item ${props.currentIndex === props.idx ? 'activeInPlaylist' : ''}`}>\n            <h5 className=\"header\">\n                {!props.unmodifiable && (\n                    <>\n                        <i className={`${upDisabled ? 'grey' : 'pointer'} icon caret up bigger-icon`} onClick={() => props.moveInPlaylist(props.idx, true, props.playlistId)}></i>\n                        <i className={`${downDisabled ? 'grey' : 'pointer'} icon caret down bigger-icon`} onClick={() => props.moveInPlaylist(props.idx, false, props.playlistId)}></i>\n                    </>\n                )}\n                <Link to={`/dicsi/songs/${props.song.id}`} onClick={handleClick} className=\"notLinkStyle pointer\">{props.song.id}. {props.song.title}</Link>\n\n                {!props.unmodifiable && (\n                    <div className=\"right floated\">\n                        <i className=\"icon minus circle red pointer\" onClick={() => props.removeFromPlaylist(props.song.id, props.playlistId)}></i>\n                    </div>\n                )}\n            </h5>\n        </div>\n    )\n\n}\n\nexport default connect(null, {moveInPlaylist, removeFromPlaylist, playlistStep})(PlaylistItem)","import React from 'react'\nimport { connect } from 'react-redux'\nimport { Accordion, Icon } from 'semantic-ui-react'\nimport { isMobileOnly } from 'react-device-detect'\nimport _ from 'lodash'\n\nimport { fetchSongs } from '../../actions/songActions'\nimport { fetchPlaylists, loadPlaylist, clearPlaylist } from '../../actions/playlistActions'\nimport MyLoader from '../MyLoader'\nimport Page from '../Page'\nimport MyTooltip from '../MyTooltip'\nimport MyModal from '../MyModal'\nimport PlaylistItem from '../PlaylistItem'\nimport MyButton from '../MyButton'\nimport { newAlert } from '../../actions/alertActions'\n\nclass PlaylistList extends React.Component {\n    state = {\n        activePlaylist: -1,\n    }\n\n    componentDidMount() {\n        this.props.fetchSongs()\n        this.props.fetchPlaylists()\n    }\n\n    handleClick(idx) {\n        this.setState({ activePlaylist: this.state.activePlaylist === idx ? -1 : idx })\n    }\n\n    copyLink(id) {\n        navigator.clipboard.writeText(`https://okgy.hu/dicsi/playlists/${id}`)\n        this.props.newAlert('A lejátszási lista linkje a vágólapra másolva', 'success')\n    }\n\n    generateDateAdded(date) {\n        return (\n            <p>Létrehozva: {new Date(Date.parse(date)).toLocaleDateString('hu-HU')}</p>\n        )\n    }\n\n    render() {\n        if (this.props.playlistList.loaded) {\n            return (\n                <Page path={this.props.location.pathname}>\n                    <div className=\"ui container\">\n                        <MyTooltip />\n                        <h2>Lejátszási listák</h2>\n                        {(this.props.playlistList.list && this.props.playlistList.list.length > 0 && !_.isEmpty(this.props.songs)) ? (\n                        <Accordion fluid styled>\n                            {this.props.playlistList.list.map(playlist => (\n                                <div key={playlist.id}>\n                                    <Accordion.Title\n                                        active={this.state.activePlaylist === playlist.id}\n                                        onClick={() => this.handleClick(playlist.id)}\n                                    >\n                                        <div className='right-left'>\n                                            <h3>\n                                                <Icon name='dropdown' />\n                                                {playlist.name}\n                                            </h3>\n                                            { !isMobileOnly && this.generateDateAdded(playlist.created_at) }\n                                        </div>\n                                    </Accordion.Title>\n                                    <Accordion.Content active={this.state.activePlaylist === playlist.id}>\n                                        { isMobileOnly && this.generateDateAdded(playlist.created_at) }\n                                        <MyButton tip=\"Betöltés\" color=\"green\" onClick={() => this.props.loadPlaylist(playlist.id, true)} icons={[\"play circle\"]} />\n                                        <MyButton tip=\"Megosztás\" color=\"purple\" onClick={() => this.copyLink(playlist.id)} icons={[\"share alternate\"]} />\n                                        <MyButton tip=\"Duplikálás\" color=\"blue\" onClick={() => this.props.loadPlaylist(playlist.id, false)} icons={[\"copy\"]} />\n                                        {this.props.signedIn && (\n                                            <MyModal\n                                                header=\"Biztosan törlöd a lejátszási listát?\"\n                                                generateTrigger={() => <MyButton tip=\"Törlés\" color=\"red\" icons={[\"trash alternate\"]} />}\n                                                closeText=\"Mégse\"\n                                                approveText=\"Törlés\"\n                                                onApprove={() => this.props.clearPlaylist(playlist.id)}\n                                                negative\n                                                id={playlist.id}\n                                            >\n                                                Biztosan törlöd a lejátszási listát az adatbázisból? Ezt később nem tudod visszavonni! \n                                            </MyModal>\n                                        )}\n                                        <div className=\"ui relaxed divided ordered list\">\n                                            {playlist.songs.length > 0 ? playlist.songs.map((songId, idx) => (\n                                                <PlaylistItem key={idx} song={this.props.songs[songId]} idx={idx} length={playlist.songs.length} unmodifiable={!this.props.signedIn} playlistId={playlist.id} />\n                                            )) : <p className=\"centered-text\">A lejátszási lista üres</p>}\n                                        </div>\n                                    </Accordion.Content>\n                                </div>\n                            ))}\n                        </Accordion>\n                        ) : (\n                            <p className=\"big-text centered-text\">Nincs találat!</p>\n                        )}\n                    </div>\n                </Page>\n            )\n        }\n        return <MyLoader />\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        songs: state.songs,\n        playlistList: state.playlistList,\n        signedIn: state.auth.signedIn,\n    }\n}\n\nexport default connect(mapStateToProps, {fetchPlaylists, fetchSongs, loadPlaylist, newAlert, clearPlaylist})(PlaylistList)\n","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport { connect } from 'react-redux'\n\nimport '../styles.css'\nimport { logout } from '../actions/authActions'\n\nconst Footer = (props) => {\n\n    const authLink = props.signedIn\n    // eslint-disable-next-line\n    ? <a className=\"header-link pointer\" onClick={() => props.logout()}>Kijelentkezés</a>\n    : <Link to=\"/dicsi/login\" className=\"header-link centered-text\">Admin bejelentkezés</Link>\n\n    return (\n        <div className=\"footer-container centered-container two-column small-text\">\n            <p className=\"centered-text\">Készítette: Fekete Sámuel&nbsp;\n            <a target=\"_blank\" rel=\"noreferrer\" href=\"https://github.com/Tschonti/dicsi-frontend\"><i aria-label=\"Forráskód a Github-on\" className=\"icon github\"></i></a><br/>&nbsp;az&nbsp;\n            <a target=\"_blank\" rel=\"noreferrer\" href=\"https://okgy.hu/\">Örömhír Keresztény Gyülekezet</a> számára</p>\n            {authLink}\n        </div>\n    )\n}\n\nconst mapStateToProps = state => {\n    return { signedIn: state.auth.signedIn }\n}\n\nexport default connect(mapStateToProps, { logout })(Footer)","import React, { useState } from 'react'\nimport { Link } from 'react-router-dom'\nimport Alert from '@material-ui/lab/Alert'\nimport { connect } from 'react-redux'\nimport { isMobileOnly } from 'react-device-detect'\n\nimport '../styles.css'\nimport { removeAlert } from '../actions/alertActions'\nimport { logout } from '../actions/authActions'\n\n\nconst Header = (props) => {\n    const [menuOpen, setMenuOpen] = useState(false)\n\n    const alert = props.alert.msg ?\n        <Alert onClose={() => {props.removeAlert()}} severity={props.alert.type} >\n            {props.alert.msg}\n        </Alert>\n        : null\n    \n    const authLink = props.signedIn\n        ? <p className=\"item header-link\" onClick={() => {props.logout();setMenuOpen(!menuOpen)}}>Kijelentkezés</p>\n        : <Link to=\"/dicsi/login\" className=\"item header-link\" onClick={() => setMenuOpen(!menuOpen)}>Admin bejelentkezés</Link>\n\n    const newSong = props.signedIn ? <Link to=\"/dicsi/songs/new\" className=\"item header-link\" onClick={() => setMenuOpen(false)}>Új ének</Link> : null\n\n    if (isMobileOnly) {\n        return (\n            <div className=\"ui secondary vertical menu my-mobile-header\">\n                <div className=\"right-left\">\n                    <Link to=\"/dicsi\" className=\"item\" onClick={() => setMenuOpen(false)}>\n                        <h2>ÖKGY Énekeskönyv</h2>\n                    </Link>\n                    <div className='vert-centered'>\n                        <i className=\"icon bars\" onClick={() => setMenuOpen(!menuOpen)}></i>\n                    </div>\n                </div>\n                {menuOpen && (\n                    <div >\n                        <Link to=\"/dicsi\" className=\"item header-link\" onClick={() => setMenuOpen(false)}>Énekek listája</Link>\n                        {newSong}\n                        <Link to=\"/dicsi/playlists\" className=\"item header-link\" onClick={() => setMenuOpen(false)}>Lejátszási listák</Link>\n                        {authLink}\n                    </div>\n                )}\n                <div className=\"centered\">\n                    {alert}\n                </div>\n            </div>\n        )\n    }\n    return (\n        <div className=\"ui secondary pointing menu my-header\">\n            <Link to=\"/dicsi\" className=\"item \">\n                <h2>ÖKGY Énekeskönyv</h2>\n            </Link>\n            <Link to=\"/dicsi\" className=\"item header-link\">Énekek listája</Link>\n            {newSong}\n            <Link to=\"/dicsi/playlists\" className=\"item header-link\">Lejátszási listák</Link>\n            <div className=\"centered\">\n                {alert}\n            </div>\n        </div>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        alert: state.alert,\n        signedIn: state.auth.signedIn\n    }\n}\n\nexport default connect(mapStateToProps, { removeAlert, logout })(Header)","import React from 'react'\nimport { Field, reduxForm } from 'redux-form'\n\nimport MyButton from './MyButton'\nimport MyModal from './MyModal'\n\nconst renderInput = ({ input, label, meta, type }) => {\n    return (\n        <div className={`${meta.error && meta.touched ? 'error' : ''}`}>\n            <label>{label}</label>\n            <input {...input} type={type} autoComplete=\"off\" />\n            {renderError(meta)}\n        </div>\n    )\n}\n\nconst renderError = ({ error, touched }) => {\n    if (touched && error) {\n        return (\n            <div className=\"ui error message\">\n                <div className=\"header\">\n                    {error}\n                </div>\n            </div>\n        )\n    }\n}\n\nconst PlaylistForm = props => {\n    const onSubmit = formValues => {\n        props.onSubmit(formValues)\n    }\n\n    return (\n        <MyModal\n            header=\"Lejátszási lista mentése\"\n            generateTrigger={() => <MyButton disabled={props.disabled} tip=\"Lejátszási lista mentése\" color=\"purple\" icons={[\"save\"]} />}\n            closeText={'Mégse'}\n            approveText={'Mentés'}\n            onApprove={props.handleSubmit(onSubmit)}\n            primary\n            id={2}\n        >\n            <form className=\"ui form error\" onSubmit={props.handleSubmit(onSubmit)}>\n                <Field label=\"Lejátszási lista neve\" name=\"name\" type=\"text\" component={renderInput} />\n            </form>\n        </MyModal>\n    )\n\n}\n\nconst validate = formValues => {\n    const errors = {}\n    if (!formValues.name) {\n        errors.name = 'Add meg a lejátszási lista nevét!'\n    }\n    return errors\n}\n\nexport default reduxForm({\n    form: 'playlistForm',\n    validate\n})(PlaylistForm)","import React from 'react'\nimport { connect }  from 'react-redux'\nimport _ from 'lodash'\n\nimport { fetchSongs } from '../actions/songActions'\nimport {\n    playlistNext,\n    startPlaylist,\n    clearPlaylist,\n    removeFromPlaylist,\n    toggleVisibility,\n    moveInPlaylist,\n    savePlaylist,\n    unloadPlaylist,\n} from '../actions/playlistActions'\nimport { newAlert } from '../actions/alertActions'\n\nimport MyButton from './MyButton'\nimport MyTooltip from './MyTooltip'\nimport MyModal from './MyModal'\nimport PlaylistItem from './PlaylistItem'\nimport PlaylistForm from './PlaylistForm'\n\n\nclass Playlist extends React.Component {\n    state = {\n        open: true,\n    }\n\n    componentDidMount() {\n        this.props.fetchSongs()\n    }\n\n    renderSongList = (modifiable) => {\n        if (_.isEmpty(this.props.songs) || !this.state.open || !this.props.playlist.songs) {\n            return null\n        }\n        const list = this.props.playlist.songs.map((songId, idx) => {\n            const song = this.props.songs.find(el => el.id === songId)\n            return song && <PlaylistItem key={idx} song={song} idx={idx} length={this.props.playlist.songs.length} currentIndex={this.props.playlist.currentIndex} unmodifiable={!modifiable} playlist playlistId={this.props.playlist.loaded} />\n        })\n\n        const empty = list.length > 0 ? '' : (<p className=\"centered-text\">A lejátszási lista üres</p>)\n        return (\n            <>\n                <div className=\"ui relaxed divided ordered list\">\n                    {list}\n                </div>\n                {empty}\n            </>\n        )\n    }\n\n    onClose = (e) => {\n        this.props.toggleVisibility()\n        e.stopPropagation()\n    }\n\n    copyLink(id) {\n        navigator.clipboard.writeText(`https://okgy.hu/dicsi/playlists/${id}`)\n        this.props.newAlert('A lejátszási lista linkje a vágólapra másolva', 'success')\n    }\n\n    render() {\n        //TODO dupla tool-tip\n        if (!this.props.playlist.visible || !this.props.playlist.songs) {\n            return null\n        }\n        const currentIndex = this.props.playlist.songs.length === 0 ? 0 : this.props.playlist.currentIndex + 1\n        const extraButtons = this.state.open ? (\n            <div className=\"right-left pointer\" onClick={() => this.setState({open: !this.state.open})}>\n                <i className={`icon ${this.state.open ? 'minus' : 'plus'}`}></i>\n                <i className=\"red icon close\" onClick={this.onClose}></i>\n            </div>\n        ) : null\n        const modifiable = !this.props.playlist.loaded || this.props.signedIn\n        return (\n            <>\n                <div className=\"playlist-container\">\n                    <MyTooltip />\n                    <div className=\"right-left pointer\" onClick={() => this.setState({open: !this.state.open})}>\n                        <h3>{this.props.playlist.loaded ? this.props.playlist.loadedName : 'Lejátszási lista'} {`${currentIndex}/${this.props.playlist.songs.length}`}</h3>\n                        <div>\n                            <i className={`icon ${this.state.open ? 'minus' : 'plus'}`}></i>&nbsp;&nbsp;\n                            <i className=\"red icon close\" onClick={this.onClose}></i>\n                        </div>\n                    </div>\n                    <div className=\"centered-container\">\n                        {this.props.signedIn && !this.props.playlist.loaded && (\n                            <PlaylistForm onSubmit={(formData) => this.props.savePlaylist(formData)} disabled={this.props.playlist.songs.length === 0} />\n                        )}\n                        {this.props.playlist.loaded ? (\n                            <>\n                                <MyButton tip=\"Üres listára váltás\" color=\"orange\" onClick={this.props.unloadPlaylist} icons={[\"file outline\"]} />\n                                <MyButton tip=\"Megosztás\" color=\"purple\" onClick={() => this.copyLink(this.props.playlist.loaded )} icons={[\"share alternate\"]} />\n                            </>\n\n                        ) : (\n                            <MyModal\n                                header=\"Biztosan törlöd a lejátszási listát?\"\n                                generateTrigger={() => <MyButton disabled={this.props.playlist.songs.length === 0 && !this.props.playlist.loaded} tip=\"Lejátszási lista törlése\" color=\"negative\" icons={[\"trash alternate\"]} />}\n                                closeText=\"Mégse\"\n                                approveText=\"Törlés\"\n                                onApprove={this.props.clearPlaylist}\n                                negative\n                                id={1}\n                            >\n                                Biztosan üríted a lejátszási listát? Ezt később nem tudod visszavonni!\n                            </MyModal>\n                        )}\n                        <MyButton disabled={!this.props.playlist.active} tip=\"Előző ének\" color=\"blue\" onClick={() => this.props.playlistNext(false, this.props.playlist)} icons={[\"backward\"]} />\n                        <MyButton disabled={this.props.playlist.active || this.props.playlist.songs.length === 0} tip=\"Lejátszási lista indítása\" color=\"green\" onClick={() => this.props.startPlaylist(this.props.playlist)} icons={[\"play\"]} />\n                        <MyButton disabled={!this.props.playlist.active} tip=\"Következő ének\" color=\"blue\" onClick={() => this.props.playlistNext(true, this.props.playlist)} icons={[\"forward\"]} />\n                    </div>\n                    {this.renderSongList(modifiable)}\n                    {extraButtons}\n                </div>\n            </>\n        )\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        songs: Object.values(state.songs),\n        playlist: state.playlist,\n        signedIn: state.auth.signedIn\n    }\n}\n\nexport default connect(mapStateToProps, {\n    fetchSongs,\n    playlistNext,\n    startPlaylist,\n    clearPlaylist,\n    removeFromPlaylist,\n    toggleVisibility,\n    moveInPlaylist,\n    savePlaylist,\n    unloadPlaylist,\n    newAlert,\n})(Playlist)","import React from 'react'\nimport { connect }  from 'react-redux'\nimport { Router, Route, Switch } from 'react-router-dom'\nimport { Cookies } from 'react-cookie'\n\nimport SongList from './screens/SongList'\nimport SongCreate from './screens/SongCreate'\nimport SongEdit from './screens/SongEdit'\nimport SongShow from './screens/SongShow'\nimport Login from './screens/Login'\nimport PlaylistList from './screens/PlaylistList'\n\nimport Footer from './Footer'\nimport Header from './Header'\nimport Playlist from './Playlist'\n\nimport history from '../history'\nimport { loadPlaylist, recoverState } from '../actions/playlistActions'\nimport { loginFromCookie } from '../actions/authActions'\n\n\nclass App extends React.Component {\n    componentDidMount() {\n        const c = new Cookies()\n        const tokenCookie = c.get('token')\n        if (tokenCookie) {\n            this.props.loginFromCookie(tokenCookie)\n        }\n        this.props.recoverState()\n    }\n\n    render() {\n        return (\n            <div>\n                <Router history={history}>\n                    <Header />\n                    <Switch>\n                        <Route path=\"/dicsi/\" exact component={SongList} />\n                        <Route path=\"/dicsi/songs/new\" exact component={SongCreate} />\n                        <Route path=\"/dicsi/songs/edit/:id\" exact component={SongEdit} />\n                        <Route path=\"/dicsi/songs/:id\" exact component={SongShow} />\n                        <Route path=\"/dicsi/login\" exact component={Login} />\n                        <Route path=\"/dicsi/playlists\" exact component={PlaylistList} />\n                        <Route path=\"/dicsi/playlists/:id\" exact render={({match}) => {\n                            this.props.loadPlaylist(match.params.id, true)\n                            history.push('/dicsi/')\n                        }} />\n                    </Switch>\n                    <Footer />\n                    <Playlist />\n                </Router>\n            </div>\n        )\n    }\n\n}\n\nconst mapStateToProps = state => {\n    return {\n        signedIn: state.auth.signedIn\n    }\n}\n\n\nexport default connect(mapStateToProps, { loadPlaylist, recoverState, loginFromCookie })(App)","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport { Provider } from 'react-redux'\r\nimport { createStore, applyMiddleware, compose } from 'redux'\r\nimport reduxThunk from 'redux-thunk'\r\nimport { save, load } from \"redux-localstorage-simple\"\r\nimport 'semantic-ui-css/semantic.min.css'\r\n\r\nimport combinedReducer from './reducers'\r\nimport App from './components/App'\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nconst createStoreWithMiddleware = composeEnhancers(applyMiddleware(save({ states: [\"playlist\"], debounce: 500}), reduxThunk))(createStore)\r\nconst store = createStoreWithMiddleware(combinedReducer, load({ states: [\"playlist\"]}))\r\n\r\nReactDOM.render(\r\n    <Provider store={store}>\r\n        <App />\r\n    </Provider>,\r\n    document.getElementById('root'))"],"sourceRoot":""}